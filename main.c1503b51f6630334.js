"use strict";(self.webpackChunkmuseum_ticket_shop=self.webpackChunkmuseum_ticket_shop||[]).push([[179],{2011:(vt,Me,V)=>{V.d(Me,{Dh:()=>be,GT:()=>re,cc:()=>ke,hO:()=>ze,on:()=>Y,pX:()=>fe,xv:()=>Ee});var l=V(4650),z=V(9260),P=V(4976);vt=V.hmd(vt);const se=["ngOnDestroy"],fe=(Pe,Le,He,Ae={})=>new Proxy(Pe,{get:(Te,Fe)=>He.runOutsideAngular(()=>{var $e;if(Pe[Fe])return!(null===($e=Ae?.spy)||void 0===$e)&&$e.get&&Ae.spy.get(Fe,Pe[Fe]),Pe[Fe];if(se.indexOf(Fe)>-1)return()=>{};const Be=Le.toPromise().then(he=>{const et=he&&he[Fe];return"function"==typeof et?et.bind(he):et&&et.then?et.then(St=>He.run(()=>St)):He.run(()=>et)});return new Proxy(()=>{},{get:(he,et)=>Be[et],apply:(he,et,St)=>Be.then(dt=>{var Zt;const ft=dt&&dt(...St);return!(null===(Zt=Ae?.spy)||void 0===Zt)&&Zt.apply&&Ae.spy.apply(Fe,St,ft),ft})})})}),re=(Pe,Le)=>{Le.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(Ae=>{Object.defineProperty(Pe.prototype,Ae,Object.getOwnPropertyDescriptor(He.prototype||He,Ae))})})};class De{constructor(Le){return Le}}const be=new l.OlP("angularfire2.app.options"),Ee=new l.OlP("angularfire2.app.name");function Y(Pe,Le,He){const Te="object"==typeof He&&He||{};Te.name=Te.name||"string"==typeof He&&He||"[DEFAULT]";const $e=z.Z.apps.filter(Be=>Be&&Be.name===Te.name)[0]||Le.runOutsideAngular(()=>z.Z.initializeApp(Pe,Te));try{JSON.stringify(Pe)!==JSON.stringify($e.options)&&W("error",`${$e.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new De($e)}const W=(Pe,...Le)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Pe](...Le)},ie={provide:De,useFactory:Y,deps:[be,l.R0b,[new l.FiY,Ee]]};let ze=(()=>{class Pe{constructor(He){z.Z.registerVersion("angularfire",P.q4.full,"core"),z.Z.registerVersion("angularfire",P.q4.full,"app-compat"),z.Z.registerVersion("angular",l.q4F.full,He.toString())}static initializeApp(He,Ae){return{ngModule:Pe,providers:[{provide:be,useValue:He},{provide:Ee,useValue:Ae}]}}}return Pe.\u0275fac=function(He){return new(He||Pe)(l.LFG(l.Lbi))},Pe.\u0275mod=l.oAB({type:Pe}),Pe.\u0275inj=l.cJS({providers:[ie]}),Pe})();function ke(Pe,Le,He,Ae,Te){const[,Fe,$e]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===Pe)||[];if(Fe)return function Qe(Pe,Le){try{return Pe.toString()===Le.toString()}catch{return Pe===Le}}(Te,$e)||(we("error",`${Le} was already initialized on the ${He} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Te,was:$e})),Fe;{const Be=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Pe,Be,Te]),Be}}const ut=!!vt.hot,we=(Pe,...Le)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Pe](...Le)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(vt,Me,V)=>{V.d(Me,{q4:()=>Yl,iC:()=>Sf,fc:()=>Bd,HU:()=>su,vb:()=>If,JM:()=>Kl,u3:()=>Vd});var l=V(4650),z=V(259),P=V(5861),se=V(6881),fe=V(2090),re=V(4859),De=V(1877);const be=(w,D)=>D.some(M=>w instanceof M);let Ee,Y;const ze=new WeakMap,ke=new WeakMap,Qe=new WeakMap,ut=new WeakMap,we=new WeakMap;let He={get(w,D,M){if(w instanceof IDBTransaction){if("done"===D)return ke.get(w);if("objectStoreNames"===D)return w.objectStoreNames||Qe.get(w);if("store"===D)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return $e(w[D])},set:(w,D,M)=>(w[D]=M,!0),has:(w,D)=>w instanceof IDBTransaction&&("done"===D||"store"===D)||D in w};function Fe(w){return"function"==typeof w?function Te(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ie(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...D){return w.apply(Be(this),D),$e(ze.get(this))}:function(...D){return $e(w.apply(Be(this),D))}:function(D,...M){const U=w.call(Be(this),D,...M);return Qe.set(U,D.sort?D.sort():[D]),$e(U)}}(w):(w instanceof IDBTransaction&&function Le(w){if(ke.has(w))return;const D=new Promise((M,U)=>{const K=()=>{w.removeEventListener("complete",J),w.removeEventListener("error",ge),w.removeEventListener("abort",ge)},J=()=>{M(),K()},ge=()=>{U(w.error||new DOMException("AbortError","AbortError")),K()};w.addEventListener("complete",J),w.addEventListener("error",ge),w.addEventListener("abort",ge)});ke.set(w,D)}(w),be(w,function W(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,He):w)}function $e(w){if(w instanceof IDBRequest)return function Pe(w){const D=new Promise((M,U)=>{const K=()=>{w.removeEventListener("success",J),w.removeEventListener("error",ge)},J=()=>{M($e(w.result)),K()},ge=()=>{U(w.error),K()};w.addEventListener("success",J),w.addEventListener("error",ge)});return D.then(M=>{M instanceof IDBCursor&&ze.set(M,w)}).catch(()=>{}),we.set(D,w),D}(w);if(ut.has(w))return ut.get(w);const D=Fe(w);return D!==w&&(ut.set(w,D),we.set(D,w)),D}const Be=w=>we.get(w),St=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],Zt=new Map;function ft(w,D){if(!(w instanceof IDBDatabase)||D in w||"string"!=typeof D)return;if(Zt.get(D))return Zt.get(D);const M=D.replace(/FromIndex$/,""),U=D!==M,K=dt.includes(M);if(!(M in(U?IDBIndex:IDBObjectStore).prototype)||!K&&!St.includes(M))return;const J=function(){var ge=(0,P.Z)(function*(Xe,...Ze){const gt=this.transaction(Xe,K?"readwrite":"readonly");let Vt=gt.store;return U&&(Vt=Vt.index(Ze.shift())),(yield Promise.all([Vt[M](...Ze),K&&gt.done]))[0]});return function(Ze){return ge.apply(this,arguments)}}();return Zt.set(D,J),J}!function Ae(w){He=w(He)}(w=>({...w,get:(D,M,U)=>ft(D,M)||w.get(D,M,U),has:(D,M)=>!!ft(D,M)||w.has(D,M)}));const Co="@firebase/installations",gi="0.6.4",_r=1e4,zr=`w:${gi}`,$r="FIS_v2",Wo="https://firebaseinstallations.googleapis.com/v1",ae=36e5,Re=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xe(w){return w instanceof fe.ZR&&w.code.includes("request-failed")}function ot({projectId:w}){return`${Wo}/projects/${w}/installations`}function rn(w){return{token:w.token,requestStatus:2,expiresIn:Mn(w.expiresIn),creationTime:Date.now()}}function _n(w,D){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,P.Z)(function*(w,D){const U=(yield D.json()).error;return Re.create("request-failed",{requestName:w,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function mn({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function ti(w){return on.apply(this,arguments)}function on(){return(on=(0,P.Z)(function*(w){const D=yield w();return D.status>=500&&D.status<600?w():D})).apply(this,arguments)}function Mn(w){return Number(w.replace("s","000"))}function ct(){return(ct=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:D},{fid:M}){const U=ot(w),K=mn(w),J=D.getImmediate({optional:!0});if(J){const gt=yield J.getHeartbeatsHeader();gt&&K.append("x-firebase-client",gt)}const Xe={method:"POST",headers:K,body:JSON.stringify({fid:M,authVersion:$r,appId:w.appId,sdkVersion:zr})},Ze=yield ti(()=>fetch(U,Xe));if(Ze.ok){const gt=yield Ze.json();return{fid:gt.fid||M,registrationStatus:2,refreshToken:gt.refreshToken,authToken:rn(gt.authToken)}}throw yield _n("Create Installation",Ze)})).apply(this,arguments)}function Un(w){return new Promise(D=>{setTimeout(D,w)})}const Gn=/^[cdef][\w-]{21}$/,Vi="";function Xi(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const M=function gn(w){return function to(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Gn.test(M)?M:Vi}catch{return Vi}}function Yt(w){return`${w.appName}!${w.appId}`}const pt=new Map;function Bt(w,D){const M=Yt(w);Hn(M,D),function dr(w,D){const M=function _i(){return!jn&&"BroadcastChannel"in self&&(jn=new BroadcastChannel("[Firebase] FID Change"),jn.onmessage=w=>{Hn(w.data.key,w.data.fid)}),jn}();M&&M.postMessage({key:w,fid:D}),function Jt(){0===pt.size&&jn&&(jn.close(),jn=null)}()}(M,D)}function Hn(w,D){const M=pt.get(w);if(M)for(const U of M)U(D)}let jn=null;const Mr="firebase-installations-database",sn=1,hr="firebase-installations-store";let jt=null;function Wn(){return jt||(jt=function he(w,D,{blocked:M,upgrade:U,blocking:K,terminated:J}={}){const ge=indexedDB.open(w,D),Xe=$e(ge);return U&&ge.addEventListener("upgradeneeded",Ze=>{U($e(ge.result),Ze.oldVersion,Ze.newVersion,$e(ge.transaction))}),M&&ge.addEventListener("blocked",()=>M()),Xe.then(Ze=>{J&&Ze.addEventListener("close",()=>J()),K&&Ze.addEventListener("versionchange",()=>K())}).catch(()=>{}),Xe}(Mr,sn,{upgrade:(w,D)=>{0===D&&w.createObjectStore(hr)}})),jt}function Pn(w,D){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,P.Z)(function*(w,D){const M=Yt(w),K=(yield Wn()).transaction(hr,"readwrite"),J=K.objectStore(hr),ge=yield J.get(M);return yield J.put(D,M),yield K.done,(!ge||ge.fid!==D.fid)&&Bt(w,D.fid),D})).apply(this,arguments)}function Zn(w){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,P.Z)(function*(w){const D=Yt(w),U=(yield Wn()).transaction(hr,"readwrite");yield U.objectStore(hr).delete(D),yield U.done})).apply(this,arguments)}function Ui(w,D){return er.apply(this,arguments)}function er(){return(er=(0,P.Z)(function*(w,D){const M=Yt(w),K=(yield Wn()).transaction(hr,"readwrite"),J=K.objectStore(hr),ge=yield J.get(M),Xe=D(ge);return void 0===Xe?yield J.delete(M):yield J.put(Xe,M),yield K.done,Xe&&(!ge||ge.fid!==Xe.fid)&&Bt(w,Xe.fid),Xe})).apply(this,arguments)}function G(w){return $.apply(this,arguments)}function $(){return $=(0,P.Z)(function*(w){let D;const M=yield Ui(w.appConfig,U=>{const K=function N(w){return xt(w||{fid:Xi(),registrationStatus:0})}(U),J=function L(w,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Re.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},U=function O(w,D){return Q.apply(this,arguments)}(w,M);return{installationEntry:M,registrationPromise:U}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Ie(w)}:{installationEntry:D}}(w,K);return D=J.registrationPromise,J.installationEntry});return M.fid===Vi?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}}),$.apply(this,arguments)}function Q(){return Q=(0,P.Z)(function*(w,D){try{const M=yield function yn(w,D){return ct.apply(this,arguments)}(w,D);return Pn(w.appConfig,M)}catch(M){throw xe(M)&&409===M.customData.serverCode?yield Zn(w.appConfig):yield Pn(w.appConfig,{fid:D.fid,registrationStatus:0}),M}}),Q.apply(this,arguments)}function Ie(w){return st.apply(this,arguments)}function st(){return(st=(0,P.Z)(function*(w){let D=yield Tt(w.appConfig);for(;1===D.registrationStatus;)yield Un(100),D=yield Tt(w.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:U}=yield G(w);return U||M}return D})).apply(this,arguments)}function Tt(w){return Ui(w,D=>{if(!D)throw Re.create("installation-not-found");return xt(D)})}function xt(w){return function Kt(w){return 1===w.registrationStatus&&w.registrationTime+_r<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Tn(){return(Tn=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:D},M){const U=function zt(w,{fid:D}){return`${ot(w)}/${D}/authTokens:generate`}(w,M),K=function An(w,{refreshToken:D}){const M=mn(w);return M.append("Authorization",function si(w){return`${$r} ${w}`}(D)),M}(w,M),J=D.getImmediate({optional:!0});if(J){const gt=yield J.getHeartbeatsHeader();gt&&K.append("x-firebase-client",gt)}const Xe={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:zr,appId:w.appId}})},Ze=yield ti(()=>fetch(U,Xe));if(Ze.ok)return rn(yield Ze.json());throw yield _n("Generate Auth Token",Ze)})).apply(this,arguments)}function yi(w){return xo.apply(this,arguments)}function xo(){return xo=(0,P.Z)(function*(w,D=!1){let M;const U=yield Ui(w.appConfig,J=>{if(!en(J))throw Re.create("not-registered");const ge=J.authToken;if(!D&&function bt(w){return 2===w.requestStatus&&!function vn(w){const D=Date.now();return D<w.creationTime||w.creationTime+w.expiresIn<D+ae}(w)}(ge))return J;if(1===ge.requestStatus)return M=function ye(w,D){return ce.apply(this,arguments)}(w,D),J;{if(!navigator.onLine)throw Re.create("app-offline");const Xe=function dn(w){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:D})}(J);return M=function _t(w,D){return Rt.apply(this,arguments)}(w,Xe),Xe}});return M?yield M:U.authToken}),xo.apply(this,arguments)}function ce(){return(ce=(0,P.Z)(function*(w,D){let M=yield Ve(w.appConfig);for(;1===M.authToken.requestStatus;)yield Un(100),M=yield Ve(w.appConfig);const U=M.authToken;return 0===U.requestStatus?yi(w,D):U})).apply(this,arguments)}function Ve(w){return Ui(w,D=>{if(!en(D))throw Re.create("not-registered");return function Hi(w){return 1===w.requestStatus&&w.requestTime+_r<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Rt(){return Rt=(0,P.Z)(function*(w,D){try{const M=yield function Ot(w,D){return Tn.apply(this,arguments)}(w,D),U=Object.assign(Object.assign({},D),{authToken:M});return yield Pn(w.appConfig,U),M}catch(M){if(!xe(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const U=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Pn(w.appConfig,U)}else yield Zn(w.appConfig);throw M}}),Rt.apply(this,arguments)}function en(w){return void 0!==w&&2===w.registrationStatus}function Cl(){return(Cl=(0,P.Z)(function*(w){const D=w,{installationEntry:M,registrationPromise:U}=yield G(D);return U?U.catch(console.error):yi(D).catch(console.error),M.fid})).apply(this,arguments)}function _s(){return _s=(0,P.Z)(function*(w,D=!1){const M=w;return yield function bi(w){return tt.apply(this,arguments)}(M),(yield yi(M,D)).token}),_s.apply(this,arguments)}function tt(){return(tt=(0,P.Z)(function*(w){const{registrationPromise:D}=yield G(w);D&&(yield D)})).apply(this,arguments)}function tr(w){return Re.create("missing-app-config-values",{valueName:w})}const qt="installations",Rr=w=>{const D=w.getProvider("app").getImmediate(),M=function Na(w){if(!w||!w.options)throw tr("App Configuration");if(!w.name)throw tr("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!w.options[M])throw tr(M);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,se._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Xs=w=>{const D=w.getProvider("app").getImmediate(),M=(0,se._getProvider)(D,qt).getImmediate();return{getId:()=>function vi(w){return Cl.apply(this,arguments)}(M),getToken:K=>function ef(w){return _s.apply(this,arguments)}(M,K)}};(function Do(){(0,se._registerComponent)(new re.wA(qt,Rr,"PUBLIC")),(0,se._registerComponent)(new re.wA("installations-internal",Xs,"PRIVATE"))})(),(0,se.registerVersion)(Co,gi),(0,se.registerVersion)(Co,gi,"esm2017");const ai="@firebase/remote-config",Ei=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Dm{constructor(D,M,U,K){this.client=D,this.storage=M,this.storageCache=U,this.logger=K}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-M,K=U<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${K}.`),K}fetch(D){var M=this;return(0,P.Z)(function*(){const[U,K]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(K&&M.isCachedDataFresh(D.cacheMaxAgeMillis,U))return K;D.eTag=K&&K.eTag;const J=yield M.client.fetch(D),ge=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===J.status&&ge.push(M.storage.setLastSuccessfulFetchResponse(J)),yield Promise.all(ge),J})()}}function Ku(w=navigator){return w.languages&&w.languages[0]||w.language}class tf{constructor(D,M,U,K,J,ge){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=U,this.projectId=K,this.apiKey=J,this.appId=ge}fetch(D){var M=this;return(0,P.Z)(function*(){const[U,K]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Ze={sdk_version:M.sdkVersion,app_instance_id:U,app_instance_id_token:K,app_id:M.appId,language_code:Ku()},gt={method:"POST",headers:Xe,body:JSON.stringify(Ze)},Vt=fetch(ge,gt),Ut=new Promise((Fr,Wr)=>{D.signal.addEventListener(()=>{const Af=new Error("The operation was aborted.");Af.name="AbortError",Wr(Af)})});let mr;try{yield Promise.race([Vt,Ut]),mr=yield Vt}catch(Fr){let Wr="fetch-client-network";throw"AbortError"===Fr?.name&&(Wr="fetch-timeout"),Ei.create(Wr,{originalErrorMessage:Fr?.message})}let $i=mr.status;const va=mr.headers.get("ETag")||void 0;let Ud,il;if(200===mr.status){let Fr;try{Fr=yield mr.json()}catch(Wr){throw Ei.create("fetch-client-parse",{originalErrorMessage:Wr?.message})}Ud=Fr.entries,il=Fr.state}if("INSTANCE_STATE_UNSPECIFIED"===il?$i=500:"NO_CHANGE"===il?$i=304:("NO_TEMPLATE"===il||"EMPTY_CONFIG"===il)&&(Ud={}),304!==$i&&200!==$i)throw Ei.create("fetch-status",{httpStatus:$i});return{status:$i,eTag:va,config:Ud}})()}}class Xu{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,P.Z)(function*(){const U=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,U)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:U}){var K=this;return(0,P.Z)(function*(){yield function Qu(w,D){return new Promise((M,U)=>{const K=Math.max(D-Date.now(),0),J=setTimeout(M,K);w.addEventListener(()=>{clearTimeout(J),U(Ei.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const J=yield K.client.fetch(D);return yield K.storage.deleteThrottleMetadata(),J}catch(J){if(!function Im(w){if(!(w instanceof fe.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}(J))throw J;const ge={throttleEndTimeMillis:Date.now()+(0,fe.$s)(U),backoffCount:U+1};return yield K.storage.setThrottleMetadata(ge),K.attemptFetch(D,ge)}})()}}class nf{constructor(D,M,U,K,J){this.app=D,this._client=M,this._storageCache=U,this._storage=K,this._logger=J,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Xo(w,D){const M=w.target.error||void 0;return Ei.create(D,{originalErrorMessage:M&&M?.message})}const io="app_namespace_store";class td{constructor(D,M,U,K=function sf(){return new Promise((w,D)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=U=>{D(Xo(U,"storage-open"))},M.onsuccess=U=>{w(U.target.result)},M.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(io,{keyPath:"compositeKey"})}}catch(M){D(Ei.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=D,this.appName=M,this.namespace=U,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,P.Z)(function*(){const U=yield M.openDbPromise;return new Promise((K,J)=>{const Xe=U.transaction([io],"readonly").objectStore(io),Ze=M.createCompositeKey(D);try{const gt=Xe.get(Ze);gt.onerror=Vt=>{J(Xo(Vt,"storage-get"))},gt.onsuccess=Vt=>{const Ut=Vt.target.result;K(Ut?Ut.value:void 0)}}catch(gt){J(Ei.create("storage-get",{originalErrorMessage:gt?.message}))}})})()}set(D,M){var U=this;return(0,P.Z)(function*(){const K=yield U.openDbPromise;return new Promise((J,ge)=>{const Ze=K.transaction([io],"readwrite").objectStore(io),gt=U.createCompositeKey(D);try{const Vt=Ze.put({compositeKey:gt,value:M});Vt.onerror=Ut=>{ge(Xo(Ut,"storage-set"))},Vt.onsuccess=()=>{J()}}catch(Vt){ge(Ei.create("storage-set",{originalErrorMessage:Vt?.message}))}})})()}delete(D){var M=this;return(0,P.Z)(function*(){const U=yield M.openDbPromise;return new Promise((K,J)=>{const Xe=U.transaction([io],"readwrite").objectStore(io),Ze=M.createCompositeKey(D);try{const gt=Xe.delete(Ze);gt.onerror=Vt=>{J(Xo(Vt,"storage-delete"))},gt.onsuccess=()=>{K()}}catch(gt){J(Ei.create("storage-delete",{originalErrorMessage:gt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Jo{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const M=D.storage.getLastFetchStatus(),U=D.storage.getLastSuccessfulFetchTimestampMillis(),K=D.storage.getActiveConfig(),J=yield M;J&&(D.lastFetchStatus=J);const ge=yield U;ge&&(D.lastSuccessfulFetchTimestampMillis=ge);const Xe=yield K;Xe&&(D.activeConfig=Xe)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function id(){return Il.apply(this,arguments)}function Il(){return(Il=(0,P.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function ta(){(0,se._registerComponent)(new re.wA("remote-config",function w(D,{instanceIdentifier:M}){const U=D.getProvider("app").getImmediate(),K=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ei.create("registration-window");if(!(0,fe.hl)())throw Ei.create("indexed-db-unavailable");const{projectId:J,apiKey:ge,appId:Xe}=U.options;if(!J)throw Ei.create("registration-project-id");if(!ge)throw Ei.create("registration-api-key");if(!Xe)throw Ei.create("registration-app-id");const Ze=new td(Xe,U.name,M=M||"firebase"),gt=new Jo(Ze),Vt=new De.Yd(ai);Vt.logLevel=De.in.ERROR;const Ut=new tf(K,se.SDK_VERSION,M,J,ge,Xe),mr=new Xu(Ut,Ze),$i=new Dm(mr,Ze,gt,Vt),va=new nf(U,$i,gt,Ze,Vt);return function nr(w){const D=(0,fe.m9)(w);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(va),va},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(ai,"0.4.4"),(0,se.registerVersion)(ai,"0.4.4","esm2017")}();const af=(w,D)=>D.some(M=>w instanceof M);let es,Rc;const na=new WeakMap,Cs=new WeakMap,Fn=new WeakMap,Ua=new WeakMap,Tl=new WeakMap;let Ds={get(w,D,M){if(w instanceof IDBTransaction){if("done"===D)return Cs.get(w);if("objectStoreNames"===D)return w.objectStoreNames||Fn.get(w);if("store"===D)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return ir(w[D])},set:(w,D,M)=>(w[D]=M,!0),has:(w,D)=>w instanceof IDBTransaction&&("done"===D||"store"===D)||D in w};function Al(w){return"function"==typeof w?function cf(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lf(){return Rc||(Rc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...D){return w.apply(Ci(this),D),ir(na.get(this))}:function(...D){return ir(w.apply(Ci(this),D))}:function(D,...M){const U=w.call(Ci(this),D,...M);return Fn.set(U,D.sort?D.sort():[D]),ir(U)}}(w):(w instanceof IDBTransaction&&function xs(w){if(Cs.has(w))return;const D=new Promise((M,U)=>{const K=()=>{w.removeEventListener("complete",J),w.removeEventListener("error",ge),w.removeEventListener("abort",ge)},J=()=>{M(),K()},ge=()=>{U(w.error||new DOMException("AbortError","AbortError")),K()};w.addEventListener("complete",J),w.addEventListener("error",ge),w.addEventListener("abort",ge)});Cs.set(w,D)}(w),af(w,function Sl(){return es||(es=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Ds):w)}function ir(w){if(w instanceof IDBRequest)return function li(w){const D=new Promise((M,U)=>{const K=()=>{w.removeEventListener("success",J),w.removeEventListener("error",ge)},J=()=>{M(ir(w.result)),K()},ge=()=>{U(w.error),K()};w.addEventListener("success",J),w.addEventListener("error",ge)});return D.then(M=>{M instanceof IDBCursor&&na.set(M,w)}).catch(()=>{}),Tl.set(D,w),D}(w);if(Ua.has(w))return Ua.get(w);const D=Al(w);return D!==w&&(Ua.set(w,D),Tl.set(D,w)),D}const Ci=w=>Tl.get(w);function Ha(w,D,{blocked:M,upgrade:U,blocking:K,terminated:J}={}){const ge=indexedDB.open(w,D),Xe=ir(ge);return U&&ge.addEventListener("upgradeneeded",Ze=>{U(ir(ge.result),Ze.oldVersion,Ze.newVersion,ir(ge.transaction))}),M&&ge.addEventListener("blocked",()=>M()),Xe.then(Ze=>{J&&Ze.addEventListener("close",()=>J()),K&&Ze.addEventListener("versionchange",()=>K())}).catch(()=>{}),Xe}function ts(w,{blocked:D}={}){const M=indexedDB.deleteDatabase(w);return D&&M.addEventListener("blocked",()=>D()),ir(M).then(()=>{})}const rd=["get","getKey","getAll","getAllKeys","count"],So=["put","add","delete","clear"],ja=new Map;function ia(w,D){if(!(w instanceof IDBDatabase)||D in w||"string"!=typeof D)return;if(ja.get(D))return ja.get(D);const M=D.replace(/FromIndex$/,""),U=D!==M,K=So.includes(M);if(!(M in(U?IDBIndex:IDBObjectStore).prototype)||!K&&!rd.includes(M))return;const J=function(){var ge=(0,P.Z)(function*(Xe,...Ze){const gt=this.transaction(Xe,K?"readwrite":"readonly");let Vt=gt.store;return U&&(Vt=Vt.index(Ze.shift())),(yield Promise.all([Vt[M](...Ze),K&&gt.done]))[0]});return function(Ze){return ge.apply(this,arguments)}}();return ja.set(D,J),J}!function Mi(w){Ds=w(Ds)}(w=>({...w,get:(D,M,U)=>ia(D,M)||w.get(D,M,U),has:(D,M)=>!!ia(D,M)||w.has(D,M)}));const Pt="/firebase-messaging-sw.js",Ml="/firebase-cloud-messaging-push-scope",uf="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kc="https://fcmregistrations.googleapis.com/v1",Oc="google.c.a.c_id",Pc="google.c.a.c_l",od="google.c.a.ts",sd="google.c.a.e";var ve=(()=>{return(w=ve||(ve={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",ve;var w})();function Ht(w){const D=new Uint8Array(w);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fc(w){const M=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(M),K=new Uint8Array(U.length);for(let J=0;J<U.length;++J)K[J]=U.charCodeAt(J);return K}const za="fcm_token_details_db",Yn=5,ad="fcm_token_object_Store";function Or(){return Or=(0,P.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(J=>J.name).includes(za))return null;let D=null;return(yield Ha(za,Yn,{upgrade:(U=(0,P.Z)(function*(K,J,ge,Xe){var Ze;if(J<2||!K.objectStoreNames.contains(ad))return;const gt=Xe.objectStore(ad),Vt=yield gt.index("fcmSenderId").get(w);if(yield gt.clear(),Vt)if(2===J){const Ut=Vt;if(!Ut.auth||!Ut.p256dh||!Ut.endpoint)return;D={token:Ut.fcmToken,createTime:null!==(Ze=Ut.createTime)&&void 0!==Ze?Ze:Date.now(),subscriptionOptions:{auth:Ut.auth,p256dh:Ut.p256dh,endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:"string"==typeof Ut.vapidKey?Ut.vapidKey:Ht(Ut.vapidKey)}}}else if(3===J){const Ut=Vt;D={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:Ht(Ut.auth),p256dh:Ht(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:Ht(Ut.vapidKey)}}}else if(4===J){const Ut=Vt;D={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:Ht(Ut.auth),p256dh:Ht(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:Ht(Ut.vapidKey)}}}}),function(J,ge,Xe,Ze){return U.apply(this,arguments)})})).close(),yield ts(za),yield ts("fcm_vapid_details_db"),yield ts("undefined"),function Rl(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:D}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var U}),Or.apply(this,arguments)}const ld="firebase-messaging-database",cd=1,ns="firebase-messaging-store";let oa=null;function Ri(){return oa||(oa=Ha(ld,cd,{upgrade:(w,D)=>{0===D&&w.createObjectStore(ns)}})),oa}function pr(w){return is.apply(this,arguments)}function is(){return is=(0,P.Z)(function*(w){const D=dd(w),U=yield(yield Ri()).transaction(ns).objectStore(ns).get(D);if(U)return U;{const K=yield function ra(w){return Or.apply(this,arguments)}(w.appConfig.senderId);if(K)return yield To(w,K),K}}),is.apply(this,arguments)}function To(w,D){return ro.apply(this,arguments)}function ro(){return(ro=(0,P.Z)(function*(w,D){const M=dd(w),K=(yield Ri()).transaction(ns,"readwrite");return yield K.objectStore(ns).put(D,M),yield K.done,D})).apply(this,arguments)}function Is(){return(Is=(0,P.Z)(function*(w){const D=dd(w),U=(yield Ri()).transaction(ns,"readwrite");yield U.objectStore(ns).delete(D),yield U.done})).apply(this,arguments)}function dd({appConfig:w}){return w.appId}const Kn=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kl(w,D){return $a.apply(this,arguments)}function $a(){return($a=(0,P.Z)(function*(w,D){const M=yield Ga(w),U=Pl(D),K={method:"POST",headers:M,body:JSON.stringify(U)};let J;try{J=yield(yield fetch(Nc(w.appConfig),K)).json()}catch(ge){throw Kn.create("token-subscribe-failed",{errorInfo:ge?.toString()})}if(J.error)throw Kn.create("token-subscribe-failed",{errorInfo:J.error.message});if(!J.token)throw Kn.create("token-subscribe-no-token");return J.token})).apply(this,arguments)}function Ol(){return(Ol=(0,P.Z)(function*(w,D){const M=yield Ga(w),U=Pl(D.subscriptionOptions),K={method:"PATCH",headers:M,body:JSON.stringify(U)};let J;try{J=yield(yield fetch(`${Nc(w.appConfig)}/${D.token}`,K)).json()}catch(ge){throw Kn.create("token-update-failed",{errorInfo:ge?.toString()})}if(J.error)throw Kn.create("token-update-failed",{errorInfo:J.error.message});if(!J.token)throw Kn.create("token-update-no-token");return J.token})).apply(this,arguments)}function fd(w,D){return sa.apply(this,arguments)}function sa(){return(sa=(0,P.Z)(function*(w,D){const U={method:"DELETE",headers:yield Ga(w)};try{const J=yield(yield fetch(`${Nc(w.appConfig)}/${D}`,U)).json();if(J.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:J.error.message})}catch(K){throw Kn.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function Nc({projectId:w}){return`${kc}/projects/${w}/registrations`}function Ga(w){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,P.Z)(function*({appConfig:w,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Pl({p256dh:w,auth:D,endpoint:M,vapidKey:U}){const K={web:{endpoint:M,auth:D,p256dh:w}};return U!==uf&&(K.web.applicationPubKey=U),K}const pd=6048e5;function md(){return md=(0,P.Z)(function*(w){const D=yield function Am(w,D){return _d.apply(this,arguments)}(w.swRegistration,w.vapidKey),M={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:D.endpoint,auth:Ht(D.getKey("auth")),p256dh:Ht(D.getKey("p256dh"))},U=yield pr(w.firebaseDependencies);if(U){if(function Mm(w,D){return D.vapidKey===w.vapidKey&&D.endpoint===w.endpoint&&D.auth===w.auth&&D.p256dh===w.p256dh}(U.subscriptionOptions,M))return Date.now()>=U.createTime+pd?function kn(w,D){return gd.apply(this,arguments)}(w,{token:U.token,createTime:Date.now(),subscriptionOptions:M}):U.token;try{yield fd(w.firebaseDependencies,U.token)}catch(K){console.warn(K)}return aa(w.firebaseDependencies,M)}return aa(w.firebaseDependencies,M)}),md.apply(this,arguments)}function oo(){return oo=(0,P.Z)(function*(w){const D=yield pr(w.firebaseDependencies);D&&(yield fd(w.firebaseDependencies,D.token),yield function ud(w){return Is.apply(this,arguments)}(w.firebaseDependencies));const M=yield w.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),oo.apply(this,arguments)}function gd(){return gd=(0,P.Z)(function*(w,D){try{const M=yield function hd(w,D){return Ol.apply(this,arguments)}(w.firebaseDependencies,D),U=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield To(w.firebaseDependencies,U),M}catch(M){throw yield function ji(w){return oo.apply(this,arguments)}(w),M}}),gd.apply(this,arguments)}function aa(w,D){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,P.Z)(function*(w,D){const U={token:yield kl(w,D),createTime:Date.now(),subscriptionOptions:D};return yield To(w,U),U.token})).apply(this,arguments)}function _d(){return(_d=(0,P.Z)(function*(w,D){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fc(D)})})).apply(this,arguments)}function Fl(w){const D={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Uc(w,D){if(!D.notification)return;w.notification={};const M=D.notification.title;M&&(w.notification.title=M);const U=D.notification.body;U&&(w.notification.body=U);const K=D.notification.image;K&&(w.notification.image=K);const J=D.notification.icon;J&&(w.notification.icon=J)}(D,w),function yd(w,D){D.data&&(w.data=D.data)}(D,w),function vd(w,D){var M,U,K,J,ge;if(!(D.fcmOptions||null!==(M=D.notification)&&void 0!==M&&M.click_action))return;w.fcmOptions={};const Xe=null!==(K=null===(U=D.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==K?K:null===(J=D.notification)||void 0===J?void 0:J.click_action;Xe&&(w.fcmOptions.link=Xe);const Ze=null===(ge=D.fcmOptions)||void 0===ge?void 0:ge.analytics_label;Ze&&(w.fcmOptions.analyticsLabel=Ze)}(D,w),D}function la(w,D){const M=[];for(let U=0;U<w.length;U++)M.push(w.charAt(U)),U<D.length&&M.push(D.charAt(U));return M.join("")}function Ao(w){return Kn.create("missing-app-config-values",{valueName:w})}la("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),la("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Rm{constructor(D,M,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function qa(w){if(!w||!w.options)throw Ao("App Configuration Object");if(!w.name)throw Ao("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=w;for(const U of D)if(!M[U])throw Ao(U);return{appName:w.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:K,installations:M,analyticsProvider:U}}_delete(){return Promise.resolve()}}function df(w){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,P.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Pt,{scope:Ml}),w.swRegistration.update().catch(()=>{})}catch(D){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Mo(){return(Mo=(0,P.Z)(function*(w,D){if(!D&&!w.swRegistration&&(yield df(w)),D||!w.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");w.swRegistration=D}})).apply(this,arguments)}function Wa(){return(Wa=(0,P.Z)(function*(w,D){D?w.vapidKey=D:w.vapidKey||(w.vapidKey=uf)})).apply(this,arguments)}function ca(){return ca=(0,P.Z)(function*(w,D){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield function Hc(w,D){return Wa.apply(this,arguments)}(w,D?.vapidKey),yield function bd(w,D){return Mo.apply(this,arguments)}(w,D?.serviceWorkerRegistration),function Bc(w){return md.apply(this,arguments)}(w)}),ca.apply(this,arguments)}function rs(){return(rs=(0,P.Z)(function*(w,D,M){const U=function Ss(w){switch(w){case ve.NOTIFICATION_CLICKED:return"notification_open";case ve.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:M[Oc],message_name:M[Pc],message_time:M[od],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ts(){return Ts=(0,P.Z)(function*(w,D){const M=D.data;if(!M.isFirebaseMessaging)return;w.onMessageHandler&&M.messageType===ve.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Fl(M)):w.onMessageHandler.next(Fl(M)));const U=M.data;(function Nl(w){return"object"==typeof w&&!!w&&Oc in w})(U)&&"1"===U[sd]&&(yield function wd(w,D,M){return rs.apply(this,arguments)}(w,M.messageType,U))}),Ts.apply(this,arguments)}const da="@firebase/messaging",Ya=w=>{const D=new Rm(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function ua(w,D){return Ts.apply(this,arguments)}(D,M)),D},jc=w=>{const D=w.getProvider("messaging").getImmediate();return{getToken:U=>function Bl(w,D){return ca.apply(this,arguments)}(D,U)}};function hf(){return zc.apply(this,arguments)}function zc(){return(zc=(0,P.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ka(){(0,se._registerComponent)(new re.wA("messaging",Ya,"PUBLIC")),(0,se._registerComponent)(new re.wA("messaging-internal",jc,"PRIVATE")),(0,se.registerVersion)(da,"0.12.4"),(0,se.registerVersion)(da,"0.12.4","esm2017")}();const os="analytics",Ul="firebase_id",xd="origin",Qa=6e4,Dd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hl="https://www.googletagmanager.com/gtag/js",ci=new De.Yd("@firebase/analytics"),Nn=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ff(w){if(!w.startsWith(Hl)){const D=Nn.create("invalid-gtag-resource",{gtagURL:w});return ci.warn(D.message),""}return w}function ss(w){return Promise.all(w.map(D=>D.catch(M=>M)))}function as(){return(as=(0,P.Z)(function*(w,D,M,U,K,J){const ge=U[K];try{if(ge)yield D[ge];else{const Ze=(yield ss(M)).find(gt=>gt.measurementId===K);Ze&&(yield D[Ze.appId])}}catch(Xe){ci.error(Xe)}w("config",K,J)})).apply(this,arguments)}function As(){return(As=(0,P.Z)(function*(w,D,M,U,K){try{let J=[];if(K&&K.send_to){let ge=K.send_to;Array.isArray(ge)||(ge=[ge]);const Xe=yield ss(M);for(const Ze of ge){const gt=Xe.find(Ut=>Ut.measurementId===Ze),Vt=gt&&D[gt.appId];if(!Vt){J=[];break}J.push(Vt)}}0===J.length&&(J=Object.values(D)),yield Promise.all(J),w("event",U,K||{})}catch(J){ci.error(J)}})).apply(this,arguments)}const zl=30,ks=new class Id{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function mf(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function pn(){return(pn=(0,P.Z)(function*(w){var D;const{appId:M,apiKey:U}=w,K={method:"GET",headers:mf(U)},J=Dd.replace("{app-id}",M),ge=yield fetch(J,K);if(200!==ge.status&&304!==ge.status){let Xe="";try{const Ze=yield ge.json();null!==(D=Ze.error)&&void 0!==D&&D.message&&(Xe=Ze.error.message)}catch{}throw Nn.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:Xe})}return ge.json()})).apply(this,arguments)}function Td(){return(Td=(0,P.Z)(function*(w,D=ks,M){const{appId:U,apiKey:K,measurementId:J}=w.options;if(!U)throw Nn.create("no-app-id");if(!K){if(J)return{measurementId:J,appId:U};throw Nn.create("no-api-key")}const ge=D.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new uy;return setTimeout((0,P.Z)(function*(){Xe.abort()}),void 0!==M?M:Qa),Kc({appId:U,apiKey:K,measurementId:J},ge,Xe,D)})).apply(this,arguments)}function Kc(w,D,M){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,P.Z)(function*(w,{throttleEndTimeMillis:D,backoffCount:M},U,K=ks){var J;const{appId:ge,measurementId:Xe}=w;try{yield function gf(w,D){return new Promise((M,U)=>{const K=Math.max(D-Date.now(),0),J=setTimeout(M,K);w.addEventListener(()=>{clearTimeout(J),U(Nn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(U,D)}catch(Ze){if(Xe)return ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${Ze?.message}]`),{appId:ge,measurementId:Xe};throw Ze}try{const Ze=yield function Sd(w){return pn.apply(this,arguments)}(w);return K.deleteThrottleMetadata(ge),Ze}catch(Ze){const gt=Ze;if(!function cy(w){if(!(w instanceof fe.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}(gt)){if(K.deleteThrottleMetadata(ge),Xe)return ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${gt?.message}]`),{appId:ge,measurementId:Xe};throw Ze}const Vt=503===Number(null===(J=gt?.customData)||void 0===J?void 0:J.httpStatus)?(0,fe.$s)(M,K.intervalMillis,zl):(0,fe.$s)(M,K.intervalMillis),Ut={throttleEndTimeMillis:Date.now()+Vt,backoffCount:M+1};return K.setThrottleMetadata(ge,Ut),ci.debug(`Calling attemptFetch again in ${Vt} millis`),Kc(w,Ut,U,K)}}),Qc.apply(this,arguments)}class uy{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Os,ma;function _f(){return(_f=(0,P.Z)(function*(w,D,M,U,K){if(K&&K.global)w("event",M,U);else{const J=yield D;w("event",M,Object.assign(Object.assign({},U),{send_to:J}))}})).apply(this,arguments)}function Ro(){return(Ro=(0,P.Z)(function*(){if(!(0,fe.hl)())return ci.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(w){return ci.warn(Nn.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function ao(){return ao=(0,P.Z)(function*(w,D,M,U,K,J,ge){var Xe;const Ze=function Yc(w){return Td.apply(this,arguments)}(w);Ze.then($i=>{M[$i.measurementId]=$i.appId,w.options.measurementId&&$i.measurementId!==w.options.measurementId&&ci.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${$i.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($i=>ci.error($i)),D.push(Ze);const gt=function Pr(){return Ro.apply(this,arguments)}().then($i=>{if($i)return U.getId()}),[Vt,Ut]=yield Promise.all([Ze,gt]);(function Rs(w){const D=window.document.getElementsByTagName("script");for(const M of Object.values(D))if(M.src&&M.src.includes(Hl)&&M.src.includes(w))return M;return null})(J)||function fa(w,D){const M=function jl(w,D){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(w,D)),M}("firebase-js-sdk-policy",{createScriptURL:ff}),U=document.createElement("script"),K=`${Hl}?l=${w}&id=${D}`;U.src=M?M?.createScriptURL(K):K,U.async=!0,document.head.appendChild(U)}(J,Vt.measurementId),ma&&(K("consent","default",ma),function el(w){ma=w}(void 0)),K("js",new Date);const mr=null!==(Xe=ge?.config)&&void 0!==Xe?Xe:{};return mr[xd]="firebase",mr.update=!0,null!=Ut&&(mr[Ul]=Ut),K("config",Vt.measurementId,mr),Os&&(K("set",Os),function ql(w){Os=w}(void 0)),Vt.measurementId}),ao.apply(this,arguments)}class Ln{constructor(D){this.app=D}_delete(){return delete ko[this.app.options.appId],Promise.resolve()}}let ko={},Ps=[];const eu={};let Md,zi,Fs="dataLayer",Ns="gtag",qr=!1;function ga(w,D,M){!function cs(){const w=[];if((0,fe.ru)()&&w.push("This is a browser extension environment."),(0,fe.zI)()||w.push("Cookies are not available."),w.length>0){const D=w.map((U,K)=>`(${K+1}) ${U}`).join(" "),M=Nn.create("invalid-analytics-context",{errorInfo:D});ci.warn(M.message)}}();const U=w.options.appId;if(!U)throw Nn.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Nn.create("no-api-key");ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ko[U])throw Nn.create("already-exists",{id:U});if(!qr){!function qc(w){let D=[];Array.isArray(window[w])?D=window[w]:window[w]=D}(Fs);const{wrappedGtag:J,gtagCore:ge}=function Ms(w,D,M,U,K){let J=function(...ge){window[U].push(arguments)};return window[K]&&"function"==typeof window[K]&&(J=window[K]),window[K]=function Xa(w,D,M,U){function J(){return J=(0,P.Z)(function*(ge,...Xe){try{if("event"===ge){const[Ze,gt]=Xe;yield function pf(w,D,M,U,K){return As.apply(this,arguments)}(w,D,M,Ze,gt)}else if("config"===ge){const[Ze,gt]=Xe;yield function Wc(w,D,M,U,K,J){return as.apply(this,arguments)}(w,D,M,U,Ze,gt)}else if("consent"===ge){const[Ze]=Xe;w("consent","update",Ze)}else if("get"===ge){const[Ze,gt,Vt]=Xe;w("get",Ze,gt,Vt)}else if("set"===ge){const[Ze]=Xe;w("set",Ze)}else w(ge,...Xe)}catch(Ze){ci.error(Ze)}}),J.apply(this,arguments)}return function K(ge){return J.apply(this,arguments)}}(J,w,D,M),{gtagCore:J,wrappedGtag:window[K]}}(ko,Ps,eu,Fs,Ns);zi=J,Md=ge,qr=!0}return ko[U]=function Ft(w,D,M,U,K,J,ge){return ao.apply(this,arguments)}(w,Ps,eu,D,Md,Fs,M),new Ln(w)}function Rd(){return br.apply(this,arguments)}function br(){return(br=(0,P.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const vf="@firebase/analytics";!function iu(){(0,se._registerComponent)(new re.wA(os,(D,{options:M})=>ga(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,se._registerComponent)(new re.wA("analytics-internal",function w(D){try{const M=D.getProvider(os).getImmediate();return{logEvent:(U,K,J)=>function Om(w,D,M,U){w=(0,fe.m9)(w),function dy(w,D,M,U,K){return _f.apply(this,arguments)}(zi,ko[w.app.options.appId],D,M,U).catch(K=>ci.error(K))}(M,U,K,J)}}catch(M){throw Nn.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,se.registerVersion)(vf,"0.10.0"),(0,se.registerVersion)(vf,"0.10.0","esm2017")}();var bf=V(4408),tl=V(7565);const kd=new class Ef extends tl.v{}(class wf extends bf.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(D,M,U):(D.flush(this),0)}});var hy=V(4986),Wl=V(9751),Cf=V(8505),Zl=V(5363),Pd=V(9468);const Yl=new l.GfV("7.6.1"),xf="__angularfire_symbol__analyticsIsSupportedValue",Fd="__angularfire_symbol__analyticsIsSupported",nl="__angularfire_symbol__remoteConfigIsSupportedValue",Nd="__angularfire_symbol__remoteConfigIsSupported",Df="__angularfire_symbol__messagingIsSupportedValue",Ld="__angularfire_symbol__messagingIsSupported";function Kl(w,D,M){if(D){if(1===D.length)return D[0];const J=D.filter(ge=>ge.app===M);if(1===J.length)return J[0]}return M.container.getProvider(w).getImmediate({optional:!0})}globalThis[Fd]||(globalThis[Fd]=Rd().then(w=>globalThis[xf]=w).catch(()=>globalThis[xf]=!1)),globalThis[Ld]||(globalThis[Ld]=hf().then(w=>globalThis[Df]=w).catch(()=>globalThis[Df]=!1)),globalThis[Nd]||(globalThis[Nd]=id().then(w=>globalThis[nl]=w).catch(()=>globalThis[nl]=!1));const If=(w,D)=>{const M=D?[D]:(0,z.C6)(),U=[];return M.forEach(K=>{K.container.getProvider(w).instances.forEach(ge=>{U.includes(ge)||U.push(ge)})}),U};function _a(){}class ou{constructor(D,M=kd){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,U){const K=this.zone;return this.delegate.schedule(function(ge){K.runGuarded(()=>{D.apply(this,[ge])})},M,U)}}class Po{constructor(D){this.zone=D,this.task=null}call(D,M){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_a,{},_a,_a)),M.pipe((0,Cf.b)({next:U,complete:U,error:U})).subscribe(D).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let su=(()=>{class w{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new ou(Zone.current)),this.insideAngular=M.run(()=>new ou(Zone.current,hy.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(M){return new(M||w)(l.LFG(l.R0b))},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function ya(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Bs(w){return ya().ngZone.run(()=>w())}function Bd(w){return w.pipe((0,Zl.Q)(ya().outsideAngular))}function Sf(w){return ya(),function Lm(w){return function(M){return(M=M.lift(new Po(w.ngZone))).pipe((0,Pd.R)(w.outsideAngular),(0,Zl.Q)(w.insideAngular))}}(ya())(w)}const Tf=(w,D)=>function(){const U=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Bs(()=>w.apply(void 0,U))},Vd=(w,D)=>function(){let M;const U=arguments;for(let J=0;J<arguments.length;J++)"function"==typeof U[J]&&(D&&(M||(M=Bs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_a,{},_a,_a)))),U[J]=Tf(U[J],M));const K=function Nm(w){return ya().ngZone.runOutsideAngular(()=>w())}(()=>w.apply(this,U));if(!D){if(K instanceof Wl.y){const J=ya();return K.pipe((0,Pd.R)(J.outsideAngular),(0,Zl.Q)(J.insideAngular))}return Bs(()=>K)}return K instanceof Wl.y?K.pipe(Sf):K instanceof Promise?Bs(()=>new Promise((J,ge)=>K.then(Xe=>Bs(()=>J(Xe)),Xe=>Bs(()=>ge(Xe))))):"function"==typeof K&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),K.apply(this,arguments)}:Bs(()=>K)}},1389:(vt,Me,V)=>{V.d(Me,{$:()=>Pt,A:()=>W,D:()=>ke,I:()=>zn,J:()=>Rr,L:()=>no,N:()=>Ui,P:()=>Ft,Q:()=>td,R:()=>Gl,U:()=>nd,V:()=>id,W:()=>Il,X:()=>Io,Y:()=>Sl,Z:()=>lf,_:()=>Tl,a:()=>rr,a0:()=>uf,a1:()=>Oc,a2:()=>Sm,a3:()=>ad,a4:()=>Or,a5:()=>ld,a6:()=>ns,a7:()=>Ri,a8:()=>is,a9:()=>ro,aA:()=>he,aB:()=>Fd,aC:()=>Zn,aD:()=>er,aE:()=>Cf,aF:()=>km,aG:()=>nt,aH:()=>bn,aL:()=>so,aO:()=>es,aa:()=>ud,ab:()=>dd,ac:()=>Tm,ad:()=>hd,ae:()=>fd,af:()=>Nc,ai:()=>pd,aj:()=>md,ak:()=>ji,an:()=>cf,ao:()=>Uc,aq:()=>Wa,ar:()=>da,as:()=>St,at:()=>xt,au:()=>Ie,av:()=>Ae,aw:()=>Ut,ax:()=>Ld,ay:()=>Kt,az:()=>Te,b:()=>Vl,c:()=>zi,d:()=>ga,e:()=>Oo,f:()=>vf,g:()=>Ef,h:()=>bf,i:()=>Zc,j:()=>hy,k:()=>il,l:()=>Ja,m:()=>Af,o:()=>K0,p:()=>be,r:()=>Ad,s:()=>ls,u:()=>Pr});var l=V(5861),z=V(2090),P=V(6881),se=V(7582),fe=V(1877),re=V(4859);const be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function ie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Qe=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pe=new fe.Yd("@firebase/auth");function He(b,...p){Pe.logLevel<=fe.in.ERROR&&Pe.error(`Auth (${P.SDK_VERSION}): ${b}`,...p)}function Ae(b,...p){throw Be(b,...p)}function Te(b,...p){return Be(b,...p)}function Fe(b,p,_){const E=Object.assign(Object.assign({},Qe()),{[p]:_});return new z.LL("auth","Firebase",E).create(p,{appName:b.name})}function $e(b,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Ae(b,"argument-error"),Fe(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(b,...p){if("string"!=typeof b){const _=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(_,...E)}return ut.create(b,...p)}function he(b,p,..._){if(!b)throw Be(p,..._)}function et(b){const p="INTERNAL ASSERTION FAILED: "+b;throw He(p),new Error(p)}function St(b,p){b||et(p)}function dt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Zt(){return"http:"===ft()||"https:"===ft()}function ft(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class _r{constructor(p,_){this.shortDelay=p,this.longDelay=_,St(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Co(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zt()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zr(b,p){St(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class $r{static initialize(p,_,E){this.fetchImpl=p,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wo={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ae=new _r(3e4,6e4);function ee(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function ue(b,p,_,E){return _e.apply(this,arguments)}function _e(){return(_e=(0,l.Z)(function*(b,p,_,E,R={}){return Re(b,R,(0,l.Z)(function*(){let F={},te={};E&&("GET"===p?te=E:F={body:JSON.stringify(E)});const pe=(0,z.xO)(Object.assign({key:b.config.apiKey},te)).slice(1),qe=yield b._getAdditionalHeaders();return qe["Content-Type"]="application/json",b.languageCode&&(qe["X-Firebase-Locale"]=b.languageCode),$r.fetch()(_n(b,b.config.apiHost,_,pe),Object.assign({method:p,headers:qe,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Re(b,p,_){return xe.apply(this,arguments)}function xe(){return(xe=(0,l.Z)(function*(b,p,_){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},Wo),p);try{const R=new Mt(b),F=yield Promise.race([_(),R.promise]);R.clearNetworkTimeout();const te=yield F.json();if("needConfirmation"in te)throw mn(b,"account-exists-with-different-credential",te);if(F.ok&&!("errorMessage"in te))return te;{const pe=F.ok?te.errorMessage:te.error.message,[qe,it]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw mn(b,"credential-already-in-use",te);if("EMAIL_EXISTS"===qe)throw mn(b,"email-already-in-use",te);if("USER_DISABLED"===qe)throw mn(b,"user-disabled",te);const wt=E[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-");if(it)throw Fe(b,wt,it);Ae(b,wt)}}catch(R){if(R instanceof z.ZR)throw R;Ae(b,"network-request-failed",{message:String(R)})}})).apply(this,arguments)}function ot(b,p,_,E){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(b,p,_,E,R={}){const F=yield ue(b,p,_,E,R);return"mfaPendingCredential"in F&&Ae(b,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function _n(b,p,_,E){const R=`${p}${_}?${E}`;return b.config.emulator?zr(b.config,R):`${b.config.apiScheme}://${R}`}class Mt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(Te(this.auth,"network-request-failed")),ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mn(b,p,_){const E={appName:b.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const R=Te(b,p,E);return R.customData._tokenResponse=_,R}function ti(){return(ti=(0,l.Z)(function*(b,p){return ue(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Mn(){return(Mn=(0,l.Z)(function*(b,p){return ue(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function yn(){return(yn=(0,l.Z)(function*(b,p){return ue(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ct(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Gn(){return(Gn=(0,l.Z)(function*(b,p=!1){const _=(0,z.m9)(b),E=yield _.getIdToken(p),R=Xi(E);he(R&&R.exp&&R.auth_time&&R.iat,_.auth,"internal-error");const F="object"==typeof R.firebase?R.firebase:void 0,te=F?.sign_in_provider;return{claims:R,token:E,authTime:ct(Vi(R.auth_time)),issuedAtTime:ct(Vi(R.iat)),expirationTime:ct(Vi(R.exp)),signInProvider:te||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function Vi(b){return 1e3*Number(b)}function Xi(b){const[p,_,E]=b.split(".");if(void 0===p||void 0===_||void 0===E)return He("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,z.tV)(_);return R?JSON.parse(R):(He("Failed to decode base64 JWT payload"),null)}catch(R){return He("Caught error parsing JWT payload as JSON",R?.toString()),null}}function Yt(b,p){return pt.apply(this,arguments)}function pt(){return(pt=(0,l.Z)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(E){throw E instanceof z.ZR&&function Bt({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}class qn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const R=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),E)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class Si{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ct(this.lastLoginAt),this.creationTime=ct(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hn(b){return dr.apply(this,arguments)}function dr(){return dr=(0,l.Z)(function*(b){var p;const _=b.auth,E=yield b.getIdToken(),R=yield Yt(b,function si(b,p){return yn.apply(this,arguments)}(_,{idToken:E}));he(R?.users.length,_,"internal-error");const F=R.users[0];b._notifyReloadListener(F);const te=null!==(p=F.providerUserInfo)&&void 0!==p&&p.length?function Mr(b){return b.map(p=>{var{providerId:_}=p,E=(0,se._T)(p,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(F.providerUserInfo):[],pe=function Jt(b,p){return[...b.filter(E=>!p.some(R=>R.providerId===E.providerId)),...p]}(b.providerData,te),wt=!!b.isAnonymous&&!(b.email&&F.passwordHash||pe?.length),tn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:pe,metadata:new Si(F.createdAt,F.lastLoginAt),isAnonymous:wt};Object.assign(b,tn)}),dr.apply(this,arguments)}function _i(){return(_i=(0,l.Z)(function*(b){const p=(0,z.m9)(b);yield Hn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(b,p){const _=yield Re(b,{},(0,l.Z)(function*(){const E=(0,z.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:R,apiKey:F}=b.config,te=_n(b,R,"/v1/token",`key=${F}`),pe=yield b._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",$r.fetch()(te,{method:"POST",headers:pe,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){he(p.idToken,"internal-error"),he(typeof p.idToken<"u","internal-error"),he(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function gn(b){const p=Xi(b);return he(p,"internal-error"),he(typeof p.exp<"u","internal-error"),he(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var E=this;return(0,l.Z)(function*(){return he(!E.accessToken||E.refreshToken,p,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var E=this;return(0,l.Z)(function*(){const{accessToken:R,refreshToken:F,expiresIn:te}=yield function sn(b,p){return hr.apply(this,arguments)}(p,_);E.updateTokensAndExpiration(R,F,Number(te))})()}updateTokensAndExpiration(p,_,E){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,_){const{refreshToken:E,accessToken:R,expirationTime:F}=_,te=new jt;return E&&(he("string"==typeof E,"internal-error",{appName:p}),te.refreshToken=E),R&&(he("string"==typeof R,"internal-error",{appName:p}),te.accessToken=R),F&&(he("number"==typeof F,"internal-error",{appName:p}),te.expirationTime=F),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new jt,this.toJSON())}_performRefresh(){return et("not implemented")}}function Wn(b,p){he("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class Pn{constructor(p){var{uid:_,auth:E,stsTokenManager:R}=p,F=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Si(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,l.Z)(function*(){const E=yield Yt(_,_.stsTokenManager.getToken(_.auth,p));return he(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(p){return function to(b){return Gn.apply(this,arguments)}(this,p)}reload(){return function jn(b){return _i.apply(this,arguments)}(this)}_assign(p){this!==p&&(he(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new Pn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var E=this;return(0,l.Z)(function*(){let R=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),R=!0),_&&(yield Hn(E)),yield E.auth._persistUserIfCurrent(E),R&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,l.Z)(function*(){const _=yield p.getIdToken();return yield Yt(p,function An(b,p){return ti.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var E,R,F,te,pe,qe,it,wt;const tn=null!==(E=_.displayName)&&void 0!==E?E:void 0,Nr=null!==(R=_.email)&&void 0!==R?R:void 0,ba=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,Of=null!==(te=_.photoURL)&&void 0!==te?te:void 0,Q0=null!==(pe=_.tenantId)&&void 0!==pe?pe:void 0,cu=null!==(qe=_._redirectEventId)&&void 0!==qe?qe:void 0,yy=null!==(it=_.createdAt)&&void 0!==it?it:void 0,Hm=null!==(wt=_.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:Pf,emailVerified:jm,isAnonymous:Ff,providerData:Nf,stsTokenManager:Hd}=_;he(Pf&&Hd,p,"internal-error");const Lf=jt.fromJSON(this.name,Hd);he("string"==typeof Pf,p,"internal-error"),Wn(tn,p.name),Wn(Nr,p.name),he("boolean"==typeof jm,p,"internal-error"),he("boolean"==typeof Ff,p,"internal-error"),Wn(ba,p.name),Wn(Of,p.name),Wn(Q0,p.name),Wn(cu,p.name),Wn(yy,p.name),Wn(Hm,p.name);const Bf=new Pn({uid:Pf,auth:p,email:Nr,emailVerified:jm,displayName:tn,isAnonymous:Ff,photoURL:Of,phoneNumber:ba,tenantId:Q0,stsTokenManager:Lf,createdAt:yy,lastLoginAt:Hm});return Nf&&Array.isArray(Nf)&&(Bf.providerData=Nf.map(zm=>Object.assign({},zm))),cu&&(Bf._redirectEventId=cu),Bf}static _fromIdTokenResponse(p,_,E=!1){return(0,l.Z)(function*(){const R=new jt;R.updateFromServerResponse(_);const F=new Pn({uid:_.localId,auth:p,stsTokenManager:R,isAnonymous:E});return yield Hn(F),F})()}}const Ti=new Map;function Zn(b){St(b instanceof Function,"Expected a class definition");let p=Ti.get(b);return p?(St(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,Ti.set(b,p),p)}const Ui=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,E){var R=this;return(0,l.Z)(function*(){R.storage[_]=E})()}_get(_){var E=this;return(0,l.Z)(function*(){const R=E.storage[_];return void 0===R?null:R})()}_remove(_){var E=this;return(0,l.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return b.type="NONE",b})();function er(b,p,_){return`firebase:${b}:${p}:${_}`}class G{constructor(p,_,E){this.persistence=p,this.auth=_,this.userKey=E;const{config:R,name:F}=this.auth;this.fullUserKey=er(this.userKey,R.apiKey,F),this.fullPersistenceKey=er("persistence",R.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?Pn._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,l.Z)(function*(){if(_.persistence===p)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,E="authUser"){return(0,l.Z)(function*(){if(!_.length)return new G(Zn(Ui),p,E);const R=(yield Promise.all(_.map(function(){var it=(0,l.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return it.apply(this,arguments)}}()))).filter(it=>it);let F=R[0]||Zn(Ui);const te=er(E,p.config.apiKey,p.name);let pe=null;for(const it of _)try{const wt=yield it._get(te);if(wt){const tn=Pn._fromJSON(p,wt);it!==F&&(pe=tn),F=it;break}}catch{}const qe=R.filter(it=>it._shouldAllowMigration);return F._shouldAllowMigration&&qe.length?(F=qe[0],pe&&(yield F._set(te,pe.toJSON())),yield Promise.all(_.map(function(){var it=(0,l.Z)(function*(wt){if(wt!==F)try{yield wt._remove(te)}catch{}});return function(wt){return it.apply(this,arguments)}}())),new G(F,p,E)):new G(F,p,E)})()}}function $(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Q(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(N(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(st(p))return"Blackberry";if(Tt(p))return"Webos";if(L(p))return"Safari";if((p.includes("chrome/")||O(p))&&!p.includes("edge/"))return"Chrome";if(Ie(p))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function N(b=(0,z.z$)()){return/firefox\//i.test(b)}function L(b=(0,z.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function O(b=(0,z.z$)()){return/crios\//i.test(b)}function Q(b=(0,z.z$)()){return/iemobile/i.test(b)}function Ie(b=(0,z.z$)()){return/android/i.test(b)}function st(b=(0,z.z$)()){return/blackberry/i.test(b)}function Tt(b=(0,z.z$)()){return/webos/i.test(b)}function xt(b=(0,z.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Kt(b=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function zt(b=(0,z.z$)()){return xt(b)||Ie(b)||Tt(b)||st(b)||/windows phone/i.test(b)||Q(b)}function xo(b,p=[]){let _;switch(b){case"Browser":_=$((0,z.z$)());break;case"Worker":_=`${$((0,z.z$)())}-${b}`;break;default:_=b}const E=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${P.SDK_VERSION}/${E}`}function ce(){return(ce=(0,l.Z)(function*(b){return(yield ue(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ve(b,p){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(b,p){return ue(b,"GET","/v2/recaptchaConfig",ee(b,p))})).apply(this,arguments)}function Rt(b){return void 0!==b&&void 0!==b.getResponse}function en(b){return void 0!==b&&void 0!==b.enterprise}class bt{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function dn(b){return new Promise((p,_)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=p,E.onerror=R=>{const F=Te("internal-error");F.customData=R,_(F)},E.type="text/javascript",E.charset="UTF-8",function vn(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(E)})}function Hi(b){return`__${b}${Math.floor(1e6*Math.random())}`}const ef="NO_RECAPTCHA";class _s{constructor(p){this.type="recaptcha-enterprise",this.auth=bn(p)}verify(p="verify",_=!1){var E=this;return(0,l.Z)(function*(){function F(){return F=(0,l.Z)(function*(pe){if(!_){if(null==pe.tenantId&&null!=pe._agentRecaptchaConfig)return pe._agentRecaptchaConfig.siteKey;if(null!=pe.tenantId&&void 0!==pe._tenantRecaptchaConfigs[pe.tenantId])return pe._tenantRecaptchaConfigs[pe.tenantId].siteKey}return new Promise(function(){var qe=(0,l.Z)(function*(it,wt){Ve(pe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(tn=>{if(void 0!==tn.recaptchaKey){const Nr=new bt(tn);return null==pe.tenantId?pe._agentRecaptchaConfig=Nr:pe._tenantRecaptchaConfigs[pe.tenantId]=Nr,it(Nr.siteKey)}wt(new Error("recaptcha Enterprise site key undefined"))}).catch(tn=>{wt(tn)})});return function(it,wt){return qe.apply(this,arguments)}}())}),F.apply(this,arguments)}function te(pe,qe,it){const wt=window.grecaptcha;en(wt)?wt.enterprise.ready(()=>{wt.enterprise.execute(pe,{action:p}).then(tn=>{qe(tn)}).catch(()=>{qe(ef)})}):it(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pe,qe)=>{(function R(pe){return F.apply(this,arguments)})(E.auth).then(it=>{if(!_&&en(window.grecaptcha))te(it,pe,qe);else{if(typeof window>"u")return void qe(new Error("RecaptchaVerifier is only supported in browser"));dn("https://www.google.com/recaptcha/enterprise.js?render="+it).then(()=>{te(it,pe,qe)}).catch(wt=>{qe(wt)})}}).catch(it=>{qe(it)})})})()}}function bi(b,p,_){return tt.apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*(b,p,_,E=!1){const R=new _s(b);let F;try{F=yield R.verify(_)}catch{F=yield R.verify(_,!0)}const te=Object.assign({},p);return Object.assign(te,E?{captchaResp:F}:{captchaResponse:F}),Object.assign(te,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(te,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),te})).apply(this,arguments)}class Qt{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const E=F=>new Promise((te,pe)=>{try{te(p(F))}catch(qe){pe(qe)}});E.onAbort=_,this.queue.push(E);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===p)return;const E=[];try{for(const R of _.queue)yield R(p),R.onAbort&&E.push(R.onAbort)}catch(R){E.reverse();for(const F of E)try{F()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:R?.message})}})()}}class Rn{constructor(p,_,E,R){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=E,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zo(this),this.idTokenSubscription=new Zo(this),this.beforeStateQueue=new Qt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(p,_){var E=this;return _&&(this._popupRedirectResolver=Zn(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var R,F;if(!E._deleted&&(E.persistenceManager=yield G.create(E,p),!E._deleted)){if(null!==(R=E._popupRedirectResolver)&&void 0!==R&&R._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(F=E.currentUser)||void 0===F?void 0:F.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,l.Z)(function*(){var E;const R=yield _.assertedPersistence.getCurrentUser();let F=R,te=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const pe=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,qe=F?._redirectEventId,it=yield _.tryRedirectSignIn(p);(!pe||pe===qe)&&it?.user&&(F=it.user,te=!0)}if(!F)return _.directlySetCurrentUser(null);if(!F._redirectEventId){if(te)try{yield _.beforeStateQueue.runMiddleware(F)}catch(pe){F=R,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(pe))}return F?_.reloadAndSetCurrentUserOrClear(F):_.directlySetCurrentUser(null)}return he(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===F._redirectEventId?_.directlySetCurrentUser(F):_.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(p){var _=this;return(0,l.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,l.Z)(function*(){try{yield Hn(p)}catch(E){if("auth/network-request-failed"!==E?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function gi(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,l.Z)(function*(){const E=p?(0,z.m9)(p):null;return E&&he(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(p,_=!1){var E=this;return(0,l.Z)(function*(){if(!E._deleted)return p&&he(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,l.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(Zn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,l.Z)(function*(){const _=yield Ve(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new bt(_);null==p.tenantId?p._agentRecaptchaConfig=E:p._tenantRecaptchaConfigs[p.tenantId]=E,E.emailPasswordEnabled&&new _s(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new z.LL("auth","Firebase",p())}onAuthStateChanged(p,_,E){return this.registerStateListener(this.authStateSubscription,p,_,E)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,E){return this.registerStateListener(this.idTokenSubscription,p,_,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var E=this;return(0,l.Z)(function*(){const R=yield E.getOrInitRedirectPersistenceManager(_);return null===p?R.removeCurrentUser():R.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const E=p&&Zn(p)||_._popupRedirectResolver;he(E,_,"argument-error"),_.redirectPersistenceManager=yield G.create(_,[Zn(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,l.Z)(function*(){var E,R;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===p?_._currentUser:(null===(R=_.redirectUser)||void 0===R?void 0:R._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,l.Z)(function*(){if(p===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,E,R){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),te=this._isInitialized?Promise.resolve():this._initializationPromise;return he(te,this,"internal-error"),te.then(()=>F(this.currentUser)),"function"==typeof _?p.addObserver(_,E,R):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=xo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var _;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const R=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();R&&(E["X-Firebase-Client"]=R);const F=yield p._getAppCheckToken();return F&&(E["X-Firebase-AppCheck"]=F),E})()}_getAppCheckToken(){var p=this;return(0,l.Z)(function*(){var _;const E=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return E?.error&&function Le(b,...p){Pe.logLevel<=fe.in.WARN&&Pe.warn(`Auth (${P.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function bn(b){return(0,z.m9)(b)}class Zo{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,z.ne)(_=>this.observer=_)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zn(b,p,_){const E=bn(b);he(E._canInitEmulator,E,"emulator-config-failed"),he(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const R=!!_?.disableWarnings,F=Na(p),{host:te,port:pe}=function tr(b){const p=Na(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(E);if(R){const F=R[1];return{host:F,port:qt(E.substr(F.length+1))}}{const[F,te]=E.split(":");return{host:F,port:qt(te)}}}(p);E.config.emulator={url:`${F}//${te}${null===pe?"":`:${pe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:te,port:pe,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function xl(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Na(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function qt(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class Rr{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return et("not implemented")}_getIdTokenResponse(p){return et("not implemented")}_linkToIdToken(p,_){return et("not implemented")}_getReauthenticationResolver(p){return et("not implemented")}}function Xs(b,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,l.Z)(function*(b,p){return ue(b,"POST","/v1/accounts:resetPassword",ee(b,p))})).apply(this,arguments)}function ai(b,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,l.Z)(function*(b,p){return ue(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function yr(){return(yr=(0,l.Z)(function*(b,p){return ue(b,"POST","/v1/accounts:update",ee(b,p))})).apply(this,arguments)}function bs(b,p){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(b,p){return ot(b,"POST","/v1/accounts:signInWithPassword",ee(b,p))})).apply(this,arguments)}function In(b,p){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(b,p){return ue(b,"POST","/v1/accounts:sendOobCode",ee(b,p))})).apply(this,arguments)}function La(){return(La=(0,l.Z)(function*(b,p){return In(b,p)})).apply(this,arguments)}function Js(b,p){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(b,p){return In(b,p)})).apply(this,arguments)}function ws(b,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,l.Z)(function*(b,p){return In(b,p)})).apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(b,p){return In(b,p)})).apply(this,arguments)}function Es(){return(Es=(0,l.Z)(function*(b,p){return ot(b,"POST","/v1/accounts:signInWithEmailLink",ee(b,p))})).apply(this,arguments)}function Ba(){return(Ba=(0,l.Z)(function*(b,p){return ot(b,"POST","/v1/accounts:signInWithEmailLink",ee(b,p))})).apply(this,arguments)}class fr extends Rr{constructor(p,_,E,R=null){super("password",E),this._email=p,this._password=_,this._tenantId=R}static _fromEmailAndPassword(p,_){return new fr(p,_,"password")}static _fromEmailAndCode(p,_,E=null){return new fr(p,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,l.Z)(function*(){var E;switch(_.signInMethod){case"password":const R={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const F=yield bi(p,R,"signInWithPassword");return bs(p,F)}return bs(p,R).catch(function(){var F=(0,l.Z)(function*(te){if("auth/missing-recaptcha-token"===te.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const pe=yield bi(p,R,"signInWithPassword");return bs(p,pe)}return Promise.reject(te)});return function(te){return F.apply(this,arguments)}}());case"emailLink":return function Gr(b,p){return Es.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Ae(p,"internal-error")}})()}_linkToIdToken(p,_){var E=this;return(0,l.Z)(function*(){switch(E.signInMethod){case"password":return ai(p,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Dl(b,p){return Ba.apply(this,arguments)}(p,{idToken:_,email:E._email,oobCode:E._password});default:Ae(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Qo(b,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(b,p){return ot(b,"POST","/v1/accounts:signInWithIdp",ee(b,p))})).apply(this,arguments)}class no extends Rr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new no(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Ae("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:R}=_,F=(0,se._T)(_,["providerId","signInMethod"]);if(!E||!R)return null;const te=new no(E,R);return te.idToken=F.idToken||void 0,te.accessToken=F.accessToken||void 0,te.secret=F.secret,te.nonce=F.nonce,te.pendingToken=F.pendingToken||null,te}_getIdTokenResponse(p){return Qo(p,this.buildRequest())}_linkToIdToken(p,_){const E=this.buildRequest();return E.idToken=_,Qo(p,E)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Qo(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,z.xO)(_)}return p}}function Ku(){return(Ku=(0,l.Z)(function*(b,p){return ue(b,"POST","/v1/accounts:sendVerificationCode",ee(b,p))})).apply(this,arguments)}function Qu(){return(Qu=(0,l.Z)(function*(b,p){return ot(b,"POST","/v1/accounts:signInWithPhoneNumber",ee(b,p))})).apply(this,arguments)}function Xu(){return(Xu=(0,l.Z)(function*(b,p){const _=yield ot(b,"POST","/v1/accounts:signInWithPhoneNumber",ee(b,p));if(_.temporaryProof)throw mn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Ju={USER_NOT_FOUND:"user-not-found"};function nf(){return(nf=(0,l.Z)(function*(b,p){return ot(b,"POST","/v1/accounts:signInWithPhoneNumber",ee(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ju)})).apply(this,arguments)}class Xo extends Rr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new Xo({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new Xo({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function tf(b,p){return Qu.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function Im(b,p){return Xu.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ed(b,p){return nf.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:E,verificationCode:R}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:E,code:R}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:E,phoneNumber:R,temporaryProof:F}=p;return E||_||R||F?new Xo({verificationId:_,verificationCode:E,phoneNumber:R,temporaryProof:F}):null}}class ea{constructor(p){var _,E,R,F,te,pe;const qe=(0,z.zd)((0,z.pd)(p)),it=null!==(_=qe.apiKey)&&void 0!==_?_:null,wt=null!==(E=qe.oobCode)&&void 0!==E?E:null,tn=function io(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=qe.mode)&&void 0!==R?R:null);he(it&&wt&&tn,"argument-error"),this.apiKey=it,this.operation=tn,this.code=wt,this.continueUrl=null!==(F=qe.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(te=qe.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(pe=qe.tenantId)&&void 0!==pe?pe:null}static parseLink(p){const _=function rf(b){const p=(0,z.zd)((0,z.pd)(b)).link,_=p?(0,z.zd)((0,z.pd)(p)).deep_link_id:null,E=(0,z.zd)((0,z.pd)(b)).deep_link_id;return(E?(0,z.zd)((0,z.pd)(E)).link:null)||E||_||p||b}(p);try{return new ea(_)}catch{return null}}}let td=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,E){return fr._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const R=ea.parseLink(E);return he(R,"argument-error"),fr._fromEmailAndCode(_,R.code,R.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Jo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ta extends Jo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Io extends ta{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return he("providerId"in _&&"signInMethod"in _,"argument-error"),no._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return he(p.idToken||p.accessToken,"argument-error"),no._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Io.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Io.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:R,pendingToken:F,nonce:te,providerId:pe}=p;if(!E&&!R&&!_&&!F||!pe)return null;try{return new Io(pe)._credential({idToken:_,accessToken:E,nonce:te,pendingToken:F})}catch{return null}}}let nd=(()=>{class b extends ta{constructor(){super("facebook.com")}static credential(_){return no._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),id=(()=>{class b extends ta{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return no._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:R}=_;if(!E&&!R)return null;try{return b.credential(E,R)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Il=(()=>{class b extends ta{constructor(){super("github.com")}static credential(_){return no._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class es extends Rr{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Qo(p,this.buildRequest())}_linkToIdToken(p,_){const E=this.buildRequest();return E.idToken=_,Qo(p,E)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Qo(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:R,pendingToken:F}=_;return E&&R&&F&&E===R?new es(E,F):null}static _create(p,_){return new es(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Sl extends Jo{constructor(p){he(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Sl.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Sl.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=es.fromJSON(p);return he(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:E}=p;if(!_||!E)return null;try{return es._create(E,_)}catch{return null}}}let lf=(()=>{class b extends ta{constructor(){super("twitter.com")}static credential(_,E){return no._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:R}=_;if(!E||!R)return null;try{return b.credential(E,R)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function na(b,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,l.Z)(function*(b,p){return ot(b,"POST","/v1/accounts:signUp",ee(b,p))})).apply(this,arguments)}class Fn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,E,R=!1){return(0,l.Z)(function*(){const F=yield Pn._fromIdTokenResponse(p,E,R),te=Ua(E);return new Fn({user:F,providerId:te,_tokenResponse:E,operationType:_})})()}static _forOperation(p,_,E){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const R=Ua(E);return new Fn({user:p,providerId:R,_tokenResponse:E,operationType:_})})()}}function Ua(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Tl(b){return li.apply(this,arguments)}function li(){return(li=(0,l.Z)(function*(b){var p;const _=bn(b);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new Fn({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield na(_,{returnSecureToken:!0}),R=yield Fn._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(R.user),R})).apply(this,arguments)}class xs extends z.ZR{constructor(p,_,E,R){var F;super(_.code,_.message),this.operationType=E,this.user=R,Object.setPrototypeOf(this,xs.prototype),this.customData={appName:p.name,tenantId:null!==(F=p.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,_,E,R){return new xs(p,_,E,R)}}function Ds(b,p,_,E){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?xs._fromErrorAndOperation(b,F,p,E):F})}function Mi(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function cf(b,p){return Al.apply(this,arguments)}function Al(){return Al=(0,l.Z)(function*(b,p){const _=(0,z.m9)(b);yield Ha(!0,_,p);const{providerUserInfo:E}=yield function on(b,p){return Mn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),R=Mi(E||[]);return _.providerData=_.providerData.filter(F=>R.has(F.providerId)),R.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Al.apply(this,arguments)}function ir(b,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(b,p,_=!1){const E=yield Yt(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return Fn._forOperation(b,"link",E)})).apply(this,arguments)}function Ha(b,p,_){return ts.apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(b,p,_){yield Hn(p);const R=!1===b?"provider-already-linked":"no-such-provider";he(Mi(p.providerData).has(_)===b,p.auth,R)})).apply(this,arguments)}function rd(b,p){return So.apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(b,p,_=!1){const{auth:E}=b,R="reauthenticate";try{const F=yield Yt(b,Ds(E,R,p,b),_);he(F.idToken,E,"internal-error");const te=Xi(F.idToken);he(te,E,"internal-error");const{sub:pe}=te;return he(b.uid===pe,E,"user-mismatch"),Fn._forOperation(b,R,F)}catch(F){throw"auth/user-not-found"===F?.code&&Ae(E,"user-mismatch"),F}})).apply(this,arguments)}function ja(b,p){return ia.apply(this,arguments)}function ia(){return(ia=(0,l.Z)(function*(b,p,_=!1){const E="signIn",R=yield Ds(b,E,p),F=yield Fn._fromIdTokenResponse(b,E,R);return _||(yield b._updateCurrentUser(F.user)),F})).apply(this,arguments)}function Pt(b,p){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,l.Z)(function*(b,p){return ja(bn(b),p)})).apply(this,arguments)}function uf(b,p){return kc.apply(this,arguments)}function kc(){return(kc=(0,l.Z)(function*(b,p){const _=(0,z.m9)(b);return yield Ha(!1,_,p.providerId),ir(_,p)})).apply(this,arguments)}function Oc(b,p){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,l.Z)(function*(b,p){return rd((0,z.m9)(b),p)})).apply(this,arguments)}function sd(){return(sd=(0,l.Z)(function*(b,p){return ot(b,"POST","/v1/accounts:signInWithCustomToken",ee(b,p))})).apply(this,arguments)}function Sm(b,p){return ve.apply(this,arguments)}function ve(){return ve=(0,l.Z)(function*(b,p){const _=bn(b),E=yield function od(b,p){return sd.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),R=yield Fn._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(R.user),R}),ve.apply(this,arguments)}class Ht{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Fc._fromServerResponse(p,_):"totpInfo"in _?za._fromServerResponse(p,_):Ae(p,"internal-error")}}class Fc extends Ht{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Fc(_)}}class za extends Ht{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new za(_)}}function Yn(b,p,_){var E;he((null===(E=_.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),he(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(he(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(he(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function ad(b,p,_){return ra.apply(this,arguments)}function ra(){return ra=(0,l.Z)(function*(b,p,_){var E;const R=bn(b),F={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=R._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const te=yield bi(R,F,"getOobCode",!0);_&&Yn(R,te,_),yield Js(R,te)}else _&&Yn(R,F,_),yield Js(R,F).catch(function(){var te=(0,l.Z)(function*(pe){if("auth/missing-recaptcha-token"!==pe.code)return Promise.reject(pe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const qe=yield bi(R,F,"getOobCode",!0);_&&Yn(R,qe,_),yield Js(R,qe)}});return function(pe){return te.apply(this,arguments)}}())}),ra.apply(this,arguments)}function Or(b,p,_){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,l.Z)(function*(b,p,_){yield Xs((0,z.m9)(b),{oobCode:p,newPassword:_})})).apply(this,arguments)}function ld(b,p){return cd.apply(this,arguments)}function cd(){return cd=(0,l.Z)(function*(b,p){yield function vs(b,p){return yr.apply(this,arguments)}((0,z.m9)(b),{oobCode:p})}),cd.apply(this,arguments)}function ns(b,p){return oa.apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(b,p){const _=(0,z.m9)(b),E=yield Xs(_,{oobCode:p}),R=E.requestType;switch(he(R,_,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(E.mfaInfo,_,"internal-error");default:he(E.email,_,"internal-error")}let F=null;return E.mfaInfo&&(F=Ht._fromServerResponse(bn(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:F},operation:R}})).apply(this,arguments)}function Ri(b,p){return pr.apply(this,arguments)}function pr(){return(pr=(0,l.Z)(function*(b,p){const{data:_}=yield ns((0,z.m9)(b),p);return _.email})).apply(this,arguments)}function is(b,p,_){return To.apply(this,arguments)}function To(){return To=(0,l.Z)(function*(b,p,_){var E;const R=bn(b),F={returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"};let te;if(null!==(E=R._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const it=yield bi(R,F,"signUpPassword");te=na(R,it)}else te=na(R,F).catch(function(){var it=(0,l.Z)(function*(wt){if("auth/missing-recaptcha-token"===wt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const tn=yield bi(R,F,"signUpPassword");return na(R,tn)}return Promise.reject(wt)});return function(wt){return it.apply(this,arguments)}}());const pe=yield te.catch(it=>Promise.reject(it)),qe=yield Fn._fromIdTokenResponse(R,"signIn",pe);return yield R._updateCurrentUser(qe.user),qe}),To.apply(this,arguments)}function ro(b,p,_){return Pt((0,z.m9)(b),td.credential(p,_))}function ud(b,p,_){return Is.apply(this,arguments)}function Is(){return Is=(0,l.Z)(function*(b,p,_){var E;const R=bn(b),F={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function te(pe,qe){he(qe.handleCodeInApp,R,"argument-error"),qe&&Yn(R,pe,qe)}if(null!==(E=R._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const pe=yield bi(R,F,"getOobCode",!0);te(pe,_),yield ws(R,pe)}else te(F,_),yield ws(R,F).catch(function(){var pe=(0,l.Z)(function*(qe){if("auth/missing-recaptcha-token"!==qe.code)return Promise.reject(qe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const it=yield bi(R,F,"getOobCode",!0);te(it,_),yield ws(R,it)}});return function(qe){return pe.apply(this,arguments)}}())}),Is.apply(this,arguments)}function dd(b,p){return"EMAIL_SIGNIN"===ea.parseLink(p)?.operation}function Tm(b,p,_){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(b,p,_){const E=(0,z.m9)(b),R=td.credentialWithLink(p,_||dt());return he(R._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Pt(E,R)})).apply(this,arguments)}function $a(){return($a=(0,l.Z)(function*(b,p){return ue(b,"POST","/v1/accounts:createAuthUri",ee(b,p))})).apply(this,arguments)}function hd(b,p){return Ol.apply(this,arguments)}function Ol(){return Ol=(0,l.Z)(function*(b,p){const E={identifier:p,continueUri:Zt()?dt():"http://localhost"},{signinMethods:R}=yield function kl(b,p){return $a.apply(this,arguments)}((0,z.m9)(b),E);return R||[]}),Ol.apply(this,arguments)}function fd(b,p){return sa.apply(this,arguments)}function sa(){return sa=(0,l.Z)(function*(b,p){const _=(0,z.m9)(b),R={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Yn(_.auth,R,p);const{email:F}=yield function Mc(b,p){return La.apply(this,arguments)}(_.auth,R);F!==b.email&&(yield b.reload())}),sa.apply(this,arguments)}function Nc(b,p,_){return Ga.apply(this,arguments)}function Ga(){return Ga=(0,l.Z)(function*(b,p,_){const E=(0,z.m9)(b),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};_&&Yn(E.auth,F,_);const{email:te}=yield function Yu(b,p){return nr.apply(this,arguments)}(E.auth,F);te!==b.email&&(yield b.reload())}),Ga.apply(this,arguments)}function Pl(){return(Pl=(0,l.Z)(function*(b,p){return ue(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function pd(b,p){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,l.Z)(function*(b,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const E=(0,z.m9)(b),F={idToken:yield E.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},te=yield Yt(E,function Lc(b,p){return Pl.apply(this,arguments)}(E.auth,F));E.displayName=te.displayName||null,E.photoURL=te.photoUrl||null;const pe=E.providerData.find(({providerId:qe})=>"password"===qe);pe&&(pe.displayName=E.displayName,pe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(te)}),Bc.apply(this,arguments)}function md(b,p){return oo((0,z.m9)(b),p,null)}function ji(b,p){return oo((0,z.m9)(b),null,p)}function oo(b,p,_){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.Z)(function*(b,p,_){const{auth:E}=b,F={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(F.email=p),_&&(F.password=_);const te=yield Yt(b,ai(E,F));yield b._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class aa{constructor(p,_,E={}){this.isNewUser=p,this.providerId=_,this.profile=E}}class Vc extends aa{constructor(p,_,E,R){super(p,_,E),this.username=R}}class Am extends aa{constructor(p,_){super(p,"facebook.com",_)}}class _d extends Vc{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Mm extends aa{constructor(p,_){super(p,"google.com",_)}}class Fl extends Vc{constructor(p,_,E){super(p,"twitter.com",_,E)}}function Uc(b){const{user:p,_tokenResponse:_}=b;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function gd(b){var p,_;if(!b)return null;const{providerId:E}=b,R=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},F=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&b?.idToken){const te=null===(_=null===(p=Xi(b.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(te)return new aa(F,"anonymous"!==te&&"custom"!==te?te:null)}if(!E)return null;switch(E){case"facebook.com":return new Am(F,R);case"github.com":return new _d(F,R);case"google.com":return new Mm(F,R);case"twitter.com":return new Fl(F,R,b.screenName||null);case"custom":case"anonymous":return new aa(F,null);default:return new aa(F,E,R)}}(_)}class Mo{constructor(p,_,E){this.type=p,this.credential=_,this.auth=E}static _fromIdtoken(p,_){return new Mo("enroll",p,_)}static _fromMfaPendingCredential(p){return new Mo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,E;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Mo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return Mo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Hc{constructor(p,_,E){this.session=p,this.hints=_,this.signInResolver=E}static _fromError(p,_){const E=bn(p),R=_.customData._serverResponse,F=(R.mfaInfo||[]).map(pe=>Ht._fromServerResponse(E,pe));he(R.mfaPendingCredential,E,"internal-error");const te=Mo._fromMfaPendingCredential(R.mfaPendingCredential);return new Hc(te,F,function(){var pe=(0,l.Z)(function*(qe){const it=yield qe._process(E,te);delete R.mfaInfo,delete R.mfaPendingCredential;const wt=Object.assign(Object.assign({},R),{idToken:it.idToken,refreshToken:it.refreshToken});switch(_.operationType){case"signIn":const tn=yield Fn._fromIdTokenResponse(E,_.operationType,wt);return yield E._updateCurrentUser(tn.user),tn;case"reauthenticate":return he(_.user,E,"internal-error"),Fn._forOperation(_.user,_.operationType,wt);default:Ae(E,"internal-error")}});return function(qe){return pe.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,l.Z)(function*(){return _.signInResolver(p)})()}}function Wa(b,p){var _;const E=(0,z.m9)(b),R=p;return he(p.customData.operationType,E,"argument-error"),he(null===(_=R.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),Hc._fromError(E,R)}class ua{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>Ht._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new ua(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Mo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var E=this;return(0,l.Z)(function*(){const R=p,F=yield E.getSession(),te=yield Yt(E.user,R._process(E.user.auth,F,_));return yield E.user._updateTokensIfNecessary(te),E.user.reload()})()}unenroll(p){var _=this;return(0,l.Z)(function*(){const E="string"==typeof p?p:p.uid,R=yield _.user.getIdToken();try{const F=yield Yt(_.user,function Ss(b,p){return ue(b,"POST","/v2/accounts/mfaEnrollment:withdraw",ee(b,p))}(_.user.auth,{idToken:R,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:te})=>te!==E),yield _.user._updateTokensIfNecessary(F),yield _.user.reload()}catch(F){throw F}})()}}const Ts=new WeakMap;function da(b){const p=(0,z.m9)(b);return Ts.has(p)||Ts.set(p,ua._fromUser(p)),Ts.get(p)}const Za="__sak";class Ya{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Za,"1"),this.storage.removeItem(Za),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vl=(()=>{class b extends Ya{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function jc(){const b=(0,z.z$)();return L(b)||xt(b)}()&&function yi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const R=this.storage.getItem(E),F=this.localCache[E];R!==F&&_(E,F,R)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((pe,qe,it)=>{this.notifyListeners(pe,it)});const R=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(R);if(_.newValue!==pe)null!==_.newValue?this.storage.setItem(R,_.newValue):this.storage.removeItem(R);else if(this.localCache[R]===_.newValue&&!E)return}const F=()=>{const pe=this.storage.getItem(R);!E&&this.localCache[R]===pe||this.notifyListeners(R,pe)},te=this.storage.getItem(R);!function Tn(){return(0,z.w1)()&&10===document.documentMode}()||te===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,E){this.localCache[_]=E;const R=this.listeners[_];if(R)for(const F of Array.from(R))F(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var R=()=>super._set,F=this;return(0,l.Z)(function*(){yield R().call(F,_,E),F.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,R=this;return(0,l.Z)(function*(){const F=yield E().call(R,_);return R.localCache[_]=JSON.stringify(F),F})()}_remove(_){var E=()=>super._remove,R=this;return(0,l.Z)(function*(){yield E().call(R,_),delete R.localCache[_]})()}}return b.type="LOCAL",b})(),rr=(()=>{class b extends Ya{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return b.type="SESSION",b})();let Gc=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(F=>F.isListeningto(_));if(E)return E;const R=new b(_);return this.receivers.push(R),R}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,l.Z)(function*(){const R=_,{eventId:F,eventType:te,data:pe}=R.data,qe=E.handlersMap[te];if(!qe?.size)return;R.ports[0].postMessage({status:"ack",eventId:F,eventType:te});const it=Array.from(qe).map(function(){var tn=(0,l.Z)(function*(Nr){return Nr(R.origin,pe)});return function(Nr){return tn.apply(this,arguments)}}()),wt=yield function Ed(b){return Promise.all(b.map(function(){var p=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return p.apply(this,arguments)}}()))}(it);R.ports[0].postMessage({status:"done",eventId:F,eventType:te,response:wt})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function so(b="",p=10){let _="";for(let E=0;E<p;E++)_+=Math.floor(10*Math.random());return b+_}class Cd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,E=50){var R=this;return(0,l.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let te,pe;return new Promise((qe,it)=>{const wt=so("",20);F.port1.start();const tn=setTimeout(()=>{it(new Error("unsupported_event"))},E);pe={messageChannel:F,onMessage(Nr){const ba=Nr;if(ba.data.eventId===wt)switch(ba.data.status){case"ack":clearTimeout(tn),te=setTimeout(()=>{it(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),qe(ba.data.response);break;default:clearTimeout(tn),clearTimeout(te),it(new Error("invalid_response"))}}},R.handlers.add(pe),F.port1.addEventListener("message",pe.onMessage),R.target.postMessage({eventType:p,eventId:wt,data:_},[F.port2])}).finally(()=>{pe&&R.removeMessageHandler(pe)})})()}}function Qn(){return window}function Ul(){return typeof Qn().WorkerGlobalScope<"u"&&"function"==typeof Qn().importScripts}function Qa(){return(Qa=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ci="firebaseLocalStorageDb",ha=1,Nn="firebaseLocalStorage",ff="fbase_key";class ss{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function jl(b,p){return b.transaction([Nn],p?"readwrite":"readonly").objectStore(Nn)}function qc(){const b=indexedDB.open(ci,ha);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(Nn,{keyPath:ff})}catch(R){_(R)}}),b.addEventListener("success",(0,l.Z)(function*(){const E=b.result;E.objectStoreNames.contains(Nn)?p(E):(E.close(),yield function fa(){const b=indexedDB.deleteDatabase(ci);return new ss(b).toPromise()}(),p(yield qc()))}))})}function Wc(b,p,_){return as.apply(this,arguments)}function as(){return(as=(0,l.Z)(function*(b,p,_){const E=jl(b,!0).put({[ff]:p,value:_});return new ss(E).toPromise()})).apply(this,arguments)}function As(){return(As=(0,l.Z)(function*(b,p){const _=jl(b,!1).get(p),E=yield new ss(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Xa(b,p){const _=jl(b,!0).delete(p);return new ss(_).toPromise()}const Zc=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield qc()),_.db})()}_withRetries(_){var E=this;return(0,l.Z)(function*(){let R=0;for(;;)try{const F=yield E._openDb();return yield _(F)}catch(F){if(R++>3)throw F;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Ul()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=Gc._getInstance(function Hl(){return Ul()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,l.Z)(function*(R,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(R,F){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,l.Z)(function*(R,F){return["keyChanged"]});return function(R,F){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var E,R;if(_.activeServiceWorker=yield function xd(){return Qa.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Cd(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);F&&null!==(E=F[0])&&void 0!==E&&E.fulfilled&&null!==(R=F[0])&&void 0!==R&&R.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,l.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Dd(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield qc();return yield Wc(_,Za,"1"),yield Xa(_,Za),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,l.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var R=this;return(0,l.Z)(function*(){return R._withPendingWrite((0,l.Z)(function*(){return yield R._withRetries(F=>Wc(F,_,E)),R.localCache[_]=E,R.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,l.Z)(function*(){const R=yield E._withRetries(F=>function pf(b,p){return As.apply(this,arguments)}(F,_));return E.localCache[_]=R,R})()}_remove(_){var E=this;return(0,l.Z)(function*(){return E._withPendingWrite((0,l.Z)(function*(){return yield E._withRetries(R=>Xa(R,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const E=yield _._withRetries(te=>{const pe=jl(te,!1).getAll();return new ss(pe).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const R=[],F=new Set;for(const{fbase_key:te,value:pe}of E)F.add(te),JSON.stringify(_.localCache[te])!==JSON.stringify(pe)&&(_.notifyListeners(te,pe),R.push(te));for(const te of Object.keys(_.localCache))_.localCache[te]&&!F.has(te)&&(_.notifyListeners(te,null),R.push(te));return R})()}notifyListeners(_,E){this.localCache[_]=E;const R=this.listeners[_];if(R)for(const F of Array.from(R))F(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Yc=1e12;class Td{constructor(p){this.auth=p,this.counter=Yc,this._widgets=new Map}render(p,_){const E=this.counter;return this._widgets.set(E,new Kc(p,this.auth.name,_||{})),this.counter++,E}reset(p){var _;const E=p||Yc;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Yc))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,l.Z)(function*(){var E;return null===(E=_._widgets.get(p||Yc))||void 0===E||E.execute(),""})()}}class Kc{constructor(p,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof p?document.getElementById(p):p;he(R,"argument-error",{appName:_}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qc(b){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gf=Hi("rcb"),cy=new _r(3e4,6e4);class Os{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Qn().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return he(function dy(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&Rt(Qn().grecaptcha)?Promise.resolve(Qn().grecaptcha):new Promise((E,R)=>{const F=Qn().setTimeout(()=>{R(Te(p,"network-request-failed"))},cy.get());Qn()[gf]=()=>{Qn().clearTimeout(F),delete Qn()[gf];const pe=Qn().grecaptcha;if(!pe||!Rt(pe))return void R(Te(p,"internal-error"));const qe=pe.render;pe.render=(it,wt)=>{const tn=qe(it,wt);return this.counter++,tn},this.hostLanguage=_,E(pe)},dn(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:gf,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),R(Te(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=Qn().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _f{load(p){return(0,l.Z)(function*(){return new Td(p)})()}clearedOneInstance(){}}const ui="recaptcha",$l={theme:"light",type:"image"};class Gl{constructor(p,_=Object.assign({},$l),E){this.parameters=_,this.type=ui,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(E),this.isInvisible="invisible"===this.parameters.size,he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof p?document.getElementById(p):p;he(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _f:new Os,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(_)||new Promise(F=>{const te=pe=>{pe&&(p.tokenChangeListeners.delete(te),F(pe))};p.tokenChangeListeners.add(te),p.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof p)p(_);else if("string"==typeof p){const E=Qn()[p];"function"==typeof E&&E(_)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){he(Zt()&&!Ul(),p.auth,"internal-error"),yield function Xc(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function ye(b){return ce.apply(this,arguments)}(p.auth);he(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vr{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=Xo._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function ls(b,p,_){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,l.Z)(function*(b,p,_){const E=bn(b),R=yield el(E,p,(0,z.m9)(_));return new vr(R,F=>Pt(E,F))})).apply(this,arguments)}function Ja(b,p,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(b,p,_){const E=(0,z.m9)(b);yield Ha(!1,E,"phone");const R=yield el(E.auth,p,(0,z.m9)(_));return new vr(R,F=>uf(E,F))})).apply(this,arguments)}function Ad(b,p,_){return ma.apply(this,arguments)}function ma(){return(ma=(0,l.Z)(function*(b,p,_){const E=(0,z.m9)(b),R=yield el(E.auth,p,(0,z.m9)(_));return new vr(R,F=>Oc(E,F))})).apply(this,arguments)}function el(b,p,_){return ql.apply(this,arguments)}function ql(){return ql=(0,l.Z)(function*(b,p,_){var E;const R=yield _.verify();try{let F;if(he("string"==typeof R,b,"argument-error"),he(_.type===ui,b,"argument-error"),F="string"==typeof p?{phoneNumber:p}:p,"session"in F){const te=F.session;if("phoneNumber"in F)return he("enroll"===te.type,b,"internal-error"),(yield function Bl(b,p){return ue(b,"POST","/v2/accounts/mfaEnrollment:start",ee(b,p))}(b,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{he("signin"===te.type,b,"internal-error");const pe=(null===(E=F.multiFactorHint)||void 0===E?void 0:E.uid)||F.multiFactorUid;return he(pe,b,"missing-multi-factor-info"),(yield function Id(b,p){return ue(b,"POST","/v2/accounts/mfaSignIn:start",ee(b,p))}(b,{mfaPendingCredential:te.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield function Dm(b,p){return Ku.apply(this,arguments)}(b,{phoneNumber:F.phoneNumber,recaptchaToken:R});return te}}finally{_._reset()}}),ql.apply(this,arguments)}function Pr(b,p){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,l.Z)(function*(b,p){yield ir((0,z.m9)(b),p)})).apply(this,arguments)}let Ft=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=bn(_)}verifyPhoneNumber(_,E){return el(this.auth,_,(0,z.m9)(E))}static credential(_,E){return Xo._fromVerification(_,E)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:R}=_;return E&&R?Xo._fromTokenResponse(E,R):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ao(b,p){return p?Zn(p):(he(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Ln extends Rr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Qo(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Qo(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Qo(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function ko(b){return ja(b.auth,new Ln(b),b.bypassAuthState)}function Ps(b){const{auth:p,user:_}=b;return he(_,p,"internal-error"),rd(_,new Ln(b),b.bypassAuthState)}function eu(b){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,l.Z)(function*(b){const{auth:p,user:_}=b;return he(_,p,"internal-error"),ir(_,new Ln(b),b.bypassAuthState)})).apply(this,arguments)}class Ns{constructor(p,_,E,R,F=!1){this.auth=p,this.resolver=E,this.user=R,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,l.Z)(function*(E,R){p.pendingPromise={resolve:E,reject:R};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(F){p.reject(F)}});return function(E,R){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,l.Z)(function*(){const{urlResponse:E,sessionId:R,postBody:F,tenantId:te,error:pe,type:qe}=p;if(pe)return void _.reject(pe);const it={auth:_.auth,requestUri:E,sessionId:R,tenantId:te||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(qe)(it))}catch(wt){_.reject(wt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ko;case"linkViaPopup":case"linkViaRedirect":return eu;case"reauthViaPopup":case"reauthViaRedirect":return Ps;default:Ae(this.auth,"internal-error")}}resolve(p){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Md=new _r(2e3,1e4);function zi(b,p,_){return qr.apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(b,p,_){const E=bn(b);$e(b,p,Jo);const R=ao(E,_);return new tu(E,"signInViaPopup",p,R).executeNotNull()})).apply(this,arguments)}function Oo(b,p,_){return cs.apply(this,arguments)}function cs(){return(cs=(0,l.Z)(function*(b,p,_){const E=(0,z.m9)(b);$e(E.auth,p,Jo);const R=ao(E.auth,_);return new tu(E.auth,"reauthViaPopup",p,R,E).executeNotNull()})).apply(this,arguments)}function ga(b,p,_){return us.apply(this,arguments)}function us(){return(us=(0,l.Z)(function*(b,p,_){const E=(0,z.m9)(b);$e(E.auth,p,Jo);const R=ao(E.auth,_);return new tu(E.auth,"linkViaPopup",p,R,E).executeNotNull()})).apply(this,arguments)}let tu=(()=>{class b extends Ns{constructor(_,E,R,F,te){super(_,E,F,te),this.provider=R,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const E=yield _.execute();return he(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,l.Z)(function*(){St(1===_.filter.length,"Popup operations only handle one event");const E=so();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(R=>{_.reject(R)}),_.resolver._isIframeWebStorageSupported(_.auth,R=>{R||_.reject(Te(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,R;this.pollId=null!==(R=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==R&&R.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Md.get())};_()}}return b.currentPopupAction=null,b})();const Rd="pendingRedirect",br=new Map;class lo extends Ns{constructor(p,_,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,l.Z)(function*(){let E=br.get(_.auth._key());if(!E){try{const F=(yield function nu(b,p){return ki.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;E=()=>Promise.resolve(F)}catch(R){E=()=>Promise.reject(R)}br.set(_.auth._key(),E)}return _.bypassAuthState||br.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,E=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(E,p);if("unknown"!==p.type){if(p.eventId){const R=yield E.auth._redirectUserForId(p.eventId);if(R)return E.user=R,_().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function ki(){return(ki=(0,l.Z)(function*(b,p){const _=yf(p),E=Om(b);if(!(yield E._isAvailable()))return!1;const R="true"===(yield E._get(_));return yield E._remove(_),R})).apply(this,arguments)}function Ls(b,p){return hn.apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(b,p){return Om(b)._set(yf(p),"true")})).apply(this,arguments)}function nt(){br.clear()}function km(b,p){br.set(b._key(),p)}function Om(b){return Zn(b._redirectPersistence)}function yf(b){return er(Rd,b.config.apiKey,b.name)}function vf(b,p,_){return function Pm(b,p,_){return iu.apply(this,arguments)}(b,p,_)}function iu(){return(iu=(0,l.Z)(function*(b,p,_){const E=bn(b);$e(b,p,Jo),yield E._initializationPromise;const R=ao(E,_);return yield Ls(R,E),R._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function bf(b,p,_){return function wf(b,p,_){return tl.apply(this,arguments)}(b,p,_)}function tl(){return(tl=(0,l.Z)(function*(b,p,_){const E=(0,z.m9)(b);$e(E.auth,p,Jo),yield E.auth._initializationPromise;const R=ao(E.auth,_);yield Ls(R,E.auth);const F=yield Pd(E);return R._openRedirect(E.auth,p,"reauthViaRedirect",F)})).apply(this,arguments)}function Ef(b,p,_){return function kd(b,p,_){return Od.apply(this,arguments)}(b,p,_)}function Od(){return(Od=(0,l.Z)(function*(b,p,_){const E=(0,z.m9)(b);$e(E.auth,p,Jo),yield E.auth._initializationPromise;const R=ao(E.auth,_);yield Ha(!1,E,p.providerId),yield Ls(R,E.auth);const F=yield Pd(E);return R._openRedirect(E.auth,p,"linkViaRedirect",F)})).apply(this,arguments)}function hy(b,p){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,l.Z)(function*(b,p){return yield bn(b)._initializationPromise,Cf(b,p,!1)})).apply(this,arguments)}function Cf(b,p){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,l.Z)(function*(b,p,_=!1){const E=bn(b),R=ao(E,p),te=yield new lo(E,R,_).execute();return te&&!_&&(delete te.user._redirectEventId,yield E._persistUserIfCurrent(te.user),yield E._setRedirectUser(null,p)),te})).apply(this,arguments)}function Pd(b){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,l.Z)(function*(b){const p=so(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class Fd{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(_=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Df(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nd(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var E;if(p.error&&!Nd(p)){const R=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(Te(this.auth,R))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const E=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nl(p))}saveEventToCache(p){this.cachedEventUids.add(nl(p)),this.lastProcessedEventTime=Date.now()}}function nl(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function Nd({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function Ld(b){return ru.apply(this,arguments)}function ru(){return(ru=(0,l.Z)(function*(b,p={}){return ue(b,"GET","/v1/projects",p)})).apply(this,arguments)}const W0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fy=/^https?/;function Kl(){return(Kl=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield Ld(b);for(const _ of p)try{if(If(_))return}catch{}Ae(b,"unauthorized-domain")})).apply(this,arguments)}function If(b){const p=dt(),{protocol:_,hostname:E}=new URL(p);if(b.startsWith("chrome-extension://")){const te=new URL(b);return""===te.hostname&&""===E?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&te.hostname===E}if(!fy.test(_))return!1;if(W0.test(b))return E===b;const R=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(E)}const _a=new _r(3e4,6e4);function ou(){const b=Qn().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let su=null;const Nm=new _r(5e3,15e3),Bs="__/auth/iframe",Bd="emulator/auth/iframe",py={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lm(b){const p=b.config;he(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?zr(p,Bd):`https://${b.config.authDomain}/${Bs}`,E={apiKey:p.apiKey,appName:b.name,v:P.SDK_VERSION},R=Sf.get(b.config.apiHost);R&&(E.eid=R);const F=b._getFrameworks();return F.length&&(E.fw=F.join(",")),`${_}?${(0,z.xO)(E).slice(1)}`}function Vd(){return Vd=(0,l.Z)(function*(b){const p=yield function ya(b){return su=su||function Po(b){return new Promise((p,_)=>{var E,R,F;function te(){ou(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ou(),_(Te(b,"network-request-failed"))},timeout:_a.get()})}if(null!==(R=null===(E=Qn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==R&&R.Iframe)p(gapi.iframes.getContext());else{if(null===(F=Qn().gapi)||void 0===F||!F.load){const pe=Hi("iframefcb");return Qn()[pe]=()=>{gapi.load?te():_(Te(b,"network-request-failed"))},dn(`https://apis.google.com/js/api.js?onload=${pe}`).catch(qe=>_(qe))}te()}}).catch(p=>{throw su=null,p})}(b),su}(b),_=Qn().gapi;return he(_,b,"internal-error"),p.open({where:document.body,url:Lm(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:py,dontclear:!0},E=>new Promise(function(){var R=(0,l.Z)(function*(F,te){yield E.restyle({setHideOnLeave:!1});const pe=Te(b,"network-request-failed"),qe=Qn().setTimeout(()=>{te(pe)},Nm.get());function it(){Qn().clearTimeout(qe),F(E)}E.ping(it).then(it,()=>{te(pe)})});return function(F,te){return R.apply(this,arguments)}}()))}),Vd.apply(this,arguments)}const w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D=500,M=600,U="_blank",K="http://localhost";class J{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ze="__/auth/handler",gt="emulator/auth/handler",Vt=encodeURIComponent("fac");function Ut(b,p,_,E,R,F){return mr.apply(this,arguments)}function mr(){return(mr=(0,l.Z)(function*(b,p,_,E,R,F){he(b.config.authDomain,b,"auth-domain-config-required"),he(b.config.apiKey,b,"invalid-api-key");const te={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:E,v:P.SDK_VERSION,eventId:R};if(p instanceof Jo){p.setDefaultLanguage(b.languageCode),te.providerId=p.providerId||"",(0,z.xb)(p.getCustomParameters())||(te.customParameters=JSON.stringify(p.getCustomParameters()));for(const[wt,tn]of Object.entries(F||{}))te[wt]=tn}if(p instanceof ta){const wt=p.getScopes().filter(tn=>""!==tn);wt.length>0&&(te.scopes=wt.join(","))}b.tenantId&&(te.tid=b.tenantId);const pe=te;for(const wt of Object.keys(pe))void 0===pe[wt]&&delete pe[wt];const qe=yield b._getAppCheckToken(),it=qe?`#${Vt}=${encodeURIComponent(qe)}`:"";return`${function $i({config:b}){return b.emulator?zr(b,gt):`https://${b.authDomain}/${Ze}`}(b)}?${(0,z.xO)(pe).slice(1)}${it}`})).apply(this,arguments)}const va="webStorageSupport",il=class Ud{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rr,this._completeRedirectFn=Cf,this._overrideRedirectResult=km}_openPopup(p,_,E,R){var F=this;return(0,l.Z)(function*(){var te;St(null===(te=F.eventManagers[p._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const pe=yield Ut(p,_,E,dt(),R);return function ge(b,p,_,E=D,R=M){const F=Math.max((window.screen.availHeight-R)/2,0).toString(),te=Math.max((window.screen.availWidth-E)/2,0).toString();let pe="";const qe=Object.assign(Object.assign({},w),{width:E.toString(),height:R.toString(),top:F,left:te}),it=(0,z.z$)().toLowerCase();_&&(pe=O(it)?U:_),N(it)&&(p=p||K,qe.scrollbars="yes");const wt=Object.entries(qe).reduce((Nr,[ba,Of])=>`${Nr}${ba}=${Of},`,"");if(function Ot(b=(0,z.z$)()){var p;return xt(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(it)&&"_self"!==pe)return function Xe(b,p){const _=document.createElement("a");_.href=b,_.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(p||"",pe),new J(null);const tn=window.open(p||"",pe,wt);he(tn,b,"popup-blocked");try{tn.focus()}catch{}return new J(tn)}(p,pe,so())})()}_openRedirect(p,_,E,R){var F=this;return(0,l.Z)(function*(){return yield F._originValidation(p),function os(b){Qn().location.href=b}(yield Ut(p,_,E,dt(),R)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:R,promise:F}=this.eventManagers[_];return R?Promise.resolve(R):(St(F,"If manager is not set, promise should be"),F)}const E=this.initAndGetManager(p);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(p){var _=this;return(0,l.Z)(function*(){const E=yield function Tf(b){return Vd.apply(this,arguments)}(p),R=new Fd(p);return E.register("authEvent",F=>(he(F?.authEvent,p,"invalid-auth-event"),{status:R.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:R},_.iframes[p._key()]=E,R})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(va,{type:va},R=>{var F;const te=null===(F=R?.[0])||void 0===F?void 0:F[va];void 0!==te&&_(!!te),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Fm(b){return Kl.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return zt()||L()||xt()}};class Fr{constructor(p){this.factorId=p}_process(p,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,E);case"signin":return this._finalizeSignIn(p,_.credential);default:return et("unexpected MultiFactorSessionType")}}}class Wr extends Fr{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Wr(p)}_finalizeEnroll(p,_,E){return function ca(b,p){return ue(b,"POST","/v2/accounts/mfaEnrollment:finalize",ee(b,p))}(p,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function ks(b,p){return ue(b,"POST","/v2/accounts/mfaSignIn:finalize",ee(b,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Af=(()=>{class b{constructor(){}static assertion(_){return Wr._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var kf="@firebase/auth";class lu{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Um=(0,z.Pz)("authIdTokenMaxAge")||300;let _y=null;const Y0=b=>function(){var p=(0,l.Z)(function*(_){const E=_&&(yield _.getIdTokenResult()),R=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(R&&R>Um)return;const F=E?.token;_y!==F&&(_y=F,yield fetch(b,{method:F?"POST":"DELETE",headers:F?{Authorization:`Bearer ${F}`}:{}}))});return function(_){return p.apply(this,arguments)}}();function K0(b=(0,P.getApp)()){const p=(0,P._getProvider)(b,"auth");if(p.isInitialized())return p.getImmediate();const _=function wi(b,p){const _=(0,P._getProvider)(b,"auth");if(_.isInitialized()){const R=_.getImmediate(),F=_.getOptions();if((0,z.vZ)(F,p??{}))return R;Ae(R,"already-initialized")}return _.initialize({options:p})}(b,{popupRedirectResolver:il,persistence:[Zc,Vl,rr]}),E=(0,z.Pz)("authTokenSyncURL");if(E){const F=Y0(E);(function la(b,p,_){(0,z.m9)(b).beforeAuthStateChanged(p,_)})(_,F,()=>F(_.currentUser)),function Nl(b,p,_,E){(0,z.m9)(b).onIdTokenChanged(p,_,E)}(_,te=>F(te))}const R=(0,z.q4)("auth");return R&&zn(_,`http://${R}`),_}!function gy(b){(0,P._registerComponent)(new re.wA("auth",(p,{options:_})=>{const E=p.getProvider("app").getImmediate(),R=p.getProvider("heartbeat"),F=p.getProvider("app-check-internal"),{apiKey:te,authDomain:pe}=E.options;he(te&&!te.includes(":"),"invalid-api-key",{appName:E.name});const qe={apiKey:te,authDomain:pe,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xo(b)},it=new Rn(E,R,F,qe);return function Yo(b,p){const _=p?.persistence||[],E=(Array.isArray(_)?_:[_]).map(Zn);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(E,p?.popupRedirectResolver)}(it,_),it},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,E)=>{p.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new re.wA("auth-internal",p=>{const _=bn(p.getProvider("auth").getImmediate());return new lu(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(kf,"0.23.2",function Vm(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,P.registerVersion)(kf,"0.23.2","esm2017")}("Browser")},2090:(vt,Me,V)=>{V.d(Me,{$s:()=>Zn,BH:()=>Fe,G6:()=>zr,L:()=>Ee,LL:()=>_e,P0:()=>He,Pz:()=>Te,Sg:()=>$e,UG:()=>et,US:()=>re,ZB:()=>ie,ZR:()=>ue,aH:()=>Ae,b$:()=>Zt,eu:()=>Wo,hl:()=>$r,jU:()=>St,m9:()=>er,ne:()=>Yt,pd:()=>Xi,q4:()=>Le,r3:()=>on,ru:()=>dt,tV:()=>Y,uI:()=>he,vZ:()=>ct,w1:()=>Co,xO:()=>Gn,xb:()=>si,z$:()=>Be,zI:()=>ae,zd:()=>Vi});const se=function(G){const $=[];let N=0;for(let L=0;L<G.length;L++){let O=G.charCodeAt(L);O<128?$[N++]=O:O<2048?($[N++]=O>>6|192,$[N++]=63&O|128):55296==(64512&O)&&L+1<G.length&&56320==(64512&G.charCodeAt(L+1))?(O=65536+((1023&O)<<10)+(1023&G.charCodeAt(++L)),$[N++]=O>>18|240,$[N++]=O>>12&63|128,$[N++]=O>>6&63|128,$[N++]=63&O|128):($[N++]=O>>12|224,$[N++]=O>>6&63|128,$[N++]=63&O|128)}return $},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,$){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let O=0;O<G.length;O+=3){const Q=G[O],Ie=O+1<G.length,st=Ie?G[O+1]:0,Tt=O+2<G.length,xt=Tt?G[O+2]:0;let Tn=(15&st)<<2|xt>>6,zt=63&xt;Tt||(zt=64,Ie||(Tn=64)),L.push(N[Q>>2],N[(3&Q)<<4|st>>4],N[Tn],N[zt])}return L.join("")},encodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(G):this.encodeByteArray(se(G),$)},decodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(G):function(G){const $=[];let N=0,L=0;for(;N<G.length;){const O=G[N++];if(O<128)$[L++]=String.fromCharCode(O);else if(O>191&&O<224){const Q=G[N++];$[L++]=String.fromCharCode((31&O)<<6|63&Q)}else if(O>239&&O<365){const Tt=((7&O)<<18|(63&G[N++])<<12|(63&G[N++])<<6|63&G[N++])-65536;$[L++]=String.fromCharCode(55296+(Tt>>10)),$[L++]=String.fromCharCode(56320+(1023&Tt))}else{const Q=G[N++],Ie=G[N++];$[L++]=String.fromCharCode((15&O)<<12|(63&Q)<<6|63&Ie)}}return $.join("")}(this.decodeStringToByteArray(G,$))},decodeStringToByteArray(G,$){this.init_();const N=$?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let O=0;O<G.length;){const Q=N[G.charAt(O++)],st=O<G.length?N[G.charAt(O)]:0;++O;const xt=O<G.length?N[G.charAt(O)]:64;++O;const Ot=O<G.length?N[G.charAt(O)]:64;if(++O,null==Q||null==st||null==xt||null==Ot)throw new De;L.push(Q<<2|st>>4),64!==xt&&(L.push(st<<4&240|xt>>2),64!==Ot&&L.push(xt<<6&192|Ot))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(G){return function(G){const $=se(G);return re.encodeByteArray($,!0)}(G).replace(/\./g,"")},Y=function(G){try{return re.decodeString(G,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function ie(G,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return $}for(const N in $)!$.hasOwnProperty(N)||!ze(N)||(G[N]=ie(G[N],$[N]));return G}function ze(G){return"__proto__"!==G}const Pe=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=G&&Y(G[1]);return $&&JSON.parse($)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},Le=G=>{var $,N;return null===(N=null===($=Pe())||void 0===$?void 0:$.emulatorHosts)||void 0===N?void 0:N[G]},He=G=>{const $=Le(G);if(!$)return;const N=$.lastIndexOf(":");if(N<=0||N+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const L=parseInt($.substring(N+1),10);return"["===$[0]?[$.substring(1,N-1),L]:[$.substring(0,N),L]},Ae=()=>{var G;return null===(G=Pe())||void 0===G?void 0:G.config},Te=G=>{var $;return null===($=Pe())||void 0===$?void 0:$[`_${G}`]};class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,N)=>{this.resolve=$,this.reject=N})}wrapCallback($){return(N,L)=>{N?this.reject(N):this.resolve(L),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(N):$(N,L))}}}function $e(G,$){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=$||"demo-project",O=G.iat||0,Q=G.sub||G.user_id;if(!Q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ie=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:O,exp:O+3600,auth_time:O,sub:Q,user_id:Q,firebase:{sign_in_provider:"custom",identities:{}}},G);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(Ie)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function et(){var G;const $=null===(G=Pe())||void 0===G?void 0:G.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function St(){return"object"==typeof self&&self.self===self}function dt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Co(){const G=Be();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function zr(){return!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $r(){try{return"object"==typeof indexedDB}catch{return!1}}function Wo(){return new Promise((G,$)=>{try{let N=!0;const L="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(L);O.onsuccess=()=>{O.result.close(),N||self.indexedDB.deleteDatabase(L),G(!0)},O.onupgradeneeded=()=>{N=!1},O.onerror=()=>{var Q;$((null===(Q=O.error)||void 0===Q?void 0:Q.message)||"")}}catch(N){$(N)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ue extends Error{constructor($,N,L){super(N),this.code=$,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_e.prototype.create)}}class _e{constructor($,N,L){this.service=$,this.serviceName=N,this.errors=L}create($,...N){const L=N[0]||{},O=`${this.service}/${$}`,Q=this.errors[$],Ie=Q?function Re(G,$){return G.replace(xe,(N,L)=>{const O=$[L];return null!=O?String(O):`<${L}?>`})}(Q,L):"Error";return new ue(O,`${this.serviceName}: ${Ie} (${O}).`,L)}}const xe=/\{\$([^}]+)}/g;function on(G,$){return Object.prototype.hasOwnProperty.call(G,$)}function si(G){for(const $ in G)if(Object.prototype.hasOwnProperty.call(G,$))return!1;return!0}function ct(G,$){if(G===$)return!0;const N=Object.keys(G),L=Object.keys($);for(const O of N){if(!L.includes(O))return!1;const Q=G[O],Ie=$[O];if(Un(Q)&&Un(Ie)){if(!ct(Q,Ie))return!1}else if(Q!==Ie)return!1}for(const O of L)if(!N.includes(O))return!1;return!0}function Un(G){return null!==G&&"object"==typeof G}function Gn(G){const $=[];for(const[N,L]of Object.entries(G))Array.isArray(L)?L.forEach(O=>{$.push(encodeURIComponent(N)+"="+encodeURIComponent(O))}):$.push(encodeURIComponent(N)+"="+encodeURIComponent(L));return $.length?"&"+$.join("&"):""}function Vi(G){const $={};return G.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[O,Q]=L.split("=");$[decodeURIComponent(O)]=decodeURIComponent(Q)}}),$}function Xi(G){const $=G.indexOf("?");if(!$)return"";const N=G.indexOf("#",$);return G.substring($,N>0?N:void 0)}function Yt(G,$){const N=new pt(G,$);return N.subscribe.bind(N)}class pt{constructor($,N){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=N,this.task.then(()=>{$(this)}).catch(L=>{this.error(L)})}next($){this.forEachObserver(N=>{N.next($)})}error($){this.forEachObserver(N=>{N.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,N,L){let O;if(void 0===$&&void 0===N&&void 0===L)throw new Error("Missing Observer.");O=function qn(G,$){if("object"!=typeof G||null===G)return!1;for(const N of $)if(N in G&&"function"==typeof G[N])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:N,complete:L},void 0===O.next&&(O.next=Si),void 0===O.error&&(O.error=Si),void 0===O.complete&&(O.complete=Si);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),Q}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let N=0;N<this.observers.length;N++)this.sendOne(N,$)}sendOne($,N){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{N(this.observers[$])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Si(){}const jt=1e3,Wn=2,Pn=144e5,Ti=.5;function Zn(G,$=jt,N=Wn){const L=$*Math.pow(N,G),O=Math.round(Ti*L*(Math.random()-.5)*2);return Math.min(Pn,L+O)}function er(G){return G&&G._delegate?G._delegate:G}},5805:(vt,Me,V)=>{var l=V(4650);let z=null;function P(){return z}class fe{}const re=new l.OlP("DocumentToken");let De=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function be(){return(0,l.LFG)(Y)}()},providedIn:"platform"}),n})();const Ee=new l.OlP("Location Initialized");let Y=(()=>{class n extends De{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){W()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){W()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ie(){return new Y((0,l.LFG)(re))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function ze(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let ut=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Pe)},providedIn:"root"}),n})();const we=new l.OlP("appBaseHref");let Pe=(()=>{class n extends ut{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ze(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Qe(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const c=this.prepareExternalUrl(r+Qe(o));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,o){const c=this.prepareExternalUrl(r+Qe(o));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(De),l.LFG(we,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Le=(()=>{class n extends ut{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=ze(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let c=this.prepareExternalUrl(r+Qe(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,o){let c=this.prepareExternalUrl(r+Qe(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(De),l.LFG(we,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function $e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ke(Fe(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Qe(i))}normalize(t){return n.stripTrailingSlash(function Te(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Fe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=ze,n.stripTrailingSlash=ke,n.\u0275fac=function(t){return new(t||n)(l.LFG(ut))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ae(){return new He((0,l.LFG)(ut))}()},providedIn:"root"}),n})();function Fe(n){return n.replace(/\/index.html$/,"")}class wi{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yo=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new wi(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,c),zn(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{zn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function zn(n,e){n.context.$implicit=e.item}let tr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new qt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){xl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){xl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qt{constructor(){this.$implicit=null,this.ngIf=null}}function xl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class Rr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Xs=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Do=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Rr(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Xs,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ei=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,o,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})(),io=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const rf="browser",ea="server";function ta(n){return n===ea}let Il=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new af((0,l.LFG)(re),window)}),n})();class af{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Rc(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=es(this.window.history)||es(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function es(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class vd extends fe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Nl extends vd{static makeCurrent(){!function se(n){z||(z=n)}(new Nl)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function qa(){return la=la||document.querySelector("base"),la?la.getAttribute("href"):null}();return null==t?null:function Rm(n){Ao=Ao||document.createElement("a"),Ao.setAttribute("href",n);const e=Ao.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){la=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function _s(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Ao,la=null;const df=new l.OlP("TRANSITION_ID"),bd=[{provide:l.ip1,useFactory:function Ll(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=P(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[df,re,l.zs3],multi:!0}];let Hc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Wa=new l.OlP("EventManagerPlugins");let Bl=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wa),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ca{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=P().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let wd=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let o=r.get(t)??0;return o+=i,o>0?r.set(t,o):r.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),rs=(()=>{class n extends wd{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(o=>o.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ss={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ua=/%COMP%/g,Ka=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Vl(n,e){return e.flat(100).map(t=>t.replace(ua,n))}function $c(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let rr=(()=>{class n{constructor(t,i,r,o){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ed(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof Ul?r.applyToHost(t):r instanceof os&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const c=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestory;switch(i.encapsulation){case l.ifc.Emulated:o=new Ul(c,h,i,this.appId,g);break;case l.ifc.ShadowDom:return new Qn(c,h,t,i);default:o=new os(c,h,i,g)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Bl),l.LFG(rs),l.LFG(l.AFp),l.LFG(Ka))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ed{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ss[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Cd(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Cd(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=Ss[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ss[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,$c(i)):this.eventManager.addEventListener(e,t,$c(i))}}function Cd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Qn extends Ed{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Vl(r.id,r.styles);for(const c of o){const h=document.createElement("style");h.textContent=c,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class os extends Ed{constructor(e,t,i,r,o=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=Vl(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ul extends os{constructor(e,t,i,r,o){const c=r+"-"+i.id;super(e,t,i,o,c),this.contentAttr=function hf(n){return"_ngcontent-%COMP%".replace(ua,n)}(c),this.hostAttr=function zc(n){return"_nghost-%COMP%".replace(ua,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let xd=(()=>{class n extends ca{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Qa=["alt","control","meta","shift"],Dd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ci=(()=>{class n extends ca{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,o.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),c="code."),Qa.forEach(v=>{const x=i.indexOf(v);x>-1&&(i.splice(x,1),c+=v+".")}),c+=o,0!=i.length||0===o.length)return null;const g={};return g.domEventName=r,g.fullKey=c,g}static matchEventFullKeyCode(t,i){let r=Dd[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Qa.forEach(c=>{c!==r&&(0,Hl[c])(t)&&(o+=c+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const pf=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:rf},{provide:l.g9A,useValue:function fa(){Nl.makeCurrent()},multi:!0},{provide:re,useFactory:function Wc(){return(0,l.RDi)(document),document},deps:[]}]),As=new l.OlP(""),Xa=[{provide:l.rWj,useClass:class Mo{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const h=function(g){c=c||g,o--,0==o&&i(c)};r.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Ms=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function qc(){return new l.qLn},deps:[]},{provide:Wa,useClass:xd,multi:!0,deps:[re,l.R0b,l.Lbi]},{provide:Wa,useClass:ci,multi:!0,deps:[re]},{provide:rr,useClass:rr,deps:[Bl,rs,l.AFp,Ka]},{provide:l.FYo,useExisting:rr},{provide:wd,useExisting:rs},{provide:rs,useClass:rs,deps:[re]},{provide:Bl,useClass:Bl,deps:[Wa,l.R0b]},{provide:class lf{},useClass:Hc,deps:[]},[]];let Rs=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:df,useExisting:l.AFp},bd]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(As,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Ms,...Xa],imports:[io,l.hGG]}),n})(),mf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ks(){return new mf((0,l.LFG)(re))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ma=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(ql),i},providedIn:"root"}),n})(),ql=(()=>{class n extends ma{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${l.JZr})`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function el(n){return new ql(n.get(re))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();const Ro_firebase={apiKey:"AIzaSyDg2m0XpvZgLLdSO3mFij8HzFvAF1KrGPk",authDomain:"museum-ticket-shop-3cb31.firebaseapp.com",projectId:"museum-ticket-shop-3cb31",storageBucket:"museum-ticket-shop-3cb31.firebasestorage.app",messagingSenderId:"433489896625",appId:"1:433489896625:web:1699d2f868242e87bcee90",measurementId:"G-CNR2594C4W"};var Ft=V(7579);let ao;try{ao=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ao=!1}let Ps,Ln=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Jo(n){return n===rf}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ao)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eu=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Fs(){if(Ps)return Ps;if("object"!=typeof document||!document)return Ps=new Set(eu),Ps;let n=document.createElement("input");return Ps=new Set(eu.filter(e=>(n.setAttribute("type",e),n.type===e))),Ps}let Ns,qr,Oo,us;function zi(n){return function Md(){if(null==Ns&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ns=!0}))}finally{Ns=Ns||!1}return Ns}()?n:!!n.capture}function cs(){if(null==Oo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Oo=!1,Oo;if("scrollBehavior"in document.documentElement.style)Oo=!0;else{const n=Element.prototype.scrollTo;Oo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Oo}function ga(){if("object"!=typeof document||!document)return 0;if(null==qr){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),qr=0,0===n.scrollLeft&&(n.scrollLeft=1,qr=0===n.scrollLeft?1:2),n.remove()}return qr}function br(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function lo(n){return n.composedPath?n.composedPath()[0]:n.target}function nu(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class ki extends Ft.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var Ls=V(3269),hn=V(8996);function nt(...n){const e=(0,Ls.yG)(n);return(0,hn.D)(n,e)}function XI(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var rl=V(515),Gi=V(4482),qi=V(5403);function wr(n){return n<=0?()=>rl.E:(0,Gi.e)((e,t)=>{let i=0;e.subscribe((0,qi.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function xi(n,e){return(0,Gi.e)((t,i)=>{let r=0;t.subscribe((0,qi.x)(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Gm(n){return xi((e,t)=>n<=t)}var jd=V(4671);function by(n,e=jd.y){return n=n??tw,(0,Gi.e)((t,i)=>{let r,o=!0;t.subscribe((0,qi.x)(i,c=>{const h=e(c);(o||!n(r,h))&&(o=!1,r=h,i.next(c))}))})}function tw(n,e){return n===e}var Fo=V(8421),JI=V(5032);function co(n){return(0,Gi.e)((e,t)=>{(0,Fo.Xf)(n).subscribe((0,qi.x)(t,()=>t.complete(),JI.Z)),!t.closed&&e.subscribe(t)})}function No(n){return null!=n&&"false"!=`${n}`}function wy(n,e=0){return function eS(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function ds(n){return Array.isArray(n)?n:[n]}function Xn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ol(n){return n instanceof l.SBq?n.nativeElement:n}var or=V(9751),qm=V(4986);function Ey(n,e=qm.z){return(0,Gi.e)((t,i)=>{let r=null,o=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=o;o=null,i.next(v)}};function g(){const v=c+n,x=e.now();if(x<v)return r=this.schedule(void 0,v-x),void i.add(r);h()}t.subscribe((0,qi.x)(i,v=>{o=v,c=e.now(),r||(r=e.schedule(g,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}let nw=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iw=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=ol(t);return new or.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Ft.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(nw))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tS=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=No(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=wy(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Ey(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(iw),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),rw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[nw]}),n})();const{isArray:nS}=Array,{getPrototypeOf:iS,prototype:Wm,keys:sl}=Object;function zd(n){if(1===n.length){const e=n[0];if(nS(e))return{args:e,keys:null};if(function ow(n){return n&&"object"==typeof n&&iS(n)===Wm}(e)){const t=sl(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var yt=V(4004);const{isArray:sw}=Array;function aw(n){return(0,yt.U)(e=>function dP(n,e){return sw(e)?n(...e):n(e)}(n,e))}function rS(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Cy=V(9672);function Uf(...n){const e=(0,Ls.yG)(n),t=(0,Ls.jO)(n),{args:i,keys:r}=zd(n);if(0===i.length)return(0,hn.D)([],e);const o=new or.y(function hP(n,e,t=jd.y){return i=>{oS(e,()=>{const{length:r}=n,o=new Array(r);let c=r,h=r;for(let g=0;g<r;g++)oS(e,()=>{const v=(0,hn.D)(n[g],e);let x=!1;v.subscribe((0,qi.x)(i,S=>{o[g]=S,x||(x=!0,h--),h||i.next(t(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>rS(r,c):jd.y));return t?o.pipe(aw(t)):o}function oS(n,e,t){n?(0,Cy.f)(t,n,e):e()}var $d=V(8189);function Zm(...n){return function sS(){return(0,$d.J)(1)}()((0,hn.D)(n,(0,Ls.yG)(n)))}function Ql(...n){const e=(0,Ls.yG)(n);return(0,Gi.e)((t,i)=>{(e?Zm(n,t,e):Zm(n,t)).subscribe(i)})}const xy=new Set;let al,lw=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):aS}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Dy(n){if(!xy.has(n))try{al||(al=document.createElement("style"),al.setAttribute("type","text/css"),document.head.appendChild(al)),al.sheet&&(al.sheet.insertRule(`@media ${n} {body{ }}`,0),xy.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ln))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aS(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let di=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Ft.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return cw(ds(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Uf(cw(ds(t)).map(c=>this._registerQuery(c).observable));return o=Zm(o.pipe(wr(1)),o.pipe(Gm(1),Ey(0))),o.pipe((0,yt.U)(c=>{const h={matches:!1,breakpoints:{}};return c.forEach(({matches:g,query:v})=>{h.matches=h.matches||g,h.breakpoints[v]=g}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new or.y(c=>{const h=g=>this._zone.run(()=>c.next(g));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Ql(i),(0,yt.U)(({matches:c})=>({query:t,matches:c})),co(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(lw),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cw(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let Qm=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function fw(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function hw(n){try{return n.frameElement}catch{return null}}(function Ry(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===My(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=My(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function uu(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function gS(n){return!function _P(n){return function mS(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Iy(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Sy(n){return function Ty(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Ay(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ln))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ay(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function My(n){if(!Ay(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Xm{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(wr(1)).subscribe(e)}}let ky=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Xm(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Qm),l.LFG(l.R0b),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gw(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Py(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const qd=new l.OlP("cdk-input-modality-detector-options"),yS={ignoreKeys:[18,17,224,91,16]},Wd=zi({passive:!0,capture:!0});let Fy=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new ki(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(h=>h===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=lo(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(gw(c)?"keyboard":"mouse"),this._mostRecentTarget=lo(c))},this._onTouchstart=c=>{Py(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=lo(c))},this._options={...yS,...o},this.modalityDetected=this._modality.pipe(Gm(1)),this.modalityChanged=this.modalityDetected.pipe(by()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Wd),r.addEventListener("mousedown",this._onMousedown,Wd),r.addEventListener("touchstart",this._onTouchstart,Wd)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Wd),document.removeEventListener("mousedown",this._onMousedown,Wd),document.removeEventListener("touchstart",this._onTouchstart,Wd))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ln),l.LFG(l.R0b),l.LFG(re),l.LFG(qd,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vS=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function yw(){return null}}),bS=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let vw=0,wS=(()=>{class n{constructor(t,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let o,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[o,c]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+vw++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],c=o.getAttribute("aria-owns");c?-1===c.indexOf(t)&&o.setAttribute("aria-owns",c+" "+t):o.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vS,8),l.LFG(l.R0b),l.LFG(re),l.LFG(bS,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hf=new l.OlP("cdk-focus-monitor-default-options"),Jm=zi({passive:!0,capture:!0});let ll=(()=>{class n{constructor(t,i,r,o,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ft.x,this._rootNodeFocusAndBlurListener=h=>{for(let v=lo(h);v;v=v.parentElement)"focus"===h.type?this._onFocus(h,v):this._onBlur(h,v)},this._document=o,this._detectionMode=c?.detectionMode||0}monitor(t,i=!1){const r=ol(t);if(!this._platform.isBrowser||1!==r.nodeType)return nt(null);const o=function Rd(n){if(function tu(){if(null==us){const n=typeof document<"u"?document.head:null;us=!(!n||!n.createShadowRoot&&!n.attachShadow)}return us}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const h={checkChildren:i,subject:new Ft.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=ol(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=ol(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,g])=>this._originChanged(h,i,g)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=lo(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Jm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Jm)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(co(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Jm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Jm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let c=0;c<o.length;c++)if(o[c].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Ln),l.LFG(Fy),l.LFG(re,8),l.LFG(Hf,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bw="cdk-high-contrast-black-on-white",Ny="cdk-high-contrast-white-on-black",Ly="cdk-high-contrast-active";let ww=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,l.f3M)(di).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Ly,bw,Ny),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(Ly,bw):2===i&&t.add(Ly,Ny)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ln),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ES=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ww))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[rw]}),n})();const Ew=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function Cw(){return(0,l.f3M)(re)}}),By=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Xl=(()=>{class n{constructor(t){this.value="ltr",this.change=new l.vpe,t&&(this.value=function Vy(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?By.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ew,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Sw=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function SP(){return!0}});let Er=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!nu()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ww),l.LFG(Sw,8),l.LFG(re))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[cl,cl]}),n})();function Tw(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=No(e)}constructor(...e){super(...e),this._disabled=!1}}}function Aw(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function DS(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=No(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function IS(n){return class extends n{updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let Mw=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Rw{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const kw=zi({passive:!0,capture:!0});class kS{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=lo(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const c=o.get(i);c?c.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,kw)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,kw)))}}const OS={enterDuration:225,exitDuration:150},Uy=zi({passive:!0,capture:!0}),ec=["mousedown","touchstart"],Pw=["mouseup","mouseleave","touchend","touchcancel"];class du{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ol(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...OS,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function Hy(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,g=t-r.top,v=o.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=h-c+"px",x.style.top=g-c+"px",x.style.height=2*c+"px",x.style.width=2*c+"px",null!=i.color&&(x.style.backgroundColor=i.color),x.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(x);const S=window.getComputedStyle(x),j=S.transitionDuration,q="none"===S.transitionProperty||"0s"===j||"0s, 0s"===j||0===r.width&&0===r.height,ne=new Rw(this,x,i,q);x.style.transform="scale3d(1, 1, 1)",ne.state=0,i.persistent||(this._mostRecentTransientRipple=ne);let oe=null;return!q&&(v||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ue=()=>this._finishRippleTransition(ne),Ye=()=>this._destroyRipple(ne);x.addEventListener("transitionend",Ue),x.addEventListener("transitioncancel",Ye),oe={onTransitionEnd:Ue,onTransitionCancel:Ye}}),this._activeRipples.set(ne,oe),(q||!v)&&this._finishRippleTransition(ne),ne}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...OS,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ol(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,ec.forEach(i=>{du._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Pw.forEach(t=>{this._triggerElement.addEventListener(t,this,Uy)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=gw(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Py(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(ec.forEach(t=>du._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Pw.forEach(t=>e.removeEventListener(t,this,Uy)))}}du._eventManager=new kS;const PS=new l.OlP("mat-ripple-global-options");let jy=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new du(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Ln),l.Y36(PS,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),BP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Er,Er]}),n})();const Fw=["mat-button",""],$y=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Nw=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Gy=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",BS=["mat-icon-button",""],WP=["*"],Uw=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],US=Aw(Tw(DS(class{constructor(n){this._elementRef=n}})));let qy=(()=>{class n extends US{constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,l.f3M)(ll),this._isFab=!1;const c=t.nativeElement.classList;for(const h of Uw)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(g=>{c.add(g)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(jy,5),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},features:[l.qOj]}),n})(),Wy=(()=>{class n extends qy{constructor(t,i,r,o){super(t,i,r,o),this._haltDisabledEvents=c=>{this.disabled&&(c.preventDefault(),c.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})(),Yd=(()=>{class n extends qy{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Ln),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:Fw,ngContentSelectors:Nw,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(l.F$t($y),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(l.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),l.xp6(6),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[jy],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Zy=(()=>{class n extends Wy{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Ln),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null)("tabindex",i.disabled?-1:i.tabIndex)("aria-disabled",i.disabled.toString()),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[l.qOj],attrs:Fw,ngContentSelectors:Nw,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(l.F$t($y),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(l.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),l.xp6(6),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[jy],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',Gy],encapsulation:2,changeDetection:0}),n})(),jS=(()=>{class n extends qy{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Ln),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:BS,ngContentSelectors:WP,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(l.F$t(),l._UZ(0,"span",0),l.Hsn(1),l._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(l.xp6(3),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[jy],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',Gy],encapsulation:2,changeDetection:0}),n})(),qw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Er,BP,Er]}),n})();class Ky{}class Ww{}const ul="*";function Qy(n,e){return{type:7,name:n,definitions:e,options:{}}}function Cr(n,e=null){return{type:4,styles:e,timings:n}}function Yw(n,e=null){return{type:2,steps:n,options:e}}function Ea(n){return{type:6,styles:n,offset:null}}function hu(n,e,t){return{type:0,name:n,styles:e,options:t}}function qf(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function ng(n){Promise.resolve().then(n)}class Wf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ng(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Xw{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?ng(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Xy="!";class ig{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Zf extends ig{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class Jy extends ig{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class qS extends ig{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class Kd{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Zf?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Jy?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof qS?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class WS extends Kd{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const h=c.element,g=this._document.createComment("dom-portal");h.parentNode.insertBefore(g,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(h,g)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let rg=(()=>{class n extends Kd{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=o=>{const c=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(re))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),og=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var xr=V(5577),tE=V(1144),Lo=V(576);const iv=["addListener","removeListener"],hl=["addEventListener","removeEventListener"],sg=["on","off"];function fu(n,e,t,i){if((0,Lo.m)(t)&&(i=t,t=void 0),i)return fu(n,e,t).pipe(aw(i));const[r,o]=function iE(n){return(0,Lo.m)(n.addEventListener)&&(0,Lo.m)(n.removeEventListener)}(n)?hl.map(c=>h=>n[c](e,h,t)):function YS(n){return(0,Lo.m)(n.addListener)&&(0,Lo.m)(n.removeListener)}(n)?iv.map(Qd(n,e)):function nE(n){return(0,Lo.m)(n.on)&&(0,Lo.m)(n.off)}(n)?sg.map(Qd(n,e)):[];if(!r&&(0,tE.z)(n))return(0,xr.z)(c=>fu(c,e,t))((0,Fo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new or.y(c=>{const h=(...g)=>c.next(1<g.length?g:g[0]);return r(h),()=>o(h)})}function Qd(n,e){return t=>i=>n[t](e,i)}var rE=V(4408),tc=V(727);const fl={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=fl;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new tc.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=fl;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=fl;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var QS=V(7565);const JS=new class XS extends QS.v{flush(e){let t;this._active=!0,e?t=e.id:(t=this._scheduled,this._scheduled=void 0);const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class KS extends rE.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=fl.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&t===e._scheduled&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(fl.cancelAnimationFrame(t),e._scheduled=void 0)}});let rv,eT=1;const ag={};function oE(n){return n in ag&&(delete ag[n],!0)}const sE={setImmediate(n){const e=eT++;return ag[e]=!0,rv||(rv=Promise.resolve()),rv.then(()=>oE(e)&&n()),e},clearImmediate(n){oE(n)}},{setImmediate:tT,clearImmediate:ov}=sE,lg={setImmediate(...n){const{delegate:e}=lg;return(e?.setImmediate||tT)(...n)},clearImmediate(n){const{delegate:e}=lg;return(e?.clearImmediate||ov)(n)},delegate:void 0},rT=new class iT extends QS.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class nT extends rE.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=lg.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(lg.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var sT=V(3532);function sv(n,e=qm.z){return function oT(n){return(0,Gi.e)((e,t)=>{let i=!1,r=null,o=null,c=!1;const h=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const v=r;r=null,t.next(v)}c&&t.complete()},g=()=>{o=null,c&&t.complete()};e.subscribe((0,qi.x)(t,v=>{i=!0,r=v,o||(0,Fo.Xf)(n(v)).subscribe(o=(0,qi.x)(t,h,g))},()=>{c=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>function cE(n=0,e,t=qm.P){let i=-1;return null!=e&&((0,sT.K)(e)?t=e:i=e),new or.y(r=>{let o=function lE(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,e))}const oF=["contentWrapper"],uE=["*"],sF=new l.OlP("VIRTUAL_SCROLL_STRATEGY");let cg=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Ft.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new or.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(sv(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):nt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(xi(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=ol(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>fu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Ln),l.LFG(re,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vs=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Ft.x,this._elementScrolled=new or.y(c=>this.ngZone.runOutsideAngular(()=>fu(this.elementRef.nativeElement,"scroll").pipe(co(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=ga()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==ga()?t.left=t.right:1==ga()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;cs()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==t?t=c?r:i:"end"==t&&(t=c?i:r),c&&2==ga()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&1==ga()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(cg),l.Y36(l.R0b),l.Y36(Xl,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),sr=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Ft.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(sv(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ln),l.LFG(l.R0b),l.LFG(re,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nc=new l.OlP("VIRTUAL_SCROLLABLE");let ug=(()=>{class n extends Vs{constructor(t,i,r,o){super(t,i,r,o)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(cg),l.Y36(l.R0b),l.Y36(Xl,8))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const cv=typeof requestAnimationFrame<"u"?JS:rT;let Xd=(()=>{class n extends ug{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=No(t)}constructor(t,i,r,o,c,h,g,v){super(t,h,r,c),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=v,this._platform=(0,l.f3M)(Ln),this._detachedSubject=new Ft.x,this._renderedRangeSubject=new Ft.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new or.y(x=>this._scrollStrategy.scrolledIndexChange.subscribe(S=>Promise.resolve().then(()=>this.ngZone.run(()=>x.next(S))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=tc.w0.EMPTY,this._viewportChanges=g.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Ql(null),sv(0,cv)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(co(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function hs(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const o="horizontal"==this.orientation,c=o?"X":"Y";let g=`translate${c}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(g+=` translate${c}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=g&&(this._renderedContentTransform=g,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",o="right",c="rtl"==this.dir?.value;i="start"==t?c?o:r:"end"==t?c?r:o:t||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-h}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(sF,8),l.Y36(Xl,8),l.Y36(cg),l.Y36(sr),l.Y36(nc,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&l.Gf(oF,7),2&t){let r;l.iGM(r=l.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[l._Bn([{provide:Vs,useFactory:(e,t)=>e||t,deps:[[new l.FiY,new l.tBr(nc)],n]}]),l.qOj,l.jDz],ngContentSelectors:uE,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&t&&(l.xp6(3),l.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),pu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),ic=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[cl,pu,Xd,cl,pu]}),n})();var pl=V(6451);const mu=cs();class dE{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Xn(-this._previousScrollPosition.left),e.style.top=Xn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),mu&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mu&&(i.scrollBehavior=o,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class hE{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(xi(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class uv{enable(){}disable(){}attach(){}}function dg(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function dv(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class fE{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();dg(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let pE=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new uv,this.close=c=>new hE(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new dE(this._viewportRuler,this._document),this.reposition=c=>new fE(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cg),l.LFG(sr),l.LFG(l.R0b),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hg{constructor(e){if(this.scrollStrategy=new uv,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class mE{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let fg=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hv=(()=>{class n extends fg{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){const h=o[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cT=(()=>{class n extends fg{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=lo(o)},this._clickListener=o=>{const c=lo(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let v=g.length-1;v>-1;v--){const x=g[v];if(x._outsidePointerEvents.observers.length<1||!x.hasAttached())continue;if(x.overlayElement.contains(c)||x.overlayElement.contains(h))break;const S=x._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(o)):S.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(Ln),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gu=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||nu()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),nu()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(Ln))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rc{constructor(e,t,i,r,o,c,h,g,v,x=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=c,this._document=h,this._location=g,this._outsideClickDispatcher=v,this._animationsDisabled=x,this._backdropElement=null,this._backdropClick=new Ft.x,this._attachments=new Ft.x,this._detachments=new Ft.x,this._locationChanges=tc.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new Ft.x,this._outsidePointerEvents=new Ft.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(wr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Xn(this._config.width),e.height=Xn(this._config.height),e.minWidth=Xn(this._config.minWidth),e.minHeight=Xn(this._config.minHeight),e.maxWidth=Xn(this._config.maxWidth),e.maxHeight=Xn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=ds(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(co((0,pl.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const pg="cdk-overlay-connected-position-bounding-box",uT=/([A-Za-z%]+)$/;class mg{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ft.x,this._resizeSubscription=tc.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(pg),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let c;for(let h of this._preferredPositions){let g=this._getOriginPoint(e,r,h),v=this._getOverlayPoint(g,t,h),x=this._getOverlayFit(v,t,i,h);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,g);this._canFitWithFlexibleDimensions(x,v,i)?o.push({position:h,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,h)}):(!c||c.overlayFit.visibleArea<x.visibleArea)&&(c={overlayFit:x,overlayPoint:v,originPoint:g,position:h,overlayRect:t})}if(o.length){let h=null,g=-1;for(const v of o){const x=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);x>g&&(g=x,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ca(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(pg),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?c:h}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=fv(t);let{x:c,y:h}=e,g=this._getOffset(r,"x"),v=this._getOffset(r,"y");g&&(c+=g),v&&(h+=v);let B=0-h,j=h+o.height-i.height,q=this._subtractOverflows(o.width,0-c,c+o.width-i.width),ne=this._subtractOverflows(o.height,B,j),oe=q*ne;return{visibleArea:oe,isCompletelyWithinViewport:o.width*o.height===oe,fitsInViewportVertically:ne===o.height,fitsInViewportHorizontally:q==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,c=gg(this._overlayRef.getConfig().minHeight),h=gg(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=c&&c<=r)&&(e.fitsInViewportHorizontally||null!=h&&h<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=fv(t),o=this._viewportRect,c=Math.max(e.x+r.width-o.width,0),h=Math.max(e.y+r.height-o.height,0),g=Math.max(o.top-i.top-e.y,0),v=Math.max(o.left-i.left-e.x,0);let x=0,S=0;return x=r.width<=o.width?v||-c:e.x<this._viewportMargin?o.left-i.left-e.x:0,S=r.height<=o.height?g||-h:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x,y:S},{x:e.x+x,y:e.y+S}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new mE(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,c,h,x,S,B;if("top"===t.overlayY)c=e.y,o=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const j=Math.min(i.bottom-e.y+i.top,e.y),q=this._lastBoundingBoxSize.height;o=2*j,c=e.y-j,o>q&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-q/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)B=i.width-e.x+this._viewportMargin,x=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)S=e.x,x=i.right-e.x;else{const j=Math.min(i.right-e.x+i.left,e.x),q=this._lastBoundingBoxSize.width;x=2*j,S=e.x-j,x>q&&!this._isInitialRender&&!this._growAfterOpen&&(S=e.x-q/2)}return{top:c,left:S,bottom:h,right:B,width:x,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Xn(i.height),r.top=Xn(i.top),r.bottom=Xn(i.bottom),r.width=Xn(i.width),r.left=Xn(i.left),r.right=Xn(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Xn(o)),c&&(r.maxWidth=Xn(c))}this._lastBoundingBoxSize=i,Ca(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ca(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ca(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const x=this._viewportRuler.getViewportScrollPosition();Ca(i,this._getExactOverlayY(t,e,x)),Ca(i,this._getExactOverlayX(t,e,x))}else i.position="static";let h="",g=this._getOffset(t,"x"),v=this._getOffset(t,"y");g&&(h+=`translateX(${g}px) `),v&&(h+=`translateY(${v}px)`),i.transform=h.trim(),c.maxHeight&&(r?i.maxHeight=Xn(c.maxHeight):o&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Xn(c.maxWidth):o&&(i.maxWidth="")),Ca(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Xn(o.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Xn(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:dv(e,i),isOriginOutsideView:dg(e,i),isOverlayClipped:dv(t,i),isOverlayOutsideView:dg(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ds(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Ca(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function gg(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(uT);return t&&"px"!==t?null:parseFloat(e)}return n||null}function fv(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const pv="cdk-global-overlay-wrapper";class mv{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(pv),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:c,maxHeight:h}=i,g=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),v=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),x=this._xPosition,S=this._xOffset,B="rtl"===this._overlayRef.getConfig().direction;let j="",q="",ne="";g?ne="flex-start":"center"===x?(ne="center",B?q=S:j=S):B?"left"===x||"end"===x?(ne="flex-end",j=S):("right"===x||"start"===x)&&(ne="flex-start",q=S):"left"===x||"start"===x?(ne="flex-start",j=S):("right"===x||"end"===x)&&(ne="flex-end",q=S),e.position=this._cssPosition,e.marginLeft=g?"0":j,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=g?"0":q,t.justifyContent=ne,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(pv),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let gv=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new mv}flexibleConnectedTo(t){return new mg(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sr),l.LFG(re),l.LFG(Ln),l.LFG(gu))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hT=0,ml=(()=>{class n{constructor(t,i,r,o,c,h,g,v,x,S,B,j){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=h,this._ngZone=g,this._document=v,this._directionality=x,this._location=S,this._outsideClickDispatcher=B,this._animationsModuleType=j}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),c=new hg(t);return c.direction=c.direction||this._directionality.value,new rc(o,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+hT++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new WS(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pE),l.LFG(gu),l.LFG(l._Vd),l.LFG(gv),l.LFG(hv),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(re),l.LFG(Xl),l.LFG(He),l.LFG(cT),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vE={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ml],useFactory:function yE(n){return()=>n.scrollStrategies.reposition()}};let ep=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[ml,vE],imports:[cl,og,ic,ic]}),n})();function bE(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"button",3),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.action())}),l._uU(2),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(2),l.hij(" ",t.data.action," ")}}const wE=["label"];function EE(n,e){}const CE=Math.pow(2,31)-1;class _g{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Ft.x,this._afterOpened=new Ft.x,this._onAction=new Ft.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,CE))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const yv=new l.OlP("MatSnackBarData");class tp{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let xE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),yg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),oc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),mT=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_g),l.Y36(yv))},n.\u0275cmp=l.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l._uU(1),l.qZA(),l.YNc(2,bE,3,1,"div",1)),2&t&&(l.xp6(1),l.hij(" ",i.data.message,"\n"),l.xp6(1),l.Q6J("ngIf",i.hasAction))},dependencies:[tr,Yd,xE,yg,oc],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const gT={snackBarState:Qy("state",[hu("void, hidden",Ea({transform:"scale(0.8)",opacity:0})),hu("visible",Ea({transform:"scale(1)",opacity:1})),qf("* => visible",Cr("150ms cubic-bezier(0, 0, 0.2, 1)")),qf("* => void, * => hidden",Cr("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ea({opacity:0})))])};let vv=0,_u=(()=>{class n extends Kd{constructor(t,i,r,o,c){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=c,this._document=(0,l.f3M)(re),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ft.x,this._onExit=new Ft.x,this._onEnter=new Ft.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+vv++,this.attachDomPortal=h=>{this._assertNotAttached();const g=this._portalOutlet.attachDomPortal(h);return this._afterPortalAttached(),g},this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(wr(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i)),this._exposeToModals()}_exposeToModals(){const t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],c=o.getAttribute("aria-owns");this._trackedModals.add(o),c?-1===c.indexOf(t)&&o.setAttribute("aria-owns",c+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const i=t.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Ln),l.Y36(tp))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(rg,7),2&t){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},features:[l.qOj]}),n})(),bv=(()=>{class n extends _u{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,i="mdc-snackbar__label";t.classList.toggle(i,!t.querySelector(`.${i}`))}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,i){if(1&t&&l.Gf(wE,7),2&t){let r;l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,i){1&t&&l.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&t&&l.d8E("@state",i._animationState)},features:[l.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),l.YNc(4,EE,0,0,"ng-template",4),l.qZA(),l._UZ(5,"div"),l.qZA()()),2&t&&(l.xp6(5),l.uIk("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[rg],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[gT.snackBarState]}}),n})(),DE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ep,og,io,qw,Er,Er]}),n})();const _T=new l.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function wv(){return new tp}});let fF=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,o,c,h){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=c,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const o={...this._defaultConfig,...r};return o.data={message:t,action:i},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const o=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:tp,useValue:i}]}),c=new Zf(this.snackBarContainerComponent,i.viewContainerRef,o),h=t.attach(c);return h.instance.snackBarConfig=i,h.instance}_attach(t,i){const r={...new tp,...this._defaultConfig,...i},o=this._createOverlay(r),c=this._attachSnackBarContainer(o,r),h=new _g(c,o);if(t instanceof l.Rgc){const g=new Jy(t,null,{$implicit:r.data,snackBarRef:h});h.instance=c.attachTemplatePortal(g)}else{const g=this._createInjector(r,h),v=new Zf(t,void 0,g),x=c.attachComponentPortal(v);h.instance=x.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(co(o.detachments())).subscribe(g=>{o.overlayElement.classList.toggle(this.handsetCssClass,g.matches)}),r.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(h,r),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new hg;i.direction=t.direction;let r=this._overlay.position().global();const o="rtl"===t.direction,c="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!o||"end"===t.horizontalPosition&&o,h=!c&&"center"!==t.horizontalPosition;return c?r.left("0"):h?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return l.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:_g,useValue:i},{provide:yv,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ml),l.LFG(wS),l.LFG(l.zs3),l.LFG(di),l.LFG(n,12),l.LFG(_T))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),IE=(()=>{class n extends fF{constructor(t,i,r,o,c,h){super(t,i,r,o,c,h),this.simpleSnackBarComponent=mT,this.snackBarContainerComponent=bv,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ml),l.LFG(wS),l.LFG(l.zs3),l.LFG(di),l.LFG(n,12),l.LFG(_T))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:DE}),n})();const np=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function vg(n){return new or.y(e=>{(0,Fo.Xf)(n()).subscribe(e)})}var ar=V(9635);function yu(n,e){const t=(0,Lo.m)(n)?n:()=>n,i=r=>r.error(t());return new or.y(e?r=>e.schedule(i,0,r):i)}function Ev(){return(0,Gi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,qi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Cv extends or.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Gi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,qi.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tc.w0.EMPTY)}return e}refCount(){return Ev()(this)}}function Oi(n,e){return(0,Gi.e)((t,i)=>{let r=null,o=0,c=!1;const h=()=>c&&!r&&i.complete();t.subscribe((0,qi.x)(i,g=>{r?.unsubscribe();let v=0;const x=o++;(0,Fo.Xf)(n(g,x)).subscribe(r=(0,qi.x)(i,S=>i.next(e?e(g,S,x,v++):S),()=>{r=null,h()}))},()=>{c=!0,h()}))})}function bg(n){return(0,Gi.e)((e,t)=>{let i=!1;e.subscribe((0,qi.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function xv(n=SE){return(0,Gi.e)((e,t)=>{let i=!1;e.subscribe((0,qi.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function SE(){return new np}function uo(n,e){const t=arguments.length>=2;return i=>i.pipe(n?xi((r,o)=>n(r,o,i)):jd.y,wr(1),t?bg(e):xv(()=>new np))}function sc(n,e){return(0,Lo.m)(e)?(0,xr.z)(n,e,1):(0,xr.z)(n,1)}var Wi=V(8505);function xa(n){return(0,Gi.e)((e,t)=>{let o,i=null,r=!1;i=e.subscribe((0,qi.x)(t,void 0,void 0,c=>{o=(0,Fo.Xf)(n(c,xa(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Jd(n,e){return(0,Gi.e)(function vT(n,e,t,i,r){return(o,c)=>{let h=t,g=e,v=0;o.subscribe((0,qi.x)(c,x=>{const S=v++;g=h?n(g,x,S):(h=!0,x),i&&c.next(g)},r&&(()=>{h&&c.next(g),c.complete()})))}}(n,e,arguments.length>=2,!0))}function TE(n){return n<=0?()=>rl.E:(0,Gi.e)((e,t)=>{let i=[];e.subscribe((0,qi.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function wg(n,e){const t=arguments.length>=2;return i=>i.pipe(n?xi((r,o)=>n(r,o,i)):jd.y,TE(1),t?bg(e):xv(()=>new np))}function Eg(n){return(0,Gi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ln="primary",ho=Symbol("RouteTitle");class Us{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Lr(n){return new Us(n)}function AE(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],h=n[o];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ia(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!RE(n[r],e[r]))return!1;return!0}function RE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function kE(n){return Array.prototype.concat.apply([],n)}function OE(n){return n.length>0?n[n.length-1]:null}function Pi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ac(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,hn.D)(Promise.resolve(n)):nt(n)}const ip=!1,bT={exact:function rp(n,e,t){if(!lc(n.segments,e.segments)||!eh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!rp(n.children[i],e.children[i],t))return!1;return!0},subset:Sv},FE={exact:function NE(n,e){return Ia(n,e)},subset:function wT(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>RE(n[t],e[t]))},ignored:()=>!0};function Iv(n,e,t){return bT[t.paths](n.root,e.root,t.matrixParams)&&FE[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Sv(n,e,t){return Tv(n,e,e.segments,t)}function Tv(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!lc(r,t)||e.hasChildren()||!eh(r,t,i))}if(n.segments.length===t.length){if(!lc(n.segments,t)||!eh(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Sv(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(lc(n.segments,r)&&eh(n.segments,r,i)&&n.children[ln])&&Tv(n.children[ln],e,o,i)}}function eh(n,e,t){return e.every((i,r)=>FE[t](n[r].parameters,i.parameters))}class Hs{constructor(e=new un([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lr(this.queryParams)),this._queryParamMap}toString(){return VE.serialize(this)}}class un{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Pi(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xg(this)}}class th{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Lr(this.parameters)),this._parameterMap}toString(){return jE(this)}}function lc(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let nh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Cg},providedIn:"root"}),n})();class Cg{parse(e){const t=new MT(e);return new Hs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${op(e.root,!0)}`,i=function xT(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Dg(t)}=${Dg(r)}`).join("&"):`${Dg(t)}=${Dg(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function ET(n){return encodeURI(n)}(e.fragment)}`:""}`}}const VE=new Cg;function xg(n){return n.segments.map(e=>jE(e)).join("/")}function op(n,e){if(!n.hasChildren())return xg(n);if(e){const t=n.children[ln]?op(n.children[ln],!1):"",i=[];return Pi(n.children,(r,o)=>{o!==ln&&i.push(`${o}:${op(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function BE(n,e){let t=[];return Pi(n.children,(i,r)=>{r===ln&&(t=t.concat(e(i,r)))}),Pi(n.children,(i,r)=>{r!==ln&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===ln?[op(n.children[ln],!1)]:[`${r}:${op(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ln]?`${xg(n)}/${t[0]}`:`${xg(n)}/(${t.join("//")})`}}function UE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dg(n){return UE(n).replace(/%3B/gi,";")}function Av(n){return UE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ig(n){return decodeURIComponent(n)}function HE(n){return Ig(n.replace(/\+/g,"%20"))}function jE(n){return`${Av(n.path)}${function CT(n){return Object.keys(n).map(e=>`;${Av(e)}=${Av(n[e])}`).join("")}(n.parameters)}`}const DT=/^[^\/()?;=#]+/;function Sg(n){const e=n.match(DT);return e?e[0]:""}const IT=/^[^=?&#]+/,TT=/^[^&#]+/;class MT{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ln]=new un(e,t)),i}parseSegment(){const e=Sg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,ip);return this.capture(e),new th(Ig(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Sg(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Sg(this.remaining);r&&(i=r,this.capture(i))}e[Ig(t)]=Ig(i)}parseQueryParam(e){const t=function ST(n){const e=n.match(IT);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function AT(n){const e=n.match(TT);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=HE(t),o=HE(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Sg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,ip);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ln);const c=this.parseChildren();t[o]=1===Object.keys(c).length?c[ln]:new un([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,ip)}}function Tg(n){return n.segments.length>0?new un([],{[ln]:n}):n}function sp(n){const e={};for(const i of Object.keys(n.children)){const o=sp(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function zE(n){if(1===n.numberOfChildren&&n.children[ln]){const e=n.children[ln];return new un(n.segments.concat(e.segments),e.children)}return n}(new un(n.segments,e))}function cc(n){return n instanceof Hs}const Ag=!1;function $E(n,e,t,i,r){if(0===t.length)return fs(e.root,e.root,e.root,i,r);const o=function wu(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qE(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Pi(o.outlets,(g,v)=>{h[v]="string"==typeof g?g.split("/"):g}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new qE(t,e,i)}(t);return o.toRoot()?fs(e.root,e.root,new un([],{}),i,r):function c(g){const v=function pF(n,e,t,i){if(n.isAbsolute)return new ap(e.root,!0,0);if(-1===i)return new ap(t,t===e.root,0);return function Ov(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new l.vHH(4005,Ag&&"Invalid number of '../'");r=i.segments.length}return new ap(i,!1,r-o)}(t,i+(vu(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,g),x=v.processChildren?Dt(v.segmentGroup,v.index,o.commands):ZE(v.segmentGroup,v.index,o.commands);return fs(e.root,v.segmentGroup,x,i,r)}(n.snapshot?._lastPathIndex)}function vu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function bu(n){return"object"==typeof n&&null!=n&&n.outlets}function fs(n,e,t,i,r){let c,o={};i&&Pi(i,(g,v)=>{o[v]=Array.isArray(g)?g.map(x=>`${x}`):`${g}`}),c=n===e?t:GE(n,e,t);const h=Tg(sp(c));return new Hs(h,o,r)}function GE(n,e,t){const i={};return Pi(n.children,(r,o)=>{i[o]=r===e?t:GE(r,e,t)}),new un(n.segments,i)}class qE{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&vu(i[0]))throw new l.vHH(4003,Ag&&"Root segment cannot have matrix parameters");const r=i.find(bu);if(r&&r!==OE(i))throw new l.vHH(4004,Ag&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ap{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function ZE(n,e,t){if(n||(n=new un([],{})),0===n.segments.length&&n.hasChildren())return Dt(n,e,t);const i=function kT(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const c=n.segments[r],h=t[i];if(bu(h))break;const g=`${h}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!YE(g,v,c))return o;i+=2}else{if(!YE(g,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new un(n.segments.slice(0,i.pathIndex),{});return o.children[ln]=new un(n.segments.slice(i.pathIndex),n.children),Dt(o,0,r)}return i.match&&0===r.length?new un(n.segments,{}):i.match&&!n.hasChildren()?Pv(n,e,t):i.match?Dt(n,0,r):Pv(n,e,t)}function Dt(n,e,t){if(0===t.length)return new un(n.segments,{});{const i=function WE(n){return bu(n[0])?n[0].outlets:{[ln]:n}}(t),r={};if(!i[ln]&&n.children[ln]&&1===n.numberOfChildren&&0===n.children[ln].segments.length){const o=Dt(n.children[ln],e,t);return new un(n.segments,o.children)}return Pi(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=ZE(n.children[c],e,o))}),Pi(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new un(n.segments,r)}}function Pv(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(bu(o)){const g=OT(o.outlets);return new un(i,g)}if(0===r&&vu(t[0])){i.push(new th(n.segments[e].path,Eu(t[0]))),r++;continue}const c=bu(o)?o.outlets[ln]:`${o}`,h=r<t.length-1?t[r+1]:null;c&&h&&vu(h)?(i.push(new th(c,Eu(h))),r+=2):(i.push(new th(c,{})),r++)}return new un(i,{})}function OT(n){const e={};return Pi(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Pv(new un([],{}),0,t))}),e}function Eu(n){const e={};return Pi(n,(t,i)=>e[i]=`${t}`),e}function YE(n,e,t){return n==t.path&&Ia(e,t.parameters)}const uc="imperative";class Bo{constructor(e,t){this.id=e,this.url=t}}class ni extends Bo{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cu extends Bo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lp extends Bo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cp extends Bo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Fv extends Bo{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KE extends Bo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QE extends Bo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XE extends Bo{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class JE extends Bo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PT extends Bo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FT{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class NT{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class up{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LT{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BT{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VT{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dp{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let nC=(()=>{class n{createUrlTree(t,i,r,o,c,h){return $E(t||i.root,r,o,c,h)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),hp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return nC.\u0275fac(e)},providedIn:"root"}),n})();class ih{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Nv(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Nv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Lv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Lv(e,this._root).map(t=>t.value)}}function Nv(n,e){if(n===e.value)return e;for(const t of e.children){const i=Nv(n,t);if(i)return i}return null}function Lv(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Lv(n,t);if(i.length)return i.unshift(e),i}return[]}class gl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Bv extends ih{constructor(e,t){super(e),this.snapshot=t,rC(this,e)}toString(){return this.snapshot.toString()}}function Vv(n,e){const t=function HT(n,e){const c=new Uv([],{},{},"",{},ln,e,null,n.root,-1,{});return new zT("",new gl(c,[]))}(n,e),i=new ki([new th("",{})]),r=new ki({}),o=new ki({}),c=new ki({}),h=new ki(""),g=new Sa(i,r,c,h,o,ln,e,t.root);return g.snapshot=t.root,new Bv(new gl(g,[]),t)}class Sa{constructor(e,t,i,r,o,c,h,g){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this.title=this.data?.pipe((0,yt.U)(v=>v[ho]))??nt(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(e=>Lr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(e=>Lr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iC(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function jT(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Uv{get title(){return this.data?.[ho]}constructor(e,t,i,r,o,c,h,g,v,x,S){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=x,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zT extends ih{constructor(e,t){super(t),this.url=e,rC(this,t)}toString(){return $T(this._root)}}function rC(n,e){e.value._routerState=n,e.children.forEach(t=>rC(n,t))}function $T(n){const e=n.children.length>0?` { ${n.children.map($T).join(", ")} } `:"";return`${n.value}${e}`}function Mg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ia(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ia(e.params,t.params)||n.params.next(t.params),function ME(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ia(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ia(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function rh(n,e){const t=Ia(n.params,e.params)&&function LE(n,e){return lc(n,e)&&n.every((t,i)=>Ia(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||rh(n.parent,e.parent))}function fp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function oC(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return fp(n,i,r);return fp(n,i)})}(n,e,t);return new gl(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>fp(n,h)),c}}const i=function pp(n){return new Sa(new ki(n.url),new ki(n.params),new ki(n.queryParams),new ki(n.fragment),new ki(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>fp(n,o));return new gl(i,r)}}const Hv="ngNavigationCancelingError";function sC(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=cc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=aC(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function aC(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Hv]=!0,i.cancellationCode=e,t&&(i.url=t),i}function lC(n){return qT(n)&&cc(n.url)}function qT(n){return n&&n[Hv]}class WT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new oh,this.attachRef=null}}let oh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new WT,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rg=!1;let jv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ln,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(oh),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Rg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Rg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Rg);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,Rg);this._activatedRoute=t;const r=this.location,c=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new mp(t,h,r.injector);if(i&&function ZT(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(c);this.activated=r.createComponent(v,r.length,g)}else this.activated=r.createComponent(c,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class mp{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Sa?this.route:e===oh?this.childContexts:this.parent.get(e,t)}}let kg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[jv],encapsulation:2}),n})();function cC(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function zv(n){const e=n.children&&n.children.map(zv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ln&&(t.component=kg),t}function ps(n){return n.outlet||ln}function hC(n,e){const t=n.filter(i=>ps(i)===e);return t.push(...n.filter(i=>ps(i)!==e)),t}function Du(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class fC{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Mg(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=xu(t);e.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),Pi(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=xu(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=xu(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=xu(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new VT(o.value.snapshot))}),e.children.length&&this.forwardEvent(new LT(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(Mg(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),Mg(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=Du(r.snapshot),g=h?.get(l._Vd)??null;c.attachRef=null,c.route=r,c.resolver=g,c.injector=h,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class pC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Og{constructor(e,t){this.component=e,this.route=t}}function JT(n,e,t){const i=n._root;return _p(i,e?e._root:null,t,[i.value])}function sh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function _p(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=xu(e);return n.children.forEach(c=>{(function tA(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const g=function nA(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!lc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!lc(n.url,e.url)||!Ia(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rh(n,e)||!Ia(n.queryParams,e.queryParams);default:return!rh(n,e)}}(c,o,o.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new pC(i)):(o.data=c.data,o._resolvedData=c._resolvedData),_p(n,e,o.component?h?h.children:null:t,i,r),g&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Og(h.outlet.component,c))}else c&&ah(e,h,r),r.canActivateChecks.push(new pC(i)),_p(n,null,o.component?h?h.children:null:t,i,r)})(c,o[c.value.outlet],t,i.concat([c.value]),r),delete o[c.value.outlet]}),Pi(o,(c,h)=>ah(c,t.getContext(h),r)),r}function ah(n,e,t){const i=xu(n),r=n.value;Pi(i,(o,c)=>{ah(o,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Og(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function lh(n){return"function"==typeof n}function Pg(n){return n instanceof np||"EmptyError"===n?.name}const ch=Symbol("INITIAL_VALUE");function uh(){return Oi(n=>Uf(n.map(e=>e.pipe(wr(1),Ql(ch)))).pipe((0,yt.U)(e=>{for(const t of e)if(!0!==t){if(t===ch)return ch;if(!1===t||t instanceof Hs)return t}return!0}),xi(e=>e!==ch),wr(1)))}function Fg(n){return(0,ar.z)((0,Wi.b)(e=>{if(cc(e))throw sC(0,e)}),(0,yt.U)(e=>!0===e))}const yp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bC(n,e,t,i,r){const o=Ng(n,e,t);return o.matched?function dA(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?nt(r.map(c=>{const h=sh(c,n);return ac(function aA(n){return n&&lh(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(uh(),Fg()):nt(!0)}(i=cC(e,i),e,t).pipe((0,yt.U)(c=>!0===c?o:{...yp})):nt(o)}function Ng(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...yp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||AE)(t,n,e);if(!r)return{...yp};const o={};Pi(r.posParams,(h,g)=>{o[g]=h.path});const c=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function hh(n,e,t,i){if(t.length>0&&function CC(n,e,t){return t.some(i=>Lg(n,e,i)&&ps(i)!==ln)}(n,t,i)){const o=new un(e,function EC(n,e,t,i){const r={};r[ln]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&ps(o)!==ln){const c=new un([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[ps(o)]=c}return r}(n,e,i,new un(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function xC(n,e,t){return t.some(i=>Lg(n,e,i))}(n,t,i)){const o=new un(n.segments,function wC(n,e,t,i,r){const o={};for(const c of i)if(Lg(n,t,c)&&!r[ps(c)]){const h=new un([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[ps(c)]=h}return{...r,...o}}(n,e,t,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const r=new un(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function Lg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function DC(n,e,t,i){return!!(ps(n)===i||i!==ln&&Lg(e,t,n))&&("**"===n.path||Ng(e,n,t).matched)}function IC(n,e,t){return 0===e.length&&!n.children[t]}const Bg=!1;class vp{constructor(e){this.segmentGroup=e||null}}class hA{constructor(e){this.urlTree=e}}function fh(n){return yu(new vp(n))}function SC(n){return yu(new hA(n))}class mA{constructor(e,t,i,r,o){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const e=hh(this.urlTree.root,[],[],this.config).segmentGroup,t=new un(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ln).pipe((0,yt.U)(o=>this.createUrlTree(sp(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xa(o=>{if(o instanceof hA)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof vp?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ln).pipe((0,yt.U)(r=>this.createUrlTree(sp(r),e.queryParams,e.fragment))).pipe(xa(r=>{throw r instanceof vp?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,Bg)}createUrlTree(e,t,i){const r=Tg(e);return new Hs(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,yt.U)(o=>new un([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,hn.D)(r).pipe(sc(o=>{const c=i.children[o],h=hC(t,o);return this.expandSegmentGroup(e,h,c,o).pipe((0,yt.U)(g=>({segment:g,outlet:o})))}),Jd((o,c)=>(o[c.outlet]=c.segment,o),{}),wg())}expandSegment(e,t,i,r,o,c){return(0,hn.D)(i).pipe(sc(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,o,c).pipe(xa(v=>{if(v instanceof vp)return nt(null);throw v}))),uo(h=>!!h),xa((h,g)=>{if(Pg(h))return IC(t,r,o)?nt(new un([],{})):fh(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,o,c,h){return DC(r,t,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c):fh(t):fh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?SC(o):this.lineralizeSegments(i,o).pipe((0,xr.z)(c=>{const h=new un(c,{});return this.expandSegment(e,h,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c){const{matched:h,consumedSegments:g,remainingSegments:v,positionalParamSegments:x}=Ng(t,r,o);if(!h)return fh(t);const S=this.applyRedirectCommands(g,r.redirectTo,x);return r.redirectTo.startsWith("/")?SC(S):this.lineralizeSegments(r,S).pipe((0,xr.z)(B=>this.expandSegment(e,t,i,B.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){return"**"===i.path?(e=cC(i,e),i.loadChildren?(i._loadedRoutes?nt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,yt.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new un(r,{})))):nt(new un(r,{}))):bC(t,i,r,e).pipe(Oi(({matched:c,consumedSegments:h,remainingSegments:g})=>c?this.getChildConfig(e=i._injector??e,i,r).pipe((0,xr.z)(x=>{const S=x.injector??e,B=x.routes,{segmentGroup:j,slicedSegments:q}=hh(t,h,g,B),ne=new un(j.segments,j.children);if(0===q.length&&ne.hasChildren())return this.expandChildren(S,B,ne).pipe((0,yt.U)(We=>new un(h,We)));if(0===B.length&&0===q.length)return nt(new un(h,{}));const oe=ps(i)===o;return this.expandSegment(S,ne,B,q,oe?ln:o,!0).pipe((0,yt.U)(Ye=>new un(h.concat(Ye.segments),Ye.children)))})):fh(t)))}getChildConfig(e,t,i){return t.children?nt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?nt({routes:t._loadedRoutes,injector:t._loadedInjector}):function vC(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?nt(!0):nt(r.map(c=>{const h=sh(c,n);return ac(function rA(n){return n&&lh(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(uh(),Fg())}(e,t,i).pipe((0,xr.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Wi.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function yF(n){return yu(aC(Bg,3))}())):nt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return nt(i);if(r.numberOfChildren>1||!r.children[ln])return e.redirectTo,yu(new l.vHH(4e3,Bg));r=r.children[ln]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Hs(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Pi(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=t[h]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let c={};return Pi(t.children,(h,g)=>{c[g]=this.createSegmentGroup(e,h,i,r)}),new un(o,c)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,Bg);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class gA{}class vA{constructor(e,t,i,r,o,c,h){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.urlSerializer=h}recognize(){const e=hh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ln).pipe((0,yt.U)(t=>{if(null===t)return null;const i=new Uv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ln,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new gl(i,t),o=new zT(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,i=iC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,hn.D)(Object.keys(i.children)).pipe(sc(r=>{const o=i.children[r],c=hC(t,r);return this.processSegmentGroup(e,c,o,r)}),Jd((r,o)=>r&&o?(r.push(...o),r):null),function Dv(n,e=!1){return(0,Gi.e)((t,i)=>{let r=0;t.subscribe((0,qi.x)(i,o=>{const c=n(o,r++);(c||e)&&i.next(o),!c&&i.complete()}))})}(r=>null!==r),bg(null),wg(),(0,yt.U)(r=>{if(null===r)return null;const o=MC(r);return function bA(n){n.sort((e,t)=>e.value.outlet===ln?-1:t.value.outlet===ln?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,i,r,o){return(0,hn.D)(t).pipe(sc(c=>this.processSegmentAgainstRoute(c._injector??e,c,i,r,o)),uo(c=>!!c),xa(c=>{if(Pg(c))return IC(i,r,o)?nt([]):nt(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,o){if(t.redirectTo||!DC(t,i,r,o))return nt(null);let c;if("**"===t.path){const h=r.length>0?OE(r).parameters:{},g=Wv(i)+r.length;c=nt({snapshot:new Uv(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Zv(t),ps(t),t.component??t._loadedComponent??null,t,qv(i),g,Yv(t)),consumedSegments:[],remainingSegments:[]})}else c=bC(i,t,r,e).pipe((0,yt.U)(({matched:h,consumedSegments:g,remainingSegments:v,parameters:x})=>{if(!h)return null;const S=Wv(i)+g.length;return{snapshot:new Uv(g,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Zv(t),ps(t),t.component??t._loadedComponent??null,t,qv(i),S,Yv(t)),consumedSegments:g,remainingSegments:v}}));return c.pipe(Oi(h=>{if(null===h)return nt(null);const{snapshot:g,consumedSegments:v,remainingSegments:x}=h;e=t._injector??e;const S=t._loadedInjector??e,B=function wA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:j,slicedSegments:q}=hh(i,v,x,B.filter(oe=>void 0===oe.redirectTo));if(0===q.length&&j.hasChildren())return this.processChildren(S,B,j).pipe((0,yt.U)(oe=>null===oe?null:[new gl(g,oe)]));if(0===B.length&&0===q.length)return nt([new gl(g,[])]);const ne=ps(t)===o;return this.processSegment(S,B,j,q,ne?ln:o).pipe((0,yt.U)(oe=>null===oe?null:[new gl(g,oe)]))}))}}function EA(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function MC(n){const e=[],t=new Set;for(const i of n){if(!EA(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=MC(i.children);e.push(new gl(i.value,r))}return e.filter(i=>!t.has(i))}function qv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Wv(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Zv(n){return n.data||{}}function Yv(n){return n.resolve||{}}function OC(n){return"string"==typeof n.title||null===n.title}function Kv(n){return Oi(e=>{const t=n(e);return t?(0,hn.D)(t).pipe((0,yt.U)(()=>e)):nt(e)})}const mh=new l.OlP("ROUTES");let wp=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return nt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ac(t.loadComponent()).pipe((0,yt.U)(PC),(0,Wi.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Eg(()=>{this.componentLoaders.delete(t)})),r=new Cv(i,()=>new Ft.x).pipe(Ev());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return nt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,yt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,v,x=!1;Array.isArray(h)?v=h:(g=h.create(t).injector,v=kE(g.get(mh,[],l.XFs.Self|l.XFs.Optional)));return{routes:v.map(zv),injector:g}}),Eg(()=>{this.childrenLoaders.delete(i)})),c=new Cv(o,()=>new Ft.x).pipe(Ev());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return ac(t()).pipe((0,yt.U)(PC),(0,xr.z)(i=>i instanceof l.YKP||Array.isArray(i)?nt(i):(0,hn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PC(n){return function Ta(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let dc=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ft.x,this.configLoader=(0,l.f3M)(wp),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(nh),this.rootContexts=(0,l.f3M)(oh),this.navigationId=0,this.afterPreactivation=()=>nt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new NT(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new FT(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new ki({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:uc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xi(i=>0!==i.id),(0,yt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),Oi(i=>{let r=!1,o=!1;return nt(i).pipe((0,Wi.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Oi(c=>{const h=t.browserUrlTree.toString(),g=!t.navigated||c.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!g&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const x="";return this.events.next(new cp(c.id,t.serializeUrl(i.rawUrl),x,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),rl.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return FC(c.source)&&(t.browserUrlTree=c.extractedUrl),nt(c).pipe(Oi(x=>{const S=this.transitions?.getValue();return this.events.next(new ni(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),S!==this.transitions?.getValue()?rl.E:Promise.resolve(x)}),function TC(n,e,t,i){return Oi(r=>function pA(n,e,t,i,r){return new mA(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,yt.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Wi.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},i.urlAfterRedirects=x.urlAfterRedirects}),function RC(n,e,t,i,r){return(0,xr.z)(o=>function yA(n,e,t,i,r,o,c="emptyOnly"){return new vA(n,e,t,i,r,c,o).recognize().pipe(Oi(h=>null===h?function _A(n){return new or.y(e=>e.error(n))}(new gA):nt(h)))}(n,e,t,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,yt.U)(c=>({...o,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Wi.b)(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!x.extras.skipLocationChange){const B=t.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);t.setBrowserUrl(B,x)}t.browserUrlTree=x.urlAfterRedirects}const S=new KE(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(S)}));if(g&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:x,extractedUrl:S,source:B,restoredState:j,extras:q}=c,ne=new ni(x,this.urlSerializer.serialize(S),B,j);this.events.next(ne);const oe=Vv(S,this.rootComponentType).snapshot;return nt(i={...c,targetSnapshot:oe,urlAfterRedirects:S,extras:{...q,skipLocationChange:!1,replaceUrl:!1}})}{const x="";return this.events.next(new cp(c.id,t.serializeUrl(i.extractedUrl),x,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),rl.E}}),(0,Wi.b)(c=>{const h=new QE(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),(0,yt.U)(c=>i={...c,guards:JT(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function lA(n,e){return(0,xr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=t;return 0===c.length&&0===o.length?nt({...t,guardsResult:!0}):function Gv(n,e,t,i){return(0,hn.D)(n).pipe((0,xr.z)(r=>function _F(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?nt(o.map(h=>{const g=Du(e)??r,v=sh(h,g);return ac(function sA(n){return n&&lh(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,i):g.runInContext(()=>v(n,e,t,i))).pipe(uo())})).pipe(uh()):nt(!0)}(r.component,r.route,t,e,i)),uo(r=>!0!==r,!0))}(c,i,r,n).pipe((0,xr.z)(h=>h&&function iA(n){return"boolean"==typeof n}(h)?function cA(n,e,t,i){return(0,hn.D)(e).pipe(sc(r=>Zm(function dh(n,e){return null!==n&&e&&e(new up(n)),nt(!0)}(r.route.parent,i),function _C(n,e){return null!==n&&e&&e(new BT(n)),nt(!0)}(r.route,i),function uA(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(c=>function eA(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>vg(()=>nt(c.guards.map(g=>{const v=Du(c.node)??t,x=sh(g,v);return ac(function oA(n){return n&&lh(n.canActivateChild)}(x)?x.canActivateChild(i,n):v.runInContext(()=>x(i,n))).pipe(uo())})).pipe(uh())));return nt(o).pipe(uh())}(n,r.path,t),function yC(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return nt(!0);const r=i.map(o=>vg(()=>{const c=Du(e)??t,h=sh(o,c);return ac(function mC(n){return n&&lh(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(uo())}));return nt(r).pipe(uh())}(n,r.route,t))),uo(r=>!0!==r,!0))}(i,o,n,e):nt(h)),(0,yt.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Wi.b)(c=>{if(i.guardsResult=c.guardsResult,cc(c.guardsResult))throw sC(0,c.guardsResult);const h=new XE(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(h)}),xi(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Kv(c=>{if(c.guards.canActivateChecks.length)return nt(c).pipe((0,Wi.b)(h=>{const g=new JE(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),Oi(h=>{let g=!1;return nt(h).pipe(function xA(n,e){return(0,xr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return nt(t);let o=0;return(0,hn.D)(r).pipe(sc(c=>function vF(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!OC(r)&&(o[ho]=r.title),function kC(n,e,t,i){const r=function DA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return nt({});const o={};return(0,hn.D)(r).pipe((0,xr.z)(c=>function IA(n,e,t,i){const r=Du(e)??i,o=sh(n,r);return ac(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[c],e,t,i).pipe(uo(),(0,Wi.b)(h=>{o[c]=h}))),TE(1),function Da(n){return(0,yt.U)(()=>n)}(o),xa(c=>Pg(c)?rl.E:yu(c)))}(o,n,e,i).pipe((0,yt.U)(c=>(n._resolvedData=c,n.data=iC(n,t).resolve,r&&OC(r)&&(n.data[ho]=r.title),null)))}(c.route,i,n,e)),(0,Wi.b)(()=>o++),TE(1),(0,xr.z)(c=>o===r.length?nt(t):rl.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Wi.b)({next:()=>g=!0,complete:()=>{g||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,Wi.b)(h=>{const g=new PT(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),Kv(c=>{const h=g=>{const v=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,Wi.b)(x=>{g.component=x}),(0,yt.U)(()=>{})));for(const x of g.children)v.push(...h(x));return v};return Uf(h(c.targetSnapshot.root)).pipe(bg(),wr(1))}),Kv(()=>this.afterPreactivation()),(0,yt.U)(c=>{const h=function GT(n,e,t){const i=fp(n,e._root,t?t._root:void 0);return new Bv(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return i={...c,targetRouterState:h}}),(0,Wi.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,yt.U)(i=>(new fC(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),wr(1),(0,Wi.b)({next:c=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Cu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{r=!0}}),Eg(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),xa(c=>{if(o=!0,qT(c)){lC(c)||(t.navigated=!0,t.restoreHistory(i,!0));const h=new lp(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode);if(this.events.next(h),lC(c)){const g=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),v={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||FC(i.source)};t.scheduleNavigation(g,uc,null,v,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const h=new Fv(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);this.events.next(h);try{i.resolve(t.errorHandler(c))}catch(g){i.reject(g)}}return rl.E}))}))}cancelNavigationTransition(t,i,r){const o=new lp(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FC(n){return n!==uc}let NC=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ln);return i}getResolvedTitleForRoute(t){return t.data[ho]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(SA)},providedIn:"root"}),n})(),SA=(()=>{class n extends NC{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(mf))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(TA)},providedIn:"root"}),n})();class Ug{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let TA=(()=>{class n extends Ug{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ep=new l.OlP("",{providedIn:"root",factory:()=>({})});let LC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Qv)},providedIn:"root"}),n})(),Qv=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xv(n){throw n}function Jv(n,e,t){return e.parse("/")}const BC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Ep,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Xv,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Jv,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(LC),this.routeReuseStrategy=(0,l.f3M)(Vg),this.urlCreationStrategy=(0,l.f3M)(hp),this.titleStrategy=(0,l.f3M)(NC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=kE((0,l.f3M)(mh,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(dc),this.urlSerializer=(0,l.f3M)(nh),this.location=(0,l.f3M)(He),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Hs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vv(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),uc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},c=r?.navigationId?r:null;if(r){const g={...r};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const h=this.parseUrl(t);this.scheduleNavigation(h,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(zv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:h,preserveFragment:g}=i,v=g?this.currentUrlTree.fragment:c;let x=null;switch(h){case"merge":x={...this.currentUrlTree.queryParams,...o};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=o||null}return null!==x&&(x=this.removeEmptyProps(x)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,x,v??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=cc(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,uc,null,i)}navigate(t,i={skipLocationChange:!1}){return function MA(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...BC}:!1===i?{...eb}:i,cc(t))return Iv(this.currentUrlTree,t,r);const o=this.parseUrl(t);return Iv(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,c){if(this.disposed)return Promise.resolve(!1);let h,g,v,x;return c?(h=c.resolve,g=c.reject,v=c.promise):v=new Promise((S,B)=>{h=S,g=B}),x="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:x,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:h,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(S=>Promise.reject(S))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",c)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Aa=(()=>{class n{constructor(t,i,r,o,c,h){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ft.x;const g=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===g||"area"===g,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof Cu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Fi),l.Y36(Sa),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(ut))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&l.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&l.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class tb{}let UC=(()=>{class n{constructor(t,i,r,o,c){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(xi(t=>t instanceof Cu),sc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,l.MMx)(o.providers,t,`Route: ${o.path}`));const c=o._injector??t,h=o._loadedInjector??c;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(c,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,hn.D)(r).pipe((0,$d.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):nt(null);const o=r.pipe((0,xr.z)(c=>null===c?nt(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,hn.D)([o,c]).pipe((0,$d.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Fi),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(tb),l.LFG(wp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jg=new l.OlP("");let nb=(()=>{class n{constructor(t,i,r,o,c={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ni?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Cu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof dp&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dp(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var Vo=(()=>((Vo=Vo||{})[Vo.COMPLETE=0]="COMPLETE",Vo[Vo.FAILED=1]="FAILED",Vo[Vo.REDIRECTING=2]="REDIRECTING",Vo))();const Iu=!1;function _l(n,e){return{\u0275kind:n,\u0275providers:e}}const Dr=new l.OlP("",{providedIn:"root",factory:()=>!1});function PA(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(Fi),r=n.get(FA);1===n.get(zg)&&i.initialNavigation(),n.get($g,null,l.XFs.Optional)?.setUpPreloading(),n.get(jg,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const FA=new l.OlP(Iu?"bootstrap done indicator":"",{factory:()=>new Ft.x}),zg=new l.OlP(Iu?"initial navigation":"",{providedIn:"root",factory:()=>1});function NA(){let n=[];return n=Iu?[{provide:l.Xts,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Fi);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function eC(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],_l(1,n)}const $g=new l.OlP(Iu?"router preloader":"");function LA(n){return _l(0,[{provide:$g,useExisting:UC},{provide:tb,useExisting:n}])}const xp=!1,ob=new l.OlP(xp?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),zC=[He,{provide:nh,useClass:Cg},Fi,oh,{provide:Sa,useFactory:function ib(n){return n.routerState.root},deps:[Fi]},wp,xp?{provide:Dr,useValue:!0}:[]];function Gg(){return new l.PXZ("Router",Fi)}let qg=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[zC,xp&&i?.enableTracing?NA().\u0275providers:[],{provide:mh,multi:!0,useValue:t},{provide:ob,useFactory:GC,deps:[[Fi,new l.FiY,new l.tp0]]},{provide:Ep,useValue:i||{}},i?.useHash?{provide:ut,useClass:Le}:{provide:ut,useClass:Pe},{provide:jg,useFactory:()=>{const n=(0,l.f3M)(Il),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(Ep),i=(0,l.f3M)(dc),r=(0,l.f3M)(nh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new nb(r,i,n,e,t)}},i?.preloadingStrategy?LA(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Gg},i?.initialNavigation?yh(i):[],[{provide:qC,useFactory:PA},{provide:l.tb,multi:!0,useExisting:qC}]]}}static forChild(t){return{ngModule:n,providers:[{provide:mh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ob,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kg]}),n})();function GC(n){if(xp&&n)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function yh(n){return["disabled"===n.initialNavigation?_l(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Fi);return()=>{e.setUpLocationChangeListener()}}},{provide:zg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?_l(2,[{provide:zg,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(Ee,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Fi),o=e.get(FA);(function HC(n,e){n.events.pipe(xi(t=>t instanceof Cu||t instanceof lp||t instanceof Fv||t instanceof cp),(0,yt.U)(t=>t instanceof Cu||t instanceof cp?Vo.COMPLETE:t instanceof lp&&(0===t.code||1===t.code)?Vo.REDIRECTING:Vo.FAILED),xi(t=>t!==Vo.REDIRECTING),wr(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(dc).afterPreactivation=()=>(i(!0),o.closed?nt(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const qC=new l.OlP(xp?"Router Initializer":"");var cn=V(4976);function sb(){return(0,Gi.e)((n,e)=>{let t,i=!1;n.subscribe((0,qi.x)(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var at,fo=V(2011),YC=(V(9568),V(3942)),Ce=V(5861),Br=V(6881),Su=V(4859),hc=V(1877),$t=V(2090),KC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},js={},Wg=Wg||{},Xt=KC||self;function Dp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function vh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Zg="closure_uid_"+(1e9*Math.random()>>>0),UA=0;function HA(n,e,t){return n.call.apply(n.bind,arguments)}function SF(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Ir(n,e,t){return(Ir=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?HA:SF).apply(null,arguments)}function ab(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Sr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[r].apply(i,c)}}function Tu(){this.s=this.s,this.o=this.o}Tu.prototype.s=!1,Tu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function QC(n){Object.prototype.hasOwnProperty.call(n,Zg)&&n[Zg]||(n[Zg]=++UA)}(this)},Tu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jA=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function XC(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function zA(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Dp(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let c=0;c<o;c++)n[r+c]=i[c]}else n.push(i)}}function Zr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zr.prototype.h=function(){this.defaultPrevented=!0};var Yg=function(){if(!Xt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Xt.addEventListener("test",()=>{},e),Xt.removeEventListener("test",()=>{},e)}catch{}return n}();function Kg(n){return/^[\s\xa0]*$/.test(n)}function Ip(){var n=Xt.navigator;return n&&(n=n.userAgent)?n:""}function Uo(n){return-1!=Ip().indexOf(n)}function Qg(n){return Qg[" "](n),n}Qg[" "]=function(){};var ub,n,AF=Uo("Opera"),fc=Uo("Trident")||Uo("MSIE"),lb=Uo("Edge"),cb=lb||fc,$A=Uo("Gecko")&&!(-1!=Ip().toLowerCase().indexOf("webkit")&&!Uo("Edge"))&&!(Uo("Trident")||Uo("MSIE"))&&!Uo("Edge"),GA=-1!=Ip().toLowerCase().indexOf("webkit")&&!Uo("Edge");function ex(){var n=Xt.document;return n?n.documentMode:void 0}e:{var bh="",db=(n=Ip(),$A?/rv:([^\);]+)(\)|;)/.exec(n):lb?/Edge\/([\d\.]+)/.exec(n):fc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):GA?/WebKit\/(\S+)/.exec(n):AF?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(db&&(bh=db?db[1]:""),fc){var tx=ex();if(null!=tx&&tx>parseFloat(bh)){ub=String(tx);break e}}ub=bh}var WA=Xt.document&&fc&&(ex()||parseInt(ub,10))||void 0;function Sp(n,e){if(Zr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if($A){e:{try{Qg(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ZA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Sp.$.h.call(this)}}Sr(Sp,Zr);var ZA={2:"touch",3:"pen",4:"mouse"};Sp.prototype.h=function(){Sp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xg="closure_listenable_"+(1e6*Math.random()|0),YA=0;function ix(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++YA,this.fa=this.ia=!1}function Tp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function rx(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function ox(n){const e={};for(const t in n)e[t]=n[t];return e}const Jg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sx(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<Jg.length;o++)t=Jg[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function hb(n){this.src=n,this.g={},this.h=0}function po(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=jA(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Tp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function fb(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}hb.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=fb(n,e,i,r);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new ix(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var Ap="closure_lm_"+(1e6*Math.random()|0),pb={};function ax(n,e,t,i,r){if(i&&i.once)return mb(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ax(n,e[o],t,i,r);return null}return t=Mp(t),n&&n[Xg]?n.O(e,t,vh(i)?!!i.capture:!!i,r):e_(n,e,t,!1,i,r)}function e_(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var c=vh(r)?!!r.capture:!!r,h=n_(n);if(h||(n[Ap]=h=new hb(n)),(t=h.add(e,t,i,c,o)).proxy)return t;if(i=function lx(){const e=KA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Yg||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(gb(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function mb(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)mb(n,e[o],t,i,r);return null}return t=Mp(t),n&&n[Xg]?n.P(e,t,vh(i)?!!i.capture:!!i,r):e_(n,e,t,!0,i,r)}function cx(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)cx(n,e[o],t,i,r);else i=vh(i)?!!i.capture:!!i,t=Mp(t),n&&n[Xg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=fb(o=n.g[e],t,i,r))&&(Tp(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=n_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=fb(e,t,i,r)),(t=-1<n?e[n]:null)&&t_(t))}function t_(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Xg])po(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(gb(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=n_(e))?(po(t,n),0==t.h&&(t.src=null,e[Ap]=null)):Tp(n)}}}function gb(n){return n in pb?pb[n]:pb[n]="on"+n}function KA(n,e){if(n.fa)n=!0;else{e=new Sp(e,this);var t=n.listener,i=n.la||n.src;n.ia&&t_(n),n=t.call(i,e)}return n}function n_(n){return(n=n[Ap])instanceof hb?n:null}var _b="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mp(n){return"function"==typeof n?n:(n[_b]||(n[_b]=function(e){return n.handleEvent(e)}),n[_b])}function $n(){Tu.call(this),this.i=new hb(this),this.S=this,this.J=null}function ii(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Zr(e,n);else if(e instanceof Zr)e.target=e.target||n;else{var r=e;sx(e=new Zr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var c=e.g=t[o];r=Rp(c,i,!0,e)&&r}if(r=Rp(c=e.g=n,i,!0,e)&&r,r=Rp(c,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Rp(c=e.g=t[o],i,!1,e)&&r}function Rp(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.fa&&c.capture==t){var h=c.listener,g=c.la||c.src;c.ia&&po(n.i,c),r=!1!==h.call(g,i)&&r}}return r&&!i.defaultPrevented}Sr($n,Tu),$n.prototype[Xg]=!0,$n.prototype.removeEventListener=function(n,e,t,i){cx(this,n,e,t,i)},$n.prototype.N=function(){if($n.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Tp(t[i]);delete n.g[e],n.h--}}this.J=null},$n.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},$n.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var kp=Xt.JSON.stringify;function QA(){var n=r_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var dx=new class ux{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new XA,n=>n.reset());class XA{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function JA(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function eM(n){Xt.setTimeout(()=>{throw n},0)}let wh,i_=!1,r_=new class MF{constructor(){this.h=this.g=null}add(e,t){const i=dx.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},hx=()=>{const n=Xt.Promise.resolve(void 0);wh=()=>{n.then(fx)}};var fx=()=>{for(var n;n=QA();){try{n.h.call(n.g)}catch(t){eM(t)}var e=dx;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}i_=!1};function yb(n,e){$n.call(this),this.h=n||1,this.g=e||Xt,this.j=Ir(this.qb,this),this.l=Date.now()}function Op(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function o_(n,e,t){if("function"==typeof n)t&&(n=Ir(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ir(n.handleEvent,n)}return 2147483647<Number(e)?-1:Xt.setTimeout(n,e||0)}function vb(n){n.g=o_(()=>{n.g=null,n.i&&(n.i=!1,vb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Sr(yb,$n),(at=yb.prototype).ga=!1,at.T=null,at.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ii(this,"tick"),this.ga&&(Op(this),this.start()))}},at.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.N=function(){yb.$.N.call(this),Op(this),delete this.g};class px extends Tu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vb(this)}N(){super.N(),this.g&&(Xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Eh(n){Tu.call(this),this.h=n,this.g={}}Sr(Eh,Tu);var bb=[];function Pp(n,e,t,i){Array.isArray(t)||(t&&(bb[0]=t.toString()),t=bb);for(var r=0;r<t.length;r++){var o=ax(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function Fp(n){rx(n.g,function(e,t){this.g.hasOwnProperty(t)&&t_(e)},n),n.g={}}function Np(){this.g=!0}function Ch(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function kF(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return kp(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Eh.prototype.N=function(){Eh.$.N.call(this),Fp(this)},Eh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Np.prototype.Ea=function(){this.g=!1},Np.prototype.info=function(){};var pc={},mx=null;function s_(){return mx=mx||new $n}function gx(n){Zr.call(this,pc.Ta,n)}function a_(n){const e=s_();ii(e,new gx(e))}function iM(n,e){Zr.call(this,pc.STAT_EVENT,n),this.stat=e}function mo(n){const e=s_();ii(e,new iM(e,n))}function rM(n,e){Zr.call(this,pc.Ua,n),this.size=e}function l_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Xt.setTimeout(function(){n()},e)}pc.Ta="serverreachability",Sr(gx,Zr),pc.STAT_EVENT="statevent",Sr(iM,Zr),pc.Ua="timingevent",Sr(rM,Zr);var c_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Lp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wb(){}function Eb(){}wb.prototype.h=null;var Vp,$s={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function u_(){Zr.call(this,"d")}function Bp(){Zr.call(this,"c")}function d_(){}function Au(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Eh(this),this.P=f_,this.V=new yb(n=cb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new h_}function h_(){this.i=null,this.g="",this.h=!1}Sr(u_,Zr),Sr(Bp,Zr),Sr(d_,wb),d_.prototype.g=function(){return new XMLHttpRequest},d_.prototype.i=function(){return{}},Vp=new d_;var f_=45e3,yx={},Cb={};function vx(n,e,t){n.L=1,n.v=g_(vl(e)),n.s=t,n.S=!0,oM(n,null)}function oM(n,e){n.G=Date.now(),Up(n),n.A=vl(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),s(t.i,"t",i),n.C=0,t=n.l.J,n.h=new h_,n.g=tN(n.l,t?e:null,!n.s),0<n.O&&(n.M=new px(Ir(n.Pa,n,n.g),n.O)),Pp(n.U,n.g,"readystatechange",n.nb),e=n.I?ox(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),a_(),function tM(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",h=o.split("&"),g=0;g<h.length;g++){var v=h[g].split("=");if(1<v.length){var x=v[0];v=v[1];var S=x.split("_");c=2<=S.length&&"type"==S[1]?c+(x+"=")+v+"&":c+(x+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function xb(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function bx(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=sM(n,t),r==Cb){4==e&&(n.o=4,mo(14),i=!1),Ch(n.j,n.m,null,"[Incomplete Response]");break}if(r==yx){n.o=4,mo(15),Ch(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Ch(n.j,n.m,r,null),Db(n,r)}xb(n)&&r!=Cb&&r!=yx&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,mo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),_M(e),e.M=!0,mo(11))):(Ch(n.j,n.m,t,"[Invalid Chunked Response]"),mc(n),xh(n))}function sM(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Cb:(t=Number(e.substring(t,i)),isNaN(t)?yx:(i+=1)+t>e.length?Cb:(e=e.slice(i,i+t),n.C=i+t,e))}function Up(n){n.Y=Date.now()+n.P,wx(n,n.P)}function wx(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=l_(Ir(n.lb,n),e)}function Hp(n){n.B&&(Xt.clearTimeout(n.B),n.B=null)}function xh(n){0==n.l.H||n.J||QF(n.l,n)}function mc(n){Hp(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Op(n.V),Fp(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Db(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||I(t.i,n)))if(!n.K&&I(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Sx(t),Dx(t)}gM(t),mo(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=l_(Ir(t.ib,t),6e3));if(1>=C(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else zp(t,11)}else if((n.K||t.g==n)&&Sx(t),!Kg(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const x=v[3];null!=x&&(t.ra=x,t.l.info("VER="+t.ra));const S=v[4];null!=S&&(t.Ga=S,t.l.info("SVER="+t.Ga));const B=v[5];null!=B&&"number"==typeof B&&0<B&&(t.L=i=1.5*B,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const j=n.g;if(j){const q=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var o=i.i;o.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(T(o,o.h),o.h=null))}if(i.F){const ne=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(i.Da=ne,Jn(i.I,i.F,ne))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((i=t).wa=eN(i,i.J?i.pa:null,i.Y),c.K){k(i.i,c);var h=c,g=i.L;g&&h.setTimeout(g),h.B&&(Hp(h),Up(h)),i.g=c}else YF(i);0<t.j.length&&Ix(t)}else"stop"!=v[0]&&"close"!=v[0]||zp(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?zp(t,7):mM(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}a_()}catch{}}function p_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Dp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ex(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Dp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function aM(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Dp(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(at=Au.prototype).setTimeout=function(n){this.P=n},at.nb=function(n){n=n.target;const e=this.M;e&&3==gc(n)?e.l():this.Pa(n)},at.Pa=function(n){try{if(n==this.g)e:{const x=gc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||cb||this.g&&(this.h.h||this.g.ja()||zF(this.g)))){this.J||4!=x||7==e||a_(),Hp(this);var t=this.g.da();this.ca=t;t:if(xb(this)){var i=zF(this.g);n="";var r=i.length,o=4==gc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mc(this),xh(this);var c="";break t}this.h.i=new Xt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function nM(n,e,t,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.W,x,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kg(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,mo(12),mc(this),xh(this);break e}Ch(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Db(this,t)}this.S?(bx(this,x,c),cb&&this.i&&3==x&&(Pp(this.U,this.V,"tick",this.mb),this.V.start())):(Ch(this.j,this.m,c,null),Db(this,c)),4==x&&mc(this),this.i&&!this.J&&(4==x?QF(this.l,this):(this.i=!1,Up(this)))}else(function mz(n){const e={};n=(n.g&&2<=gc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Kg(n[i]))continue;var t=JA(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function zs(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,mo(12)):(this.o=0,mo(13)),mc(this),xh(this)}}}catch{}},at.mb=function(){if(this.g){var n=gc(this.g),e=this.g.ja();this.C<e.length&&(Hp(this),bx(this,n,e),this.i&&4!=n&&Up(this))}},at.cancel=function(){this.J=!0,mc(this)},at.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function RF(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(a_(),mo(17)),mc(this),this.o=2,xh(this)):wx(this,this.Y-n)};var lM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof yl){this.h=n.h,m_(this,n.j),this.s=n.s,this.g=n.g,Ib(this,n.m),this.l=n.l;var e=n.i,t=new y_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),cM(this,t),this.o=n.o}else n&&(e=String(n).match(lM))?(this.h=!1,m_(this,e[1]||"",!0),this.s=jp(e[2]||""),this.g=jp(e[3]||"",!0),Ib(this,e[4]),this.l=jp(e[5]||"",!0),cM(this,e[6]||"",!0),this.o=jp(e[7]||"")):(this.h=!1,this.i=new y_(null,this.h))}function vl(n){return new yl(n)}function m_(n,e,t){n.j=t?jp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ib(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function cM(n,e,t){e instanceof y_?(n.i=e,function u(n,e){e&&!n.j&&(Mu(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(hM(this,i),s(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=__(e,FF)),n.i=new y_(e,n.h))}function Jn(n,e,t){n.i.set(e,t)}function g_(n){return Jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function jp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function __(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,OF),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function OF(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}yl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(__(e,uM,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(__(e,uM,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(__(t,"/"==t.charAt(0)?dM:PF,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",__(t,NF)),n.join("")};var uM=/[#\/\?@]/g,PF=/[#\?:]/g,dM=/[#\?]/g,FF=/[#\?@]/g,NF=/#/g;function y_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Mu(n){n.g||(n.g=new Map,n.h=0,n.i&&function Cx(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function hM(n,e){Mu(n),e=a(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function fM(n,e){return Mu(n),e=a(n,e),n.g.has(e)}function s(n,e,t){hM(n,e),0<t.length&&(n.i=null,n.g.set(a(n,e),XC(t)),n.h+=t.length)}function a(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function f(n){this.l=n||m,n=Xt.PerformanceNavigationTiming?0<(n=Xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Xt.g&&Xt.g.Ka&&Xt.g.Ka()&&Xt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=y_.prototype).add=function(n,e){Mu(this),this.i=null,n=a(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},at.forEach=function(n,e){Mu(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},at.ta=function(){Mu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},at.Z=function(n){Mu(this);let e=[];if("string"==typeof n)fM(this,n)&&(e=e.concat(this.g.get(a(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},at.set=function(n,e){return Mu(this),this.i=null,fM(this,n=a(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},at.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),c=this.Z(i);for(i=0;i<c.length;i++){var r=o;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var m=10;function y(n){return!!n.h||!!n.g&&n.g.size>=n.j}function C(n){return n.h?1:n.g?n.g.size:0}function I(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function T(n,e){n.g?n.g.add(e):n.h=e}function k(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function H(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return XC(n.i)}f.prototype.cancel=function(){if(this.i=H(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var X=class{stringify(n){return Xt.JSON.stringify(n,void 0)}parse(n){return Xt.JSON.parse(n,void 0)}};function le(){this.g=new X}function Se(n,e,t){const i=t||"";try{p_(n,function(r,o){let c=r;vh(r)&&(c=kp(r)),e.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Je(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function ht(n){this.l=n.fc||null,this.j=n.ob||!1}function kt(n,e){$n.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Ne,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Sr(ht,wb),ht.prototype.g=function(){return new kt(this.l,this.j)},ht.prototype.i=function(n){return function(){return n}}({}),Sr(kt,$n);var Ne=0;function Wt(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function On(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ei(n)}function ei(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=kt.prototype).open=function(n,e){if(this.readyState!=Ne)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ei(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Xt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,On(this)),this.readyState=Ne},at.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Xt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wt(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},at.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?On(this):ei(this),3==this.readyState&&Wt(this)}},at.Za=function(n){this.g&&(this.response=this.responseText=n,On(this))},at.Ya=function(n){this.g&&(this.response=n,On(this))},at.ka=function(){this.g&&On(this)},at.setRequestHeader=function(n,e){this.v.append(n,e)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(kt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var LF=Xt.JSON.parse;function Zi(n){$n.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=BF,this.L=this.M=!1}Sr(Zi,$n);var BF="",hz=/^https?$/i,fz=["POST","PUT"];function VF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,UF(n),xx(n)}function UF(n){n.F||(n.F=!0,ii(n,"complete"),ii(n,"error"))}function HF(n){if(n.h&&typeof Wg<"u"&&(!n.C[1]||4!=gc(n)||2!=n.da()))if(n.v&&4==gc(n))o_(n.La,0,n);else if(ii(n,"readystatechange"),4==gc(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===c){var r=String(n.I).match(lM)[1]||null;!r&&Xt.self&&Xt.self.location&&(r=Xt.self.location.protocol.slice(0,-1)),i=!hz.test(r?r.toLowerCase():"")}t=i}if(t)ii(n,"complete"),ii(n,"success");else{n.m=6;try{var o=2<gc(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",UF(n)}}finally{xx(n)}}}function xx(n,e){if(n.g){jF(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ii(n,"ready");try{t.onreadystatechange=i}catch{}}}function jF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Xt.clearTimeout(n.A),n.A=null)}function gc(n){return n.g?n.g.readyState:0}function zF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case BF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function $F(n){let e="";return rx(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function pM(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=$F(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Jn(n,e,t))}function Sb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function GF(n){this.Ga=0,this.j=[],this.l=new Np,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sb("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sb("baseRetryDelayMs",5e3,n),this.hb=Sb("retryDelaySeedMs",1e4,n),this.eb=Sb("forwardChannelMaxRetries",2,n),this.xa=Sb("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new f(n&&n.concurrentRequestLimit),this.Ja=new le,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function mM(n){if(qF(n),3==n.H){var e=n.W++,t=vl(n.I);if(Jn(t,"SID",n.K),Jn(t,"RID",e),Jn(t,"TYPE","terminate"),Tb(n,t),(e=new Au(n,n.l,e)).L=2,e.v=g_(vl(t)),t=!1,Xt.navigator&&Xt.navigator.sendBeacon)try{t=Xt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Xt.Image&&((new Image).src=e.v,t=!0),t||(e.g=tN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Up(e)}JF(n)}function Dx(n){n.g&&(_M(n),n.g.cancel(),n.g=null)}function qF(n){Dx(n),n.u&&(Xt.clearTimeout(n.u),n.u=null),Sx(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Xt.clearTimeout(n.m),n.m=null)}function Ix(n){if(!y(n.i)&&!n.m){n.m=!0;var e=n.Na;wh||hx(),i_||(wh(),i_=!0),r_.add(e,n),n.C=0}}function WF(n,e){var t;t=e?e.m:n.W++;const i=vl(n.I);Jn(i,"SID",n.K),Jn(i,"RID",t),Jn(i,"AID",n.V),Tb(n,i),n.o&&n.s&&pM(i,n.o,n.s),t=new Au(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=ZF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),T(n.i,t),vx(t,i,e)}function Tb(n,e){n.na&&rx(n.na,function(t,i){Jn(e,i,t)}),n.h&&p_({},function(t,i){Jn(e,i,t)})}function ZF(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Ir(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const c=["count="+t];-1==o?0<t?(o=r[0].g,c.push("ofs="+o)):o=0:c.push("ofs="+o);let h=!0;for(let g=0;g<t;g++){let v=r[g].g;const x=r[g].map;if(v-=o,0>v)o=Math.max(0,r[g].g-100),h=!1;else try{Se(x,c,"req"+v+"_")}catch{i&&i(x)}}if(h){i=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function YF(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;wh||hx(),i_||(wh(),i_=!0),r_.add(e,n),n.A=0}}function gM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=l_(Ir(n.Ma,n),XF(n,n.A)),n.A++,0))}function _M(n){null!=n.B&&(Xt.clearTimeout(n.B),n.B=null)}function KF(n){n.g=new Au(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=vl(n.wa);Jn(e,"RID","rpc"),Jn(e,"SID",n.K),Jn(e,"AID",n.V),Jn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Jn(e,"TO",n.qa),Jn(e,"TYPE","xmlhttp"),Tb(n,e),n.o&&n.s&&pM(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=g_(vl(e)),t.s=null,t.S=!0,oM(t,n)}function Sx(n){null!=n.v&&(Xt.clearTimeout(n.v),n.v=null)}function QF(n,e){var t=null;if(n.g==e){Sx(n),_M(n),n.g=null;var i=2}else{if(!I(n.i,e))return;t=e.F,k(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;ii(i=s_(),new rM(i,t)),Ix(n)}else YF(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function gz(n,e){return!(C(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=l_(Ir(n.Na,n,e),XF(n,n.C)),n.C++,0)))}(n,e)||2==i&&gM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:zp(n,5);break;case 4:zp(n,10);break;case 3:zp(n,6);break;default:zp(n,2)}}function XF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function zp(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Ir(n.pb,n);t||(t=new yl("//www.google.com/images/cleardot.gif"),Xt.location&&"http"==Xt.location.protocol||m_(t,"https"),g_(t)),function Ge(n,e){const t=new Np;if(Xt.Image){const i=new Image;i.onload=ab(Je,t,i,"TestLoadImage: loaded",!0,e),i.onerror=ab(Je,t,i,"TestLoadImage: error",!1,e),i.onabort=ab(Je,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=ab(Je,t,i,"TestLoadImage: timeout",!1,e),Xt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else mo(2);n.H=0,n.h&&n.h.za(e),JF(n),qF(n)}function JF(n){if(n.H=0,n.ma=[],n.h){const e=H(n.i);(0!=e.length||0!=n.j.length)&&(zA(n.ma,e),zA(n.ma,n.j),n.i.i.length=0,XC(n.j),n.j.length=0),n.h.ya()}}function eN(n,e,t){var i=t instanceof yl?vl(t):new yl(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Ib(i,i.m);else{var r=Xt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new yl(null);i&&m_(o,i),e&&(o.g=e),r&&Ib(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&Jn(i,t,e),Jn(i,"VER",n.ra),Tb(n,i),i}function tN(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zi(t&&n.Ha&&!n.va?new ht({ob:!0}):n.va)).Oa(n.J),e}function nN(){}function Tx(){if(fc&&!(10<=Number(WA)))throw Error("Environmental error: no available transport.")}function Gs(n,e){$n.call(this),this.g=new GF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Kg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new v_(this)}function iN(n){u_.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function rN(){Bp.call(this),this.status=1}function v_(n){this.g=n}function bl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yM(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],c=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;c=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(c<<7&4294967295|c>>>25))+((c=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((o=(e=t+((c=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((r=o+((c=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Bn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(at=Zi.prototype).Oa=function(n){this.M=n},at.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vp.g(),this.C=function _x(n){return n.h||(n.h=n.i())}(this.u?this.u:Vp),this.g.onreadystatechange=Ir(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void VF(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=Xt.FormData&&n instanceof Xt.FormData,!(0<=jA(fz,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of t)this.g.setRequestHeader(o,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jF(this),0<this.B&&((this.L=function pz(n){return fc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ir(this.ua,this)):this.A=o_(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){VF(this,o)}},at.ua=function(){typeof Wg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ii(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ii(this,"complete"),ii(this,"abort"),xx(this))},at.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xx(this,!0)),Zi.$.N.call(this)},at.La=function(){this.s||(this.G||this.v||this.l?HF(this):this.kb())},at.kb=function(){HF(this)},at.isActive=function(){return!!this.g},at.da=function(){try{return 2<gc(this)?this.g.status:-1}catch{return-1}},at.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},at.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),LF(e)}},at.Ia=function(){return this.m},at.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=GF.prototype).ra=8,at.H=1,at.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Au(this,this.l,n);let o=this.s;if(this.U&&(o?(o=ox(o),sx(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ZF(this,r,e),Jn(t=vl(this.I),"RID",n),Jn(t,"CVER",22),this.F&&Jn(t,"X-HTTP-Session-Id",this.F),Tb(this,t),o&&(this.O?e="headers="+encodeURIComponent(String($F(o)))+"&"+e:this.o&&pM(t,this.o,o)),T(this.i,r),this.bb&&Jn(t,"TYPE","init"),this.P?(Jn(t,"$req",e),Jn(t,"SID","null"),r.aa=!0,vx(r,t,null)):vx(r,t,e),this.H=2}}else 3==this.H&&(n?WF(this,n):0==this.j.length||y(this.i)||WF(this))},at.Ma=function(){if(this.u=null,KF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=l_(Ir(this.jb,this),n)}},at.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mo(10),Dx(this),KF(this))},at.ib=function(){null!=this.v&&(this.v=null,Dx(this),gM(this),mo(19))},at.pb=function(n){n?(this.l.info("Successfully pinged google.com"),mo(2)):(this.l.info("Failed to ping google.com"),mo(1))},at.isActive=function(){return!!this.h&&this.h.isActive(this)},(at=nN.prototype).Ba=function(){},at.Aa=function(){},at.za=function(){},at.ya=function(){},at.isActive=function(){return!0},at.Va=function(){},Tx.prototype.g=function(n,e){return new Gs(n,e)},Sr(Gs,$n),Gs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;mo(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=eN(n,null,n.Y),Ix(n)},Gs.prototype.close=function(){mM(this.g)},Gs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=kp(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Ix(e)},Gs.prototype.N=function(){this.g.h=null,delete this.j,mM(this.g),delete this.g,Gs.$.N.call(this)},Sr(iN,u_),Sr(rN,Bp),Sr(v_,nN),v_.prototype.Ba=function(){ii(this.g,"a")},v_.prototype.Aa=function(n){ii(this.g,new iN(n))},v_.prototype.za=function(n){ii(this.g,new rN)},v_.prototype.ya=function(){ii(this.g,"b")},Sr(bl,function _z(){this.blockSize=-1}),bl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},bl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)yM(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){yM(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){yM(this,i),r=0;break}}this.h=r,this.i+=e},bl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var yz={};function vM(n){return-128<=n&&128>n?function JC(n,e){var t=yz;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Bn([0|e],0>e?-1:0)}):new Bn([0|n],0>n?-1:0)}function _c(n){if(isNaN(n)||!isFinite(n))return b_;if(0>n)return Yr(_c(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=bM;return new Bn(e,0)}var bM=4294967296,b_=vM(0),wM=vM(1),sN=vM(16777216);function Ru(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ma(n){return-1==n.h}function Yr(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Bn(t,~n.h).add(wM)}function Ax(n,e){return n.add(Yr(e))}function Mx(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Ab(n,e){this.g=n,this.h=e}function Rx(n,e){if(Ru(e))throw Error("division by zero");if(Ru(n))return new Ab(b_,b_);if(Ma(n))return e=Rx(Yr(n),e),new Ab(Yr(e.g),Yr(e.h));if(Ma(e))return e=Rx(n,Yr(e)),new Ab(Yr(e.g),e.h);if(30<n.g.length){if(Ma(n)||Ma(e))throw Error("slowDivide_ only works with positive integers.");for(var t=wM,i=e;0>=i.X(n);)t=aN(t),i=aN(i);var r=w_(t,1),o=w_(i,1);for(i=w_(i,2),t=w_(t,2);!Ru(i);){var c=o.add(i);0>=c.X(n)&&(r=r.add(t),o=c),i=w_(i,1),t=w_(t,1)}return e=Ax(n,r.R(e)),new Ab(r,e)}for(r=b_;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),c=(o=_c(t)).R(e);Ma(c)||0<c.X(n);)c=(o=_c(t-=i)).R(e);Ru(o)&&(o=wM),r=r.add(o),n=Ax(n,c)}return new Ab(r,n)}function aN(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Bn(t,n.h)}function w_(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Bn(r,n.h)}(at=Bn.prototype).ea=function(){if(Ma(this))return-Yr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:bM+i)*e,e*=bM}return n},at.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ru(this))return"0";if(Ma(this))return"-"+Yr(this).toString(n);for(var e=_c(Math.pow(n,6)),t=this,i="";;){var r=Rx(t,e).g,o=((0<(t=Ax(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ru(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},at.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},at.X=function(n){return Ma(n=Ax(this,n))?-1:Ru(n)?0:1},at.abs=function(){return Ma(this)?Yr(this):this},at.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),c=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=c>>>16,t[r]=(c&=65535)<<16|(o&=65535)}return new Bn(t,-2147483648&t[t.length-1]?-1:0)},at.R=function(n){if(Ru(this)||Ru(n))return b_;if(Ma(this))return Ma(n)?Yr(this).R(Yr(n)):Yr(Yr(this).R(n));if(Ma(n))return Yr(this.R(Yr(n)));if(0>this.X(sN)&&0>n.X(sN))return _c(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,c=65535&this.D(i),h=n.D(r)>>>16,g=65535&n.D(r);t[2*i+2*r]+=c*g,Mx(t,2*i+2*r),t[2*i+2*r+1]+=o*g,Mx(t,2*i+2*r+1),t[2*i+2*r+1]+=c*h,Mx(t,2*i+2*r+1),t[2*i+2*r+2]+=o*h,Mx(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Bn(t,0)},at.gb=function(n){return Rx(this,n).h},at.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Bn(t,this.h&n.h)},at.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Bn(t,this.h|n.h)},at.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Bn(t,this.h^n.h)},Tx.prototype.createWebChannel=Tx.prototype.g,Gs.prototype.send=Gs.prototype.u,Gs.prototype.open=Gs.prototype.m,Gs.prototype.close=Gs.prototype.close,c_.NO_ERROR=0,c_.TIMEOUT=8,c_.HTTP_ERROR=6,Lp.COMPLETE="complete",Eb.EventType=$s,$s.OPEN="a",$s.CLOSE="b",$s.ERROR="c",$s.MESSAGE="d",$n.prototype.listen=$n.prototype.O,Zi.prototype.listenOnce=Zi.prototype.P,Zi.prototype.getLastError=Zi.prototype.Sa,Zi.prototype.getLastErrorCode=Zi.prototype.Ia,Zi.prototype.getStatus=Zi.prototype.da,Zi.prototype.getResponseJson=Zi.prototype.Wa,Zi.prototype.getResponseText=Zi.prototype.ja,Zi.prototype.send=Zi.prototype.ha,Zi.prototype.setWithCredentials=Zi.prototype.Oa,bl.prototype.digest=bl.prototype.l,bl.prototype.reset=bl.prototype.reset,bl.prototype.update=bl.prototype.j,Bn.prototype.add=Bn.prototype.add,Bn.prototype.multiply=Bn.prototype.R,Bn.prototype.modulo=Bn.prototype.gb,Bn.prototype.compare=Bn.prototype.X,Bn.prototype.toNumber=Bn.prototype.ea,Bn.prototype.toString=Bn.prototype.toString,Bn.prototype.getBits=Bn.prototype.D,Bn.fromNumber=_c,Bn.fromString=function oN(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Yr(oN(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=_c(Math.pow(e,8)),i=b_,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),c=parseInt(n.substring(r,r+o),e);8>o?(o=_c(Math.pow(e,o)),i=i.R(o).add(_c(c))):i=(i=i.R(t)).add(_c(c))}return i};var vz=js.createWebChannelTransport=function(){return new Tx},bz=js.getStatEventTarget=function(){return s_()},EM=js.ErrorCode=c_,wz=js.EventType=Lp,Ez=js.Event=pc,lN=js.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Cz=js.FetchXmlHttpFactory=ht,kx=js.WebChannel=Eb,xz=js.XhrIo=Zi,Dz=js.Md5=bl,E_=js.Integer=Bn;const cN="@firebase/firestore";class Vr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");let C_="9.23.0";const Dh=new hc.Yd("@firebase/firestore");function CM(){return Dh.logLevel}function je(n,...e){if(Dh.logLevel<=hc.in.DEBUG){const t=e.map(xM);Dh.debug(`Firestore (${C_}): ${n}`,...t)}}function lr(n,...e){if(Dh.logLevel<=hc.in.ERROR){const t=e.map(xM);Dh.error(`Firestore (${C_}): ${n}`,...t)}}function Ra(n,...e){if(Dh.logLevel<=hc.in.WARN){const t=e.map(xM);Dh.warn(`Firestore (${C_}): ${n}`,...t)}}function xM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const e=`FIRESTORE (${C_}) INTERNAL ASSERTION FAILED: `+n;throw lr(e),new Error(e)}function Ct(n,e){n||mt()}function lt(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends $t.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class uN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vr.UNAUTHENTICATED))}shutdown(){}}class Az{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Mz{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let c=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Tr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const v=c;e.enqueueRetryable((0,Ce.Z)(function*(){yield v.promise,yield o(i.currentUser)}))},g=v=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Tr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct("string"==typeof i.accessToken),new uN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new Vr(e)}}class Rz{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class kz{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new Rz(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Oz{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.T;return this.T=o.token,je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.T=t.token,new dN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pz(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class hN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Pz(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}}function nn(n,e){return n<e?-1:n>e?1:0}function x_(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function fN(n){return n+"\0"}class Di{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Di.fromMillis(Date.now())}static fromDate(e){return Di.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Di(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new Di(0,0))}static max(){return new It(new Di(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Mb{constructor(e,t,i){void 0===t?t=0:t>e.length&&mt(),void 0===i?i=e.length-t:i>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Mb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mb?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),c=t.get(r);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xn extends Mb{construct(e,t,i){return new xn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new xn(t)}static emptyPath(){return new xn([])}}const Fz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yi extends Mb{construct(e,t,i){return new Yi(e,t,i)}static isValidIdentifier(e){return Fz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Oe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Oe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new Oe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yi(t)}static emptyPath(){return new Yi([])}}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(xn.fromString(e))}static fromName(e){return new rt(xn.fromString(e).popFirst(5))}static empty(){return new rt(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new xn(e.slice()))}}class Ox{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function DM(n){return n.fields.find(e=>2===e.kind)}function $p(n){return n.fields.filter(e=>2!==e.kind)}Ox.UNKNOWN_ID=-1;class Px{constructor(e,t){this.fieldPath=e,this.kind=t}}class Rb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Rb(0,qs.min())}}function pN(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=It.fromTimestamp(1e9===i?new Di(t+1,0):new Di(t,i));return new qs(r,rt.empty(),e)}function mN(n){return new qs(n.readTime,n.key,-1)}class qs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new qs(It.min(),rt.empty(),-1)}static max(){return new qs(It.max(),rt.empty(),-1)}}function IM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=rt.comparator(n.documentKey,e.documentKey),0!==t?t:nn(n.largestBatchId,e.largestBatchId))}const gN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _N{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ih(n){return SM.apply(this,arguments)}function SM(){return SM=(0,Ce.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==gN)throw n;je("LocalStore","Unexpectedly lost primary lease")}),SM.apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,i)=>{t(e)})}static reject(e){return new de((t,i)=>{i(e)})}static waitFor(e){return new de((t,i)=>{let r=0,o=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&t()},g=>i(g))}),c=!0,o===r&&t()})}static or(e){let t=de.resolve(!1);for(const i of e)t=t.next(r=>r?de.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new de((i,r)=>{const o=e.length,c=new Array(o);let h=0;for(let g=0;g<o;g++){const v=g;t(e[v]).next(x=>{c[v]=x,++h,h===o&&i(c)},x=>r(x))}})}static doWhile(e,t){return new de((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class Fx{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Tr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new kb(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=TM(i.target.error);this.v.reject(new kb(e,r))}}static open(e,t,i,r){try{return new Fx(t,e.transaction(r,i))}catch(o){throw new kb(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Vz(t)}}class wl{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===wl.S((0,$t.z$)())&&lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),Gp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,$t.hl)())return!1;if(wl.C())return!0;const e=(0,$t.z$)(),t=wl.S(e),i=0<t&&t<10,r=wl.N(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,Ce.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new kb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new Oe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Oe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new kb(e,h))},o.onupgradeneeded=c=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.O(c.target.result,o.transaction,c.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,Ce.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{o.db=yield o.$(e);const g=Fx.open(o.db,e,c?"readonly":"readwrite",i),v=r(g).next(x=>(g.P(),x)).catch(x=>(g.abort(x),de.reject(x))).toPromise();return v.catch(()=>{}),yield g.R,v}catch(g){const v=g,x="FirebaseError"!==v.name&&h<3;if(je("SimpleDb","Transaction failed with error:",v.message,"Retrying:",x),o.close(),!x)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Bz{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Gp(this.L.delete())}}class kb extends Oe{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Sh(n){return"IndexedDbTransactionError"===n.name}class Vz{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Gp(i)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),Gp(this.store.add(e))}get(e){return Gp(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),Gp(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),Gp(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(c,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new de((o,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new de((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}J(e,t){je("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,c,h)=>h.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new de((i,r)=>{t.onerror=o=>{const c=TM(o.target.error);r(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}W(e,t){const i=[];return new de((r,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const g=new Bz(h),v=t(h.primaryKey,h.value,g);if(v instanceof de){const x=v.catch(S=>(g.done(),de.reject(S)));i.push(x)}g.isDone?r():null===g.K?h.continue():h.continue(g.K)}}).next(()=>de.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Gp(n){return new de((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=TM(i.target.error);t(r)}})}let yN=!1;function TM(n){const e=wl.S((0,$t.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yN||(yN=!0,setTimeout(()=>{throw i},0)),i}}return n}class Uz{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;je("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ce.Z)(function*(){t.task=null;try{je("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Sh(i)?je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ih(i)}yield t.et(6e4)}))}}class Hz{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ce.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,o=!0;return de.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return je("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,r).next(h=>{r-=h,i.add(c)});o=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(r,o)).next(h=>(je("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,o)=>{const c=mN(o);IM(c,i)>0&&(i=c)}),new qs(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ws=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Ob(n){return null==n}function Pb(n){return 0===n&&1/n==-1/0}function vN(n){return"number"==typeof n&&Number.isInteger(n)&&!Pb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function go(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bN(e)),e=jz(n.get(t),e);return bN(e)}function jz(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function bN(n){return n+"\x01\x01"}function yc(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xn.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const c=n.indexOf("\x01",o);switch((c<0||c>t)&&mt(),n.charAt(c+1)){case"\x01":const h=n.substring(o,c);let g;0===r.length?g=h:(r+=h,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:mt()}o=c+2}return new xn(i)}const wN=["userId","batchId"];function Nx(n,e){return[n,go(e)]}function EN(n,e,t){return[n,go(e),t]}const zz={},$z=["prefixPath","collectionGroup","readTime","documentId"],Gz=["prefixPath","collectionGroup","documentId"],qz=["collectionGroup","readTime","prefixPath","documentId"],Wz=["canonicalId","targetId"],Zz=["targetId","path"],Yz=["path","targetId"],Kz=["collectionId","parent"],Qz=["indexId","uid"],Xz=["uid","sequenceNumber"],Jz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],e$=["indexId","uid","orderedDocumentKey"],t$=["userId","collectionPath","documentId"],n$=["userId","collectionPath","largestBatchId"],i$=["userId","collectionGroup","largestBatchId"],CN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],r$=[...CN,"documentOverlays"],xN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DN=xN,o$=[...DN,"indexConfiguration","indexState","indexEntries"];class AM extends _N{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ur(n,e){const t=lt(n);return wl.M(t.ht,e)}function IN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Th(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function SN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ri{constructor(e,t){this.comparator=e,this.root=t||Kr.EMPTY}insert(e,t){return new ri(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lx(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lx(this.root,e,this.comparator,!0)}}class Lx{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Kr.RED,this.left=r??Kr.EMPTY,this.right=o??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Kr(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Kr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Kr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hi{constructor(e){this.comparator=e,this.data=new ri(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new TN(this.data.getIterator())}getIteratorFrom(e){return new TN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof hi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hi(this.comparator);return t.data=e,t}}class TN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function D_(n){return n.hasNext()?n.getNext():void 0}class ms{constructor(e){this.fields=e,e.sort(Yi.comparator)}static empty(){return new ms([])}unionWith(e){let t=new hi(Yi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ms(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return x_(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class AN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ar{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new AN("Invalid base64 string: "+r):r}}(e);return new Ar(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new Ar(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ar.EMPTY_BYTE_STRING=new Ar("");const a$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ah(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=a$.exec(n);if(Ct(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ki(n.seconds),nanos:Ki(n.nanos)}}function Ki(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ku(n){return"string"==typeof n?Ar.fromBase64String(n):Ar.fromUint8Array(n)}function Bx(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Vx(n){const e=n.mapValue.fields.__previous_value__;return Bx(e)?Vx(e):e}function Fb(n){const e=Ah(n.mapValue.fields.__local_write_time__.timestampValue);return new Di(e.seconds,e.nanos)}class l${constructor(e,t,i,r,o,c,h,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=g,this.useFetchStreams=v}}class Mh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mh&&e.projectId===this.projectId&&e.database===this.database}}const Rh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ux={nullValue:"NULL_VALUE"};function kh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bx(n)?4:ON(n)?9007199254740991:10:mt()}function vc(n,e){if(n===e)return!0;const t=kh(n);if(t!==kh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fb(n).isEqual(Fb(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Ah(i.timestampValue),c=Ah(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,ku(n.bytesValue).isEqual(ku(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ki(i.geoPointValue.latitude)===Ki(r.geoPointValue.latitude)&&Ki(i.geoPointValue.longitude)===Ki(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ki(i.integerValue)===Ki(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Ki(i.doubleValue),c=Ki(r.doubleValue);return o===c?Pb(o)===Pb(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return x_(n.arrayValue.values||[],e.arrayValue.values||[],vc);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(IN(o)!==IN(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===c[h]||!vc(o[h],c[h])))return!1;return!0}(n,e);default:return mt()}var r}function Nb(n,e){return void 0!==(n.values||[]).find(t=>vc(t,e))}function Oh(n,e){if(n===e)return 0;const t=kh(n),i=kh(e);if(t!==i)return nn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return nn(n.booleanValue,e.booleanValue);case 2:return function(r,o){const c=Ki(r.integerValue||r.doubleValue),h=Ki(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return MN(n.timestampValue,e.timestampValue);case 4:return MN(Fb(n),Fb(e));case 5:return nn(n.stringValue,e.stringValue);case 6:return function(r,o){const c=ku(r),h=ku(o);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const c=r.split("/"),h=o.split("/");for(let g=0;g<c.length&&g<h.length;g++){const v=nn(c[g],h[g]);if(0!==v)return v}return nn(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const c=nn(Ki(r.latitude),Ki(o.latitude));return 0!==c?c:nn(Ki(r.longitude),Ki(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const c=r.values||[],h=o.values||[];for(let g=0;g<c.length&&g<h.length;++g){const v=Oh(c[g],h[g]);if(v)return v}return nn(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===Rh.mapValue&&o===Rh.mapValue)return 0;if(r===Rh.mapValue)return 1;if(o===Rh.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),g=o.fields||{},v=Object.keys(g);h.sort(),v.sort();for(let x=0;x<h.length&&x<v.length;++x){const S=nn(h[x],v[x]);if(0!==S)return S;const B=Oh(c[h[x]],g[v[x]]);if(0!==B)return B}return nn(h.length,v.length)}(n.mapValue,e.mapValue);default:throw mt()}}function MN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return nn(n,e);const t=Ah(n),i=Ah(e),r=nn(t.seconds,i.seconds);return 0!==r?r:nn(t.nanos,i.nanos)}function I_(n){return MM(n)}function MM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ah(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ku(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=MM(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${MM(i.fields[h])}`;return o+"}"}(n.mapValue):mt();var e}function qp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function RM(n){return!!n&&"integerValue"in n}function Lb(n){return!!n&&"arrayValue"in n}function RN(n){return!!n&&"nullValue"in n}function kN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jx(n){return!!n&&"mapValue"in n}function Bb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Th(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Bb(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ON(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function c$(n){return"nullValue"in n?Ux:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?qp(Mh.empty(),rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function u$(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?qp(Mh.empty(),rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Rh:mt()}function PN(n,e){const t=Oh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function FN(n,e){const t=Oh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!jx(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bb(t)}setAll(e){let t=Yi.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const g=this.getFieldsMap(t);this.applyChanges(g,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=Bb(c):r.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());jx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];jx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Th(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Qr(Bb(this.value))}}function NN(n){const e=[];return Th(n.fields,(t,i)=>{const r=new Yi([t]);if(jx(i)){const o=NN(i.mapValue).fields;if(0===o.length)e.push(r);else for(const c of o)e.push(r.child(c))}else e.push(r)}),new ms(e)}class fi{constructor(e,t,i,r,o,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new fi(e,0,It.min(),It.min(),It.min(),Qr.empty(),0)}static newFoundDocument(e,t,i,r){return new fi(e,1,t,It.min(),i,r,0)}static newNoDocument(e,t){return new fi(e,2,t,It.min(),It.min(),Qr.empty(),0)}static newUnknownDocument(e,t){return new fi(e,3,t,It.min(),It.min(),Qr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ph{constructor(e,t){this.position=e,this.inclusive=t}}function LN(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],c=n.position[r];if(i=o.field.isKeyField()?rt.comparator(rt.fromName(c.referenceValue),t.key):Oh(c,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function BN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vc(n.position[t],e.position[t]))return!1;return!0}class S_{constructor(e,t="asc"){this.field=e,this.dir=t}}function d$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class VN{}class wn extends VN{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new h$(e,t,i):"array-contains"===t?new m$(e,i):"in"===t?new GN(e,i):"not-in"===t?new g$(e,i):"array-contains-any"===t?new _$(e,i):new wn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new f$(e,i):new p$(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Oh(t,this.value)):null!==t&&kh(this.value)===kh(t)&&this.matchesComparison(Oh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vn extends VN{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Vn(e,t)}matches(e){return T_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function T_(n){return"and"===n.op}function kM(n){return"or"===n.op}function OM(n){return UN(n)&&T_(n)}function UN(n){for(const e of n.filters)if(e instanceof Vn)return!1;return!0}function PM(n){if(n instanceof wn)return n.field.canonicalString()+n.op.toString()+I_(n.value);if(OM(n))return n.filters.map(e=>PM(e)).join(",");{const e=n.filters.map(t=>PM(t)).join(",");return`${n.op}(${e})`}}function HN(n,e){return n instanceof wn?(t=n,(i=e)instanceof wn&&t.op===i.op&&t.field.isEqual(i.field)&&vc(t.value,i.value)):n instanceof Vn?function(t,i){return i instanceof Vn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,c)=>r&&HN(o,i.filters[c]),!0)}(n,e):void mt();var t,i}function jN(n,e){const t=n.filters.concat(e);return Vn.create(t,n.op)}function zN(n){return n instanceof wn?`${(e=n).field.canonicalString()} ${e.op} ${I_(e.value)}`:n instanceof Vn?function(e){return e.op.toString()+" {"+e.getFilters().map(zN).join(" ,")+"}"}(n):"Filter";var e}class h$ extends wn{constructor(e,t,i){super(e,t,i),this.key=rt.fromName(i.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class f$ extends wn{constructor(e,t){super(e,"in",t),this.keys=$N(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class p$ extends wn{constructor(e,t){super(e,"not-in",t),this.keys=$N(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $N(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>rt.fromName(i.referenceValue))}class m$ extends wn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lb(t)&&Nb(t.arrayValue,this.value)}}class GN extends wn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nb(this.value.arrayValue,t)}}class g$ extends wn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Nb(this.value.arrayValue,t)}}class _$ extends wn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Nb(this.value.arrayValue,i))}}class y${constructor(e,t=null,i=[],r=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.dt=null}}function FM(n,e=null,t=[],i=[],r=null,o=null,c=null){return new y$(n,e,t,i,r,o,c)}function Wp(n){const e=lt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>PM(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Ob(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>I_(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>I_(i)).join(",")),e.dt=t}return e.dt}function Vb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!d$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!HN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!BN(n.startAt,e.startAt)&&BN(n.endAt,e.endAt)}function zx(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function $x(n,e){return n.filters.filter(t=>t instanceof wn&&t.field.isEqual(e))}function qN(n,e,t){let i=Ux,r=!0;for(const o of $x(n,e)){let c=Ux,h=!0;switch(o.op){case"<":case"<=":c=c$(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=Ux}PN({value:i,inclusive:r},{value:c,inclusive:h})<0&&(i=c,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];PN({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function WN(n,e,t){let i=Rh,r=!0;for(const o of $x(n,e)){let c=Rh,h=!0;switch(o.op){case">=":case">":c=u$(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=Rh}FN({value:i,inclusive:r},{value:c,inclusive:h})>0&&(i=c,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];FN({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class Ou{constructor(e,t=null,i=[],r=[],o=null,c="F",h=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=g,this.wt=null,this._t=null}}function ZN(n,e,t,i,r,o,c,h){return new Ou(n,e,t,i,r,o,c,h)}function A_(n){return new Ou(n)}function YN(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function NM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Gx(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function LM(n){return null!==n.collectionGroup}function Zp(n){const e=lt(n);if(null===e.wt){e.wt=[];const t=Gx(e),i=NM(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new S_(t)),e.wt.push(new S_(Yi.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new S_(Yi.keyField(),o))}}}return e.wt}function Ho(n){const e=lt(n);if(!e._t)if("F"===e.limitType)e._t=FM(e.path,e.collectionGroup,Zp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Zp(e))t.push(new S_(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new Ph(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ph(e.startAt.position,e.startAt.inclusive):null;e._t=FM(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function BM(n,e){e.getFirstInequalityField(),Gx(n);const t=n.filters.concat([e]);return new Ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qx(n,e,t){return new Ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ub(n,e){return Vb(Ho(n),Ho(e))&&n.limitType===e.limitType}function KN(n){return`${Wp(Ho(n))}|lt:${n.limitType}`}function VM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>zN(i)).join(", ")}]`),Ob(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>I_(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>I_(i)).join(",")),`Target(${t})`}(Ho(n))}; limitType=${n.limitType})`}function Hb(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):rt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Zp(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,c){const h=LN(r,o,c);return r.inclusive?h<=0:h<0}(t.startAt,Zp(t),i)||t.endAt&&!function(r,o,c){const h=LN(r,o,c);return r.inclusive?h>=0:h>0}(t.endAt,Zp(t),i)));var t,i}function QN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function XN(n){return(e,t)=>{let i=!1;for(const r of Zp(n)){const o=v$(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function v$(n,e,t){const i=n.field.isKeyField()?rt.comparator(e.key,t.key):function(r,o,c){const h=o.data.field(r),g=c.data.field(r);return null!==h&&null!==g?Oh(h,g):mt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return mt()}}class Pu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Th(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return SN(this.inner)}size(){return this.innerSize}}const b$=new ri(rt.comparator);function gs(){return b$}const JN=new ri(rt.comparator);function jb(...n){let e=JN;for(const t of n)e=e.insert(t.key,t);return e}function eL(n){let e=JN;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function bc(){return zb()}function tL(){return zb()}function zb(){return new Pu(n=>n.toString(),(n,e)=>n.isEqual(e))}const w$=new ri(rt.comparator),E$=new hi(rt.comparator);function fn(...n){let e=E$;for(const t of n)e=e.add(t);return e}const C$=new hi(nn);function UM(){return C$}function nL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pb(e)?"-0":e}}function iL(n){return{integerValue:""+n}}function rL(n,e){return vN(e)?iL(e):nL(n,e)}class Wx{constructor(){this._=void 0}}function x$(n,e,t){return n instanceof M_?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Bx(r)&&(r=Vx(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Yp?sL(n,e):n instanceof Kp?aL(n,e):function(i,r){const o=oL(i,r),c=lL(o)+lL(i.gt);return RM(o)&&RM(i.gt)?iL(c):nL(i.serializer,c)}(n,e)}function D$(n,e,t){return n instanceof Yp?sL(n,e):n instanceof Kp?aL(n,e):t}function oL(n,e){return n instanceof R_?RM(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class M_ extends Wx{}class Yp extends Wx{constructor(e){super(),this.elements=e}}function sL(n,e){const t=cL(e);for(const i of n.elements)t.some(r=>vc(r,i))||t.push(i);return{arrayValue:{values:t}}}class Kp extends Wx{constructor(e){super(),this.elements=e}}function aL(n,e){let t=cL(e);for(const i of n.elements)t=t.filter(r=>!vc(r,i));return{arrayValue:{values:t}}}class R_ extends Wx{constructor(e,t){super(),this.serializer=e,this.gt=t}}function lL(n){return Ki(n.integerValue||n.doubleValue)}function cL(n){return Lb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $b{constructor(e,t){this.field=e,this.transform=t}}class S${constructor(e,t){this.version=e,this.transformResults=t}}class Ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zx(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Yx{}function uL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new O_(n.key,Ii.none()):new k_(n.key,n.data,Ii.none());{const t=n.data,i=Qr.empty();let r=new hi(Yi.comparator);for(let o of e.fields)if(!r.has(o)){let c=t.field(o);null===c&&o.length>1&&(o=o.popLast(),c=t.field(o)),null===c?i.delete(o):i.set(o,c),r=r.add(o)}return new Fu(n.key,i,new ms(r.toArray()),Ii.none())}}function T$(n,e,t){n instanceof k_?function(i,r,o){const c=i.value.clone(),h=fL(i.fieldTransforms,r,o.transformResults);c.setAll(h),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Fu?function(i,r,o){if(!Zx(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=fL(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(hL(i)),h.setAll(c),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Gb(n,e,t,i){return n instanceof k_?function(r,o,c,h){if(!Zx(r.precondition,o))return c;const g=r.value.clone(),v=pL(r.fieldTransforms,h,o);return g.setAll(v),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Fu?function(r,o,c,h){if(!Zx(r.precondition,o))return c;const g=pL(r.fieldTransforms,h,o),v=o.data;return v.setAll(hL(r)),v.setAll(g),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(x=>x.field))}(n,e,t,i):(c=t,Zx(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function A$(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=oL(i.transform,r||null);null!=o&&(null===t&&(t=Qr.empty()),t.set(i.field,o))}return t||null}function dL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&x_(t,i,(r,o)=>function I$(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Yp&&i instanceof Yp||t instanceof Kp&&i instanceof Kp?x_(t.elements,i.elements,vc):t instanceof R_&&i instanceof R_?vc(t.gt,i.gt):t instanceof M_&&i instanceof M_);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class k_ extends Yx{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Fu extends Yx{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function hL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function fL(n,e,t){const i=new Map;Ct(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],c=o.transform,h=e.data.field(o.field);i.set(o.field,D$(c,h,t[r]))}return i}function pL(n,e,t){const i=new Map;for(const r of n){const o=r.transform,c=t.data.field(r.field);i.set(r.field,x$(o,c,e))}return i}class O_ extends Yx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HM extends Yx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jM{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&T$(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Gb(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Gb(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=tL();return this.mutations.forEach(r=>{const o=e.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(r.key)?null:h;const g=uL(c,h);null!==g&&i.set(r.key,g),c.isValidDocument()||c.convertToNoDocument(It.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fn())}isEqual(e){return this.batchId===e.batchId&&x_(this.mutations,e.mutations,(t,i)=>dL(t,i))&&x_(this.baseMutations,e.baseMutations,(t,i)=>dL(t,i))}}class zM{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ct(e.mutations.length===i.length);let r=w$;const o=e.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new zM(e,t,i,r)}}class $M{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class R${constructor(e,t){this.count=e,this.unchangedNames=t}}var gr,Dn;function mL(n){switch(n){default:return mt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function gL(n){if(void 0===n)return lr("GRPC error has no .code"),me.UNKNOWN;switch(n){case gr.OK:return me.OK;case gr.CANCELLED:return me.CANCELLED;case gr.UNKNOWN:return me.UNKNOWN;case gr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case gr.INTERNAL:return me.INTERNAL;case gr.UNAVAILABLE:return me.UNAVAILABLE;case gr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case gr.NOT_FOUND:return me.NOT_FOUND;case gr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case gr.ABORTED:return me.ABORTED;case gr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case gr.DATA_LOSS:return me.DATA_LOSS;default:return mt()}}(Dn=gr||(gr={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";class GM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Kx}static getOrCreateInstance(){return null===Kx&&(Kx=new GM),Kx}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Kx=null;function _L(){return new TextEncoder}const k$=new E_([4294967295,4294967295],0);function yL(n){const e=_L().encode(n),t=new Dz;return t.update(e),new Uint8Array(t.digest())}function vL(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new E_([t,i],0),new E_([r,o],0)]}class qM{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new qb(`Invalid padding: ${t}`);if(i<0)throw new qb(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new qb(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new qb(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=E_.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(E_.fromNumber(i)));return 1===r.compare(k$)&&(r=new E_([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=yL(e),[i,r]=vL(t);for(let o=0;o<this.hashCount;o++){const c=this.Et(i,r,o);if(!this.At(c))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new qM(o,r,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(0===this.It)return;const t=yL(e),[i,r]=vL(t);for(let o=0;o<this.hashCount;o++){const c=this.Et(i,r,o);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class qb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wb{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Zb.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Wb(It.min(),r,new ri(nn),gs(),fn())}}class Zb{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Zb(i,t,fn(),fn(),fn())}}class Qx{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class bL{constructor(e,t){this.targetId=e,this.Vt=t}}class wL{constructor(e,t,i=Ar.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class EL{constructor(){this.St=0,this.Dt=xL(),this.Ct=Ar.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=fn(),t=fn(),i=fn();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:mt()}}),new Zb(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=xL()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class O${constructor(e){this.Gt=e,this.Qt=new Map,this.jt=gs(),this.zt=CL(),this.Wt=new ri(nn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const c=o.target;if(zx(c))if(0===r){const h=new rt(c.path);this.Yt(i,h,fi.newNoDocument(h,It.min()))}else Ct(1===r);else{const h=this.ie(i);if(h!==r){const g=this.re(e,h);0!==g&&(this.ee(i),this.Wt=this.Wt.insert(i,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=GM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,x,S){var B,j,q,ne,oe,Ue;const Ye={localCacheCount:x,existenceFilterCount:S.count},We=S.unchangedNames;return We&&(Ye.bloomFilter={applied:0===v,hashCount:null!==(B=We?.hashCount)&&void 0!==B?B:0,bitmapLength:null!==(ne=null===(q=null===(j=We?.bits)||void 0===j?void 0:j.bitmap)||void 0===q?void 0:q.length)&&void 0!==ne?ne:0,padding:null!==(Ue=null===(oe=We?.bits)||void 0===oe?void 0:oe.padding)&&void 0!==Ue?Ue:0}),Ye}(g,h,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:c=0},hashCount:h=0}=i;let g,v;try{g=ku(o).toUint8Array()}catch(x){if(x instanceof AN)return Ra("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{v=new qM(g,c,h)}catch(x){return Ra(x instanceof qb?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return 0===v.It?1:r!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const c=this.Gt.ue(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.vt(h)||(this.Yt(e,o,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((o,c)=>{const h=this.se(c);if(h){if(o.current&&zx(h.target)){const g=new rt(h.target.path);null!==this.jt.get(g)||this.ae(c,g)||this.Yt(c,g,fi.newNoDocument(g,e))}o.Mt&&(t.set(c,o.Ot()),o.Ft())}});let i=fn();this.zt.forEach((o,c)=>{let h=!0;c.forEachWhile(g=>{const v=this.se(g);return!v||"TargetPurposeLimboResolution"===v.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.jt.forEach((o,c)=>c.setReadTime(e));const r=new Wb(e,t,this.Wt,this.jt,i);return this.jt=gs(),this.zt=CL(),this.Wt=new ri(nn),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new EL,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new hi(nn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new EL),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function CL(){return new ri(rt.comparator)}function xL(){return new ri(rt.comparator)}const P$={asc:"ASCENDING",desc:"DESCENDING"},F$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N$={and:"AND",or:"OR"};class L${constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function WM(n,e){return n.useProto3Json||Ob(e)?e:{value:e}}function P_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function B$(n,e){return P_(n,e.toTimestamp())}function cr(n){return Ct(!!n),It.fromTimestamp(function(e){const t=Ah(e);return new Di(t.seconds,t.nanos)}(n))}function ZM(n,e){return(t=n,new xn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function IL(n){const e=xn.fromString(n);return Ct(FL(e)),e}function Yb(n,e){return ZM(n.databaseId,e.path)}function wc(n,e){const t=IL(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new rt(TL(t))}function YM(n,e){return ZM(n.databaseId,e)}function SL(n){const e=IL(n);return 4===e.length?xn.emptyPath():TL(e)}function Kb(n){return new xn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TL(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function AL(n,e,t){return{name:Yb(n,e),fields:t.value.mapValue.fields}}function ML(n,e,t){const i=wc(n,e.name),r=cr(e.updateTime),o=e.createTime?cr(e.createTime):It.min(),c=new Qr({mapValue:{fields:e.fields}}),h=fi.newFoundDocument(i,r,o,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Qb(n,e){let t;if(e instanceof k_)t={update:AL(n,e.key,e.value)};else if(e instanceof O_)t={delete:Yb(n,e.key)};else if(e instanceof Fu)t={update:AL(n,e.key,e.data),updateMask:q$(e.fieldMask)};else{if(!(e instanceof HM))return mt();t={verify:Yb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof M_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Yp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Kp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof R_)return{fieldPath:o.field.canonicalString(),increment:c.gt};throw mt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:B$(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:mt()),t;var r}function KM(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Ii.updateTime(cr(r.updateTime)):void 0!==r.exists?Ii.exists(r.exists):Ii.none():Ii.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,c){let h=null;"setToServerValue"in c?(Ct("REQUEST_TIME"===c.setToServerValue),h=new M_):"appendMissingElements"in c?h=new Yp(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Kp(c.removeAllFromArray.values||[]):"increment"in c?h=new R_(o,c.increment):mt();const g=Yi.fromServerFormat(c.fieldPath);return new $b(g,h)}(n,r)):[];var r;if(e.update){const r=wc(n,e.update.name),o=new Qr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ms((e.updateMask.fieldPaths||[]).map(v=>Yi.fromServerFormat(v)));return new Fu(r,o,c,t,i)}return new k_(r,o,t,i)}if(e.delete){const r=wc(n,e.delete);return new O_(r,t)}if(e.verify){const r=wc(n,e.verify);return new HM(r,t)}return mt()}function RL(n,e){return{documents:[YM(n,e.path)]}}function QM(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=YM(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=YM(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0!==g.length)return PL(Vn.create(g,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(g){if(0!==g.length)return g.map(v=>{return{field:Fh((x=v).field),direction:z$(x.dir)};var x})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=WM(n,e.limit);var h,g;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function kL(n){let e=SL(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ct(1===i);const x=t.from[0];x.allDescendants?r=x.collectionId:e=e.child(x.collectionId)}let o=[];t.where&&(o=function(x){const S=OL(x);return S instanceof Vn&&OM(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(x=>{return new S_(F_((S=x).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;t.limit&&(h=function(x){let S;return S="object"==typeof x?x.value:x,Ob(S)?null:S}(t.limit));let g=null;var x;t.startAt&&(g=new Ph((x=t.startAt).values||[],!!x.before));let v=null;return t.endAt&&(v=function(x){return new Ph(x.values||[],!x.before)}(t.endAt)),ZN(e,r,c,o,h,"F",g,v)}function OL(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=F_(e.unaryFilter.field);return wn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=F_(e.unaryFilter.field);return wn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=F_(e.unaryFilter.field);return wn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=F_(e.unaryFilter.field);return wn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(n):void 0!==n.fieldFilter?wn.create(F_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Vn.create(e.compositeFilter.filters.map(t=>OL(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return mt()}}(e.compositeFilter.op))}(n):mt();var e}function z$(n){return P$[n]}function $$(n){return F$[n]}function G$(n){return N$[n]}function Fh(n){return{fieldPath:n.canonicalString()}}function F_(n){return Yi.fromServerFormat(n.fieldPath)}function PL(n){return n instanceof wn?function(e){if("=="===e.op){if(kN(e.value))return{unaryFilter:{field:Fh(e.field),op:"IS_NAN"}};if(RN(e.value))return{unaryFilter:{field:Fh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kN(e.value))return{unaryFilter:{field:Fh(e.field),op:"IS_NOT_NAN"}};if(RN(e.value))return{unaryFilter:{field:Fh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fh(e.field),op:$$(e.op),value:e.value}}}(n):n instanceof Vn?function(e){const t=e.getFilters().map(i=>PL(i));return 1===t.length?t[0]:{compositeFilter:{op:G$(e.op),filters:t}}}(n):mt()}function q$(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function FL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Nu{constructor(e,t,i,r,o=It.min(),c=It.min(),h=Ar.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=g}withSequenceNumber(e){return new Nu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NL{constructor(e){this.fe=e}}function LL(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Xx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Yb(r=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:P_(r,o.version.toTimestamp()),createTime:P_(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Qp(e.version)};else{if(!e.isUnknownDocument())return mt();i.unknownDocument={path:t.path.toArray(),version:Qp(e.version)}}var r,o;return i}function Xx(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Qp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xp(n){const e=new Di(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function Jp(n,e){const t=(e.baseMutations||[]).map(o=>KM(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>KM(n.fe,o)),r=Di.fromMillis(e.localWriteTimeMs);return new jM(e.batchId,r,t,i)}function Xb(n){const e=Xp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Xp(n.lastLimboFreeSnapshotVersion):It.min();let i;var r;return void 0!==n.query.documents?(Ct(1===(r=n.query).documents.length),i=Ho(A_(SL(r.documents[0])))):i=Ho(kL(n.query)),new Nu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ar.fromBase64String(n.resumeToken))}function BL(n,e){const t=Qp(e.snapshotVersion),i=Qp(e.lastLimboFreeSnapshotVersion);let r;r=zx(e.target)?RL(n.fe,e.target):QM(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wp(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function XM(n){const e=kL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?qx(e,e.limit,"L"):e}function JM(n,e){return new $M(e.largestBatchId,KM(n.fe,e.overlayMutation))}function VL(n,e){const t=e.path.lastSegment();return[n,go(e.path.popLast()),t]}function UL(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Qp(i.readTime),documentKey:go(i.documentKey.path),largestBatchId:i.largestBatchId}}class Z${getBundleMetadata(e,t){return HL(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Xp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return HL(e).put({bundleId:(i=t).id,createTime:Qp(cr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return jL(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:XM(r.bundledQuery),readTime:Xp(r.readTime)};var r})}saveNamedQuery(e,t){return jL(e).put({name:(i=t).name,readTime:Qp(cr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function HL(n){return Ur(n,"bundles")}function jL(n){return Ur(n,"namedQueries")}class Jx{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Jx(e,t.uid||"")}getOverlay(e,t){return Jb(e).get(VL(this.userId,t)).next(i=>i?JM(this.serializer,i):null)}getOverlays(e,t){const i=bc();return de.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,c)=>{const h=new $M(t,c);r.push(this.we(e,h))}),de.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(go(c.getCollectionPath())));const o=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(Jb(e).J("collectionPathOverlayIndex",h))}),de.waitFor(o)}getOverlaysForCollection(e,t,i){const r=bc(),o=go(t),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Jb(e).j("collectionPathOverlayIndex",c).next(h=>{for(const g of h){const v=JM(this.serializer,g);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=bc();let c;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Jb(e).X({index:"collectionGroupOverlayIndex",range:h},(g,v,x)=>{const S=JM(this.serializer,v);o.size()<r||S.largestBatchId===c?(o.set(S.getKey(),S),c=S.largestBatchId):x.done()}).next(()=>o)}we(e,t){return Jb(e).put(function(i,r,o){const[c,h,g]=VL(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:g,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Qb(i.fe,o.mutation)}}(this.serializer,this.userId,t))}}function Jb(n){return Ur(n,"documentOverlays")}class em{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ki(e.integerValue));else if("doubleValue"in e){const i=Ki(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Pb(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ku(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?ON(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):mt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),rt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Y$(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function zL(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=Y$(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}em.Ve=new em;class K${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=zL(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=zL(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Q${constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class X${constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class e0{constructor(){this.je=new K$,this.ze=new Q$(this.je),this.We=new X$(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class tm{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new tm(this.indexId,this.documentKey,this.arrayValue,i)}}function Nh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=$L(n.arrayValue,e.arrayValue),0!==t?t:(t=$L(n.directionalValue,e.directionalValue),0!==t?t:rt.comparator(n.documentKey,e.documentKey)))}function $L(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class J${constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){Ct(e.collectionGroup===this.collectionId);const t=DM(e);if(void 0!==t&&!this.en(t))return!1;const i=$p(e);let r=new Set,o=0,c=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const h=i[o];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[c++],h))return!1}++o}for(;o<i.length;++o)if(c>=this.Ye.length||!this.sn(this.Ye[c++],i[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function GL(n){var e,t;if(Ct(n instanceof wn||n instanceof Vn),n instanceof wn){if(n instanceof GN){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>wn.create(n.field,"==",o)))||[];return Vn.create(r,"or")}return n}const i=n.filters.map(r=>GL(r));return Vn.create(i,n.op)}function e3(n){if(0===n.getFilters().length)return[];const e=nR(GL(n));return Ct(qL(e)),eR(e)||tR(e)?[e]:e.getFilters()}function eR(n){return n instanceof wn}function tR(n){return n instanceof Vn&&OM(n)}function qL(n){return eR(n)||tR(n)||function(e){if(e instanceof Vn&&kM(e)){for(const t of e.getFilters())if(!eR(t)&&!tR(t))return!1;return!0}return!1}(n)}function nR(n){if(Ct(n instanceof wn||n instanceof Vn),n instanceof wn)return n;if(1===n.filters.length)return nR(n.filters[0]);const e=n.filters.map(i=>nR(i));let t=Vn.create(e,n.op);return t=eD(t),qL(t)?t:(Ct(t instanceof Vn),Ct(T_(t)),Ct(t.filters.length>1),t.filters.reduce((i,r)=>iR(i,r)))}function iR(n,e){let t;return Ct(n instanceof wn||n instanceof Vn),Ct(e instanceof wn||e instanceof Vn),t=n instanceof wn?e instanceof wn?Vn.create([n,e],"and"):WL(n,e):e instanceof wn?WL(e,n):function(i,r){if(Ct(i.filters.length>0&&r.filters.length>0),T_(i)&&T_(r))return jN(i,r.getFilters());const o=kM(i)?i:r,c=kM(i)?r:i,h=o.filters.map(g=>iR(g,c));return Vn.create(h,"or")}(n,e),eD(t)}function WL(n,e){if(T_(e))return jN(e,n.getFilters());{const t=e.filters.map(i=>iR(n,i));return Vn.create(t,"or")}}function eD(n){if(Ct(n instanceof wn||n instanceof Vn),n instanceof wn)return n;const e=n.getFilters();if(1===e.length)return eD(e[0]);if(UN(n))return n;const t=e.map(r=>eD(r)),i=[];return t.forEach(r=>{r instanceof wn?i.push(r):r instanceof Vn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Vn.create(i,n.op)}class t3{constructor(){this.rn=new rR}addToCollectionParentIndex(e,t){return this.rn.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(qs.min())}updateCollectionGroup(e,t,i){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class rR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new hi(xn.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new hi(xn.comparator)).toArray()}}const tD=new Uint8Array(0);class n3{constructor(e,t){this.user=e,this.databaseId=t,this.on=new rR,this.un=new Pu(i=>Wp(i),(i,r)=>Vb(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:i,parent:go(r)};return ZL(e).put(o)}return de.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[fN(t),""],!1,!0);return ZL(e).j(r).next(o=>{for(const c of o){if(c.collectionId!==t)break;i.push(yc(c.parent))}return i})}addFieldIndex(e,t){const i=nD(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete r.indexId;const o=i.add(r);if(t.indexState){const c=n0(e);return o.next(h=>{c.put(UL(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=nD(e),r=n0(e),o=t0(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=t0(e);let r=!0;const o=new Map;return de.forEach(this.cn(t),c=>this.an(e,c).next(h=>{r&&(r=!!h),o.set(c,h)})).next(()=>{if(r){let c=fn();const h=[];return de.forEach(o,(g,v)=>{var x;je("IndexedDbIndexManager",`Using index ${x=g,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(We=>`${We.fieldPath}:${We.kind}`).join(",")}`} to execute ${Wp(t)}`);const S=function(We,Ke){const At=DM(Ke);if(void 0===At)return null;for(const Nt of $x(We,At.fieldPath))switch(Nt.op){case"array-contains-any":return Nt.value.arrayValue.values||[];case"array-contains":return[Nt.value]}return null}(v,g),B=function(We,Ke){const At=new Map;for(const Nt of $p(Ke))for(const Cn of $x(We,Nt.fieldPath))switch(Cn.op){case"==":case"in":At.set(Nt.fieldPath.canonicalString(),Cn.value);break;case"not-in":case"!=":return At.set(Nt.fieldPath.canonicalString(),Cn.value),Array.from(At.values())}return null}(v,g),j=function(We,Ke){const At=[];let Nt=!0;for(const Cn of $p(Ke)){const Li=0===Cn.kind?qN(We,Cn.fieldPath,We.startAt):WN(We,Cn.fieldPath,We.startAt);At.push(Li.value),Nt&&(Nt=Li.inclusive)}return new Ph(At,Nt)}(v,g),q=function(We,Ke){const At=[];let Nt=!0;for(const Cn of $p(Ke)){const Li=0===Cn.kind?WN(We,Cn.fieldPath,We.endAt):qN(We,Cn.fieldPath,We.endAt);At.push(Li.value),Nt&&(Nt=Li.inclusive)}return new Ph(At,Nt)}(v,g),ne=this.hn(g,v,j),oe=this.hn(g,v,q),Ue=this.ln(g,v,B),Ye=this.fn(g.indexId,S,ne,j.inclusive,oe,q.inclusive,Ue);return de.forEach(Ye,We=>i.H(We,t.limit).next(Ke=>{Ke.forEach(At=>{const Nt=rt.fromSegments(At.documentKey);c.has(Nt)||(c=c.add(Nt),h.push(Nt))})}))}).next(()=>h)}return de.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:e3(Vn.create(e.filters,"and")).map(i=>FM(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,o,c,h){const g=(null!=t?t.length:1)*Math.max(i.length,o.length),v=g/(null!=t?t.length:1),x=[];for(let S=0;S<g;++S){const B=t?this.dn(t[S/v]):tD,j=this.wn(e,B,i[S%v],r),q=this._n(e,B,o[S%v],c),ne=h.map(oe=>this.wn(e,B,oe,!0));x.push(...this.createRange(j,q,ne))}return x}wn(e,t,i,r){const o=new tm(e,rt.empty(),t,i);return r?o:o.Je()}_n(e,t,i,r){const o=new tm(e,rt.empty(),t,i);return r?o.Je():o}an(e,t){const i=new J$(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let c=null;for(const h of o)i.tn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let i=2;const r=this.cn(t);return de.forEach(r,o=>this.an(e,o).next(c=>{c?0!==i&&c.fields.length<function(h){let g=new hi(Yi.comparator),v=!1;for(const x of h.filters)for(const S of x.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:g=g.add(S.field));for(const x of h.orderBy)x.field.isKeyField()||(g=g.add(x.field));return g.size+(v?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new e0;for(const r of $p(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const c=i.He(r.kind);em.Ve._e(o,c)}return i.Qe()}dn(e){const t=new e0;return em.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new e0;return em.Ve._e(qp(this.databaseId,t),i.He(function(r){const o=$p(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new e0);let o=0;for(const c of $p(e)){const h=i[o++];for(const g of r)if(this.yn(t,c.fieldPath)&&Lb(h))r=this.pn(r,c,h);else{const v=g.He(c.kind);em.Ve._e(h,v)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],o=[];for(const c of i.arrayValue.values||[])for(const h of r){const g=new e0;g.seed(h.Qe()),em.Ve._e(c,g.He(t.kind)),o.push(g)}return o}yn(e,t){return!!e.filters.find(i=>i instanceof wn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=nD(e),r=n0(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(o=>{const c=[];return de.forEach(o,h=>r.get([h.indexId,this.uid]).next(g=>{c.push(function(v,x){const S=x?new Rb(x.sequenceNumber,new qs(Xp(x.readTime),new rt(yc(x.documentKey)),x.largestBatchId)):Rb.empty(),B=v.fields.map(([j,q])=>new Px(Yi.fromServerFormat(j),q));return new Ox(v.indexId,v.collectionGroup,B,S)}(h,g))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:nn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=nD(e),o=n0(e);return this.Tn(e).next(c=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>de.forEach(h,g=>o.put(UL(g.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return de.forEach(t,(r,o)=>{const c=i.get(r.collectionGroup);return(c?de.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),de.forEach(h,g=>this.En(e,r,g).next(v=>{const x=this.An(o,g);return v.isEqual(x)?de.resolve():this.vn(e,o,g,v,x)}))))})}Rn(e,t,i,r){return t0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return t0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=t0(e);let o=new hi(Nh);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(c,h)=>{o=o.add(new tm(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}An(e,t){let i=new hi(Nh);const r=this.mn(t,e);if(null==r)return i;const o=DM(t);if(null!=o){const c=e.data.field(o.fieldPath);if(Lb(c))for(const h of c.arrayValue.values||[])i=i.add(new tm(t.indexId,e.key,this.dn(h),r))}else i=i.add(new tm(t.indexId,e.key,tD,r));return i}vn(e,t,i,r,o){je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,g,v,x,S){const B=h.getIterator(),j=g.getIterator();let q=D_(B),ne=D_(j);for(;q||ne;){let oe=!1,Ue=!1;if(q&&ne){const Ye=v(q,ne);Ye<0?Ue=!0:Ye>0&&(oe=!0)}else null!=q?Ue=!0:oe=!0;oe?(x(ne),ne=D_(j)):Ue?(S(q),q=D_(B)):(q=D_(B),ne=D_(j))}}(r,o,Nh,h=>{c.push(this.Rn(e,t,i,h))},h=>{c.push(this.Pn(e,t,i,h))}),de.waitFor(c)}Tn(e){let t=1;return n0(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,h)=>Nh(c,h)).filter((c,h,g)=>!h||0!==Nh(c,g[h-1]));const r=[];r.push(e);for(const c of i){const h=Nh(c,e),g=Nh(c,t);if(0===h)r[0]=e.Je();else if(h>0&&g<0)r.push(c),r.push(c.Je());else if(g>0)break}r.push(t);const o=[];for(let c=0;c<r.length;c+=2){if(this.bn(r[c],r[c+1]))return[];o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,tD,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,tD,[]]))}return o}bn(e,t){return Nh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(YL)}getMinOffset(e,t){return de.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||mt())).next(YL)}}function ZL(n){return Ur(n,"collectionParents")}function t0(n){return Ur(n,"indexEntries")}function nD(n){return Ur(n,"indexConfiguration")}function n0(n){return Ur(n,"indexState")}function YL(n){Ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;IM(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new qs(e.readTime,e.documentKey,t)}const KL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _o{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new _o(e,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function QL(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(t.batchId);let h=0;const g=i.X({range:c},(x,S,B)=>(h++,B.delete()));o.push(g.next(()=>{Ct(1===h)}));const v=[];for(const x of t.mutations){const S=EN(e,x.key.path,t.batchId);o.push(r.delete(S)),v.push(x.key)}return de.waitFor(o).next(()=>v)}function iD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw mt();e=n.noDocument}return JSON.stringify(e).length}_o.DEFAULT_COLLECTION_PERCENTILE=10,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_o.DEFAULT=new _o(41943040,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_o.DISABLED=new _o(-1,0,0);class rD{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){Ct(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new rD(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lh(e).X({index:"userMutationsIndex",range:i},(r,o,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=N_(e),c=Lh(e);return c.add({}).next(h=>{Ct("number"==typeof h);const g=new jM(h,t,i,r),v=function(B,j,q){const ne=q.baseMutations.map(Ue=>Qb(B.fe,Ue)),oe=q.mutations.map(Ue=>Qb(B.fe,Ue));return{userId:j,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:ne,mutations:oe}}(this.serializer,this.userId,g),x=[];let S=new hi((B,j)=>nn(B.canonicalString(),j.canonicalString()));for(const B of r){const j=EN(this.userId,B.key.path,h);S=S.add(B.key.path.popLast()),x.push(c.put(v)),x.push(o.put(j,zz))}return S.forEach(B=>{x.push(this.indexManager.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.Vn[h]=g.keys()}),de.waitFor(x).next(()=>g)})}lookupMutationBatch(e,t){return Lh(e).get(t).next(i=>i?(Ct(i.userId===this.userId),Jp(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?de.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Lh(e).X({index:"userMutationsIndex",range:r},(c,h,g)=>{h.userId===this.userId&&(Ct(h.batchId>=i),o=Jp(this.serializer,h)),g.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Lh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lh(e).j("userMutationsIndex",t).next(i=>i.map(r=>Jp(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Nx(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return N_(e).X({range:r},(c,h,g)=>{const[v,x,S]=c,B=yc(x);if(v===this.userId&&t.path.isEqual(B))return Lh(e).get(S).next(j=>{if(!j)throw mt();Ct(j.userId===this.userId),o.push(Jp(this.serializer,j))});g.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new hi(nn);const r=[];return t.forEach(o=>{const c=Nx(this.userId,o.path),h=IDBKeyRange.lowerBound(c),g=N_(e).X({range:h},(v,x,S)=>{const[B,j,q]=v,ne=yc(j);B===this.userId&&o.path.isEqual(ne)?i=i.add(q):S.done()});r.push(g)}),de.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=Nx(this.userId,i),c=IDBKeyRange.lowerBound(o);let h=new hi(nn);return N_(e).X({range:c},(g,v,x)=>{const[S,B,j]=g,q=yc(B);S===this.userId&&i.isPrefixOf(q)?q.length===r&&(h=h.add(j)):x.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Lh(e).get(o).next(c=>{if(null===c)throw mt();Ct(c.userId===this.userId),i.push(Jp(this.serializer,c))}))}),de.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return QL(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),de.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return N_(e).X({range:i},(o,c,h)=>{if(o[0]===this.userId){const g=yc(o[1]);r.push(g)}else h.done()}).next(()=>{Ct(0===r.length)})})}containsKey(e,t){return XL(e,this.userId,t)}xn(e){return JL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function XL(n,e,t){const i=Nx(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return N_(n).X({range:o,Y:!0},(h,g,v)=>{const[x,S,B]=h;x===e&&S===r&&(c=!0),v.done()}).next(()=>c)}function Lh(n){return Ur(n,"mutations")}function N_(n){return Ur(n,"documentMutations")}function JL(n){return Ur(n,"mutationQueues")}class nm{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new nm(0)}static Mn(){return new nm(-1)}}class r3{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new nm(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>It.fromTimestamp(new Di(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>L_(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(Ct(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return L_(e).X((c,h)=>{const g=Xb(h);g.sequenceNumber<=t&&null===i.get(g.targetId)&&(r++,o.push(this.removeTargetData(e,g)))}).next(()=>de.waitFor(o)).next(()=>r)}forEachTarget(e,t){return L_(e).X((i,r)=>{const o=Xb(r);t(o)})}$n(e){return e2(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}On(e,t){return e2(e).put("targetGlobalKey",t)}Fn(e,t){return L_(e).put(BL(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Wp(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return L_(e).X({range:r,index:"queryTargetsIndex"},(c,h,g)=>{const v=Xb(h);Vb(t,v.target)&&(o=v,g.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Bh(e);return t.forEach(c=>{const h=go(c.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,c))}),de.waitFor(r)}removeMatchingKeys(e,t,i){const r=Bh(e);return de.forEach(t,o=>{const c=go(o.path);return de.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Bh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Bh(e);let o=fn();return r.X({range:i,Y:!0},(c,h,g)=>{const v=yc(c[1]),x=new rt(v);o=o.add(x)}).next(()=>o)}containsKey(e,t){const i=go(t.path),r=IDBKeyRange.bound([i],[fN(i)],!1,!0);let o=0;return Bh(e).X({index:"documentTargetsIndex",Y:!0,range:r},([c,h],g,v)=>{0!==c&&(o++,v.done())}).next(()=>o>0)}le(e,t){return L_(e).get(t).next(i=>i?Xb(i):null)}}function L_(n){return Ur(n,"targets")}function e2(n){return Ur(n,"targetGlobal")}function Bh(n){return Ur(n,"targetDocuments")}function t2([n,e],[t,i]){const r=nn(n,t);return 0===r?nn(e,i):r}class o3{constructor(e){this.Ln=e,this.buffer=new hi(t2),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();t2(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class n2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ce.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Sh(i)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ih(i)}yield t.Qn(3e5)}))}}class s3{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return de.resolve(Ws.ct);const i=new o3(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(KL)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KL):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,o,c,h,g,v;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,c=Date.now(),this.nthSequenceNumber(e,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(e,i,t))).next(S=>(o=S,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(v=Date.now(),CM()<=hc.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-x}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${o} targets in `+(g-h)+`ms\n\tRemoved ${S} documents in `+(v-g)+`ms\nTotal Duration: ${v-x}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:S})))}}class a3{constructor(e,t){this.db=e,this.garbageCollector=function r2(n,e){return new s3(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return oD(e,i)}removeReference(e,t,i){return oD(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return oD(e,t)}Xn(e,t){return function(i,r){let o=!1;return JL(i).Z(c=>XL(i,c,r).next(h=>(h&&(o=!0),de.resolve(!h)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(e,(c,h)=>{if(h<=t){const g=this.Xn(e,c).next(v=>{if(!v)return o++,i.getEntry(e,c).next(()=>(i.removeEntry(c,It.min()),Bh(e).delete([0,go(c.path)])))});r.push(g)}}).next(()=>de.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return oD(e,t)}Yn(e,t){const i=Bh(e);let r,o=Ws.ct;return i.X({index:"documentTargetsIndex"},([c,h],{path:g,sequenceNumber:v})=>{0===c?(o!==Ws.ct&&t(new rt(yc(r)),o),o=v,r=g):o=Ws.ct}).next(()=>{o!==Ws.ct&&t(new rt(yc(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function oD(n,e){return Bh(n).put((i=n.currentSequenceNumber,{targetId:0,path:go(e.path),sequenceNumber:i}));var i}class o2{constructor(){this.changes=new Pu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?de.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class l3{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return im(e).put(i)}removeEntry(e,t,i){return im(e).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Xx(o),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=fi.newInvalidDocument(t);return im(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(r0(t))},(r,o)=>{i=this.ts(t,o)}).next(()=>i)}es(e,t){let i={size:0,document:fi.newInvalidDocument(t)};return im(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(r0(t))},(r,o)=>{i={document:this.ts(t,o),size:iD(o)}}).next(()=>i)}getEntries(e,t){let i=gs();return this.ns(e,t,(r,o)=>{const c=this.ts(r,o);i=i.insert(r,c)}).next(()=>i)}ss(e,t){let i=gs(),r=new ri(rt.comparator);return this.ns(e,t,(o,c)=>{const h=this.ts(o,c);i=i.insert(o,h),r=r.insert(o,iD(c))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return de.resolve();let r=new hi(c2);t.forEach(g=>r=r.add(g));const o=IDBKeyRange.bound(r0(r.first()),r0(r.last())),c=r.getIterator();let h=c.getNext();return im(e).X({index:"documentKeyIndex",range:o},(g,v,x)=>{const S=rt.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&c2(h,S)<0;)i(h,null),h=c.getNext();h&&h.isEqual(S)&&(i(h,v),h=c.hasNext()?c.getNext():null),h?x.G(r0(h)):x.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,c=[o.popLast().toArray(),o.lastSegment(),Xx(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return im(e).j(IDBKeyRange.bound(c,h,!0)).next(g=>{let v=gs();for(const x of g){const S=this.ts(rt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);S.isFoundDocument()&&(Hb(t,S)||r.has(S.key))&&(v=v.insert(S.key,S))}return v})}getAllFromCollectionGroup(e,t,i,r){let o=gs();const c=l2(t,i),h=l2(t,qs.max());return im(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(g,v,x)=>{const S=this.ts(rt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(S.key,S),o.size===r&&x.done()}).next(()=>o)}newChangeBuffer(e){return new c3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return a2(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}Zn(e,t){return a2(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function W$(n,e){let t;if(e.document)t=ML(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=rt.fromSegments(e.noDocument.path),r=Xp(e.noDocument.readTime);t=fi.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return mt();{const i=rt.fromSegments(e.unknownDocument.path),r=Xp(e.unknownDocument.version);t=fi.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Di(i[0],i[1]);return It.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(It.min()))return i}return fi.newInvalidDocument(e)}}function s2(n){return new l3(n)}class c3 extends o2{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Pu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new hi((o,c)=>nn(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const h=this.us.get(o);if(t.push(this.os.removeEntry(e,o,h.readTime)),c.isValidDocument()){const g=LL(this.os.serializer,c);r=r.add(o.path.popLast());const v=iD(g);i+=v-h.size,t.push(this.os.addEntry(e,o,g))}else if(i-=h.size,this.trackRemovals){const g=LL(this.os.serializer,c.convertToNoDocument(It.min()));t.push(this.os.addEntry(e,o,g))}}),r.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,i)),de.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((o,c)=>{this.us.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function a2(n){return Ur(n,"remoteDocumentGlobal")}function im(n){return Ur(n,"remoteDocumentsV14")}function r0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function l2(n,e){const t=e.documentKey.path.toArray();return[n,Xx(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function c2(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=nn(t[o],i[o]),r)return r;return r=nn(t.length,i.length),r||(r=nn(t[t.length-2],i[i.length-2]),r||nn(t[t.length-1],i[i.length-1]))}class u3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class u2{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Gb(i.mutation,r,ms.empty(),Di.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,fn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=fn()){const r=bc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let c=jb();return o.forEach((h,g)=>{c=c.insert(h,g.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=bc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,fn()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,r){let o=gs();const c=zb(),h=zb();return t.forEach((g,v)=>{const x=i.get(v.key);r.has(v.key)&&(void 0===x||x.mutation instanceof Fu)?o=o.insert(v.key,v):void 0!==x?(c.set(v.key,x.mutation.getFieldMask()),Gb(x.mutation,v,x.mutation.getFieldMask(),Di.now())):c.set(v.key,ms.empty())}),this.recalculateAndSaveOverlays(e,o).next(g=>(g.forEach((v,x)=>c.set(v,x)),t.forEach((v,x)=>{var S;return h.set(v,new u3(x,null!==(S=c.get(v))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(e,t){const i=zb();let r=new ri((c,h)=>c-h),o=fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(g=>{const v=t.get(g);if(null===v)return;let x=i.get(g)||ms.empty();x=h.applyToLocalView(v,x),i.set(g,x);const S=(r.get(h.batchId)||fn()).add(g);r=r.insert(h.batchId,S)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),v=g.key,x=g.value,S=tL();x.forEach(B=>{if(!o.has(B)){const j=uL(t.get(B),i.get(B));null!==j&&S.set(B,j),o=o.add(B)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,S))}return de.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return rt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):LM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):de.resolve(bc());let h=-1,g=o;return c.next(v=>de.forEach(v,(x,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),o.get(x)?de.resolve():this.remoteDocumentCache.getEntry(e,x).next(B=>{g=g.insert(x,B)}))).next(()=>this.populateOverlays(e,v,o)).next(()=>this.computeViews(e,g,v,fn())).next(x=>({batchId:h,changes:eL(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next(i=>{let r=jb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=jb();return this.indexManager.getCollectionParents(e,r).next(c=>de.forEach(c,h=>{const g=(v=t,x=h.child(r),new Ou(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,x;return this.getDocumentsMatchingCollectionQuery(e,g,i).next(v=>{v.forEach((x,S)=>{o=o.insert(x,S)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((h,g)=>{const v=g.getKey();null===o.get(v)&&(o=o.insert(v,fi.newInvalidDocument(v)))});let c=jb();return o.forEach((h,g)=>{const v=r.get(h);void 0!==v&&Gb(v.mutation,g,ms.empty(),Di.now()),Hb(t,g)&&(c=c.insert(h,g))}),c})}}class d3{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return de.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:cr(i.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:XM(i.bundledQuery),readTime:cr(i.readTime)}),de.resolve();var i}}class h3{constructor(){this.overlays=new ri(rt.comparator),this.ls=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const i=bc();return de.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.we(e,t,o)}),de.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),de.resolve()}getOverlaysForCollection(e,t,i){const r=bc(),o=t.length+1,c=new rt(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const g=h.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===o&&g.largestBatchId>i&&r.set(g.getKey(),g)}return de.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new ri((v,x)=>v-x);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let x=o.get(v.largestBatchId);null===x&&(x=bc(),o=o.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const h=bc(),g=o.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,x)=>h.set(v,x)),!(h.size()>=r)););return de.resolve(h)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new $M(t,i));let o=this.ls.get(t);void 0===o&&(o=fn(),this.ls.set(t,o)),this.ls.set(t,o.add(i.key))}}class oR{constructor(){this.fs=new hi(Hr.ds),this.ws=new hi(Hr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Hr(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Hr(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new rt(new xn([])),i=new Hr(t,e),r=new Hr(t,e+1),o=[];return this.ws.forEachInRange([i,r],c=>{this.ys(c),o.push(c.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new rt(new xn([])),i=new Hr(t,e),r=new Hr(t,e+1);let o=fn();return this.ws.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new Hr(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Hr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return rt.comparator(e.key,t.key)||nn(e.As,t.As)}static _s(e,t){return nn(e.As,t.As)||rt.comparator(e.key,t.key)}}class f3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new hi(Hr.ds)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.vs;this.vs++;const c=new jM(o,t,i,r);this.mutationQueue.push(c);for(const h of r)this.Rs=this.Rs.add(new Hr(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,t){return de.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),o=r<0?0:r;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Hr(t,0),r=new Hr(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],c=>{const h=this.Ps(c.As);o.push(h)}),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new hi(nn);return t.forEach(r=>{const o=new Hr(r,0),c=new Hr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,c],h=>{i=i.add(h.As)})}),de.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;rt.isDocumentKey(o)||(o=o.child(""));const c=new Hr(new rt(o),0);let h=new hi(nn);return this.Rs.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(g.As)),!0)},c),de.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ct(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return de.forEach(t.mutations,r=>{const o=new Hr(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Hr(t,0),r=this.Rs.firstAfterOrEqual(i);return de.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return de.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class p3{constructor(e){this.Ds=e,this.docs=new ri(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,c=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return de.resolve(i?i.document.mutableCopy():fi.newInvalidDocument(t))}getEntries(e,t){let i=gs();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():fi.newInvalidDocument(r))}),de.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=gs();const c=t.path,h=new rt(c.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:v,value:{document:x}}=g.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||IM(mN(x),i)<=0||(r.has(x.key)||Hb(t,x))&&(o=o.insert(x.key,x.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,t,i,r){mt()}Cs(e,t){return de.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new m3(this)}getSize(e){return de.resolve(this.size)}}class m3 extends o2{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),de.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class g3{constructor(e){this.persistence=e,this.xs=new Pu(t=>Wp(t),Vb),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Ns=0,this.ks=new oR,this.targetCount=0,this.Ms=nm.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),de.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new nm(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Fn(t),de.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.xs.forEach((c,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.xs.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),de.waitFor(o).next(()=>r)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return de.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),de.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(c=>{o.push(r.markPotentiallyOrphaned(e,c))}),de.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),de.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return de.resolve(i)}containsKey(e,t){return de.resolve(this.ks.containsKey(t))}}class sR{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ws(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new g3(this),this.indexManager=new t3,this.remoteDocumentCache=new p3(i=>this.referenceDelegate.Ls(i)),this.serializer=new NL(t),this.qs=new d3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new h3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new f3(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){je("MemoryPersistence","Starting transaction:",e);const r=new _3(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,t){return de.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class _3 extends _N{constructor(e){super(),this.currentSequenceNumber=e}}class sD{constructor(e){this.persistence=e,this.Qs=new oR,this.js=null}static zs(e){return new sD(e)}get Ws(){if(this.js)return this.js;throw mt()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),de.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),de.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Ws,i=>{const r=rt.fromPath(i);return this.Hs(e,r).next(o=>{o||t.removeEntry(r,It.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return de.or([()=>de.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class y3{constructor(e){this.serializer=e}O(e,t,i,r){const o=new Fx("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wN,{unique:!0}),h.createObjectStore("documentMutations"),d2(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=de.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),d2(e)),c=c.next(()=>function(h){const g=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,g){return g.store("mutations").j().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wN,{unique:!0});const x=g.store("mutations"),S=v.map(B=>x.put(B));return de.waitFor(S)})}(e,o))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Ys(o))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),i<7&&r>=7&&(c=c.next(()=>this.Zs(o))),i<8&&r>=8&&(c=c.next(()=>this.ti(e,o))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.ei(o))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:t$});g.createIndex("collectionPathOverlayIndex",n$,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",i$,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:$z});g.createIndex("documentKeyIndex",Gz),g.createIndex("collectionGroupIndex",qz)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.si(e,o))),i<15&&r>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Qz}).createIndex("sequenceNumberIndex",Xz,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:Jz}).createIndex("documentKeyIndex",e$,{unique:!1})}(e))),c}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=iD(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>de.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",c).next(h=>de.forEach(h,g=>{Ct(g.userId===o.userId);const v=Jp(this.serializer,g);return QL(e,o.userId,v).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((c,h)=>{const g=new xn(c),v=[0,go(g)];o.push(t.get(v).next(x=>x?de.resolve():t.put({targetId:0,path:go(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>de.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Kz});const i=t.store("collectionParents"),r=new rR,o=c=>{if(r.add(c)){const h=c.lastSegment(),g=c.popLast();return i.put({collectionId:h,parent:go(g)})}};return t.store("remoteDocuments").X({Y:!0},(c,h)=>{const g=new xn(c);return o(g.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,h,g],v)=>{const x=yc(h);return o(x.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const o=Xb(r),c=BL(this.serializer,o);return t.put(c)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((o,c)=>{const h=t.store("remoteDocumentsV14"),g=(v=c,v.document?new rt(xn.fromString(v.document.name).popFirst(5)):v.noDocument?rt.fromSegments(v.noDocument.path):v.unknownDocument?rt.fromSegments(v.unknownDocument.path):mt()).path.toArray();var v;const x={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(x))}).next(()=>de.waitFor(r))}si(e,t){const i=t.store("mutations"),r=s2(this.serializer),o=new sR(sD.zs,this.serializer.fe);return i.j().next(c=>{const h=new Map;return c.forEach(g=>{var v;let x=null!==(v=h.get(g.userId))&&void 0!==v?v:fn();Jp(this.serializer,g).keys().forEach(S=>x=x.add(S)),h.set(g.userId,x)}),de.forEach(h,(g,v)=>{const x=new Vr(v),S=Jx.de(this.serializer,x),B=o.getIndexManager(x),j=rD.de(x,this.serializer,B,o.referenceDelegate);return new u2(r,j,S,B).recalculateAndSaveOverlaysForDocumentKeys(new AM(t,Ws.ct),g).next()})})}}function d2(n){n.createObjectStore("targetDocuments",{keyPath:Zz}).createIndex("documentTargetsIndex",Yz,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Wz,{unique:!0}),n.createObjectStore("targetGlobal")}const aR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class lR{constructor(e,t,i,r,o,c,h,g,v,x,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=o,this.window=c,this.document=h,this.ri=v,this.oi=x,this.ui=S,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=B=>Promise.resolve(),!lR.D())throw new Oe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new a3(this,r),this.di=t+"main",this.serializer=new NL(g),this.wi=new wl(this.di,this.ui,new y3(this.serializer)),this.Bs=new r3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=s2(this.serializer),this.qs=new Z$,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===x&&lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,aR);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ws(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,Ce.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Ce.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ce.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>lD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Sh(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return o0(e).get("owner").next(t=>de.resolve(this.Ri(t)))}Pi(e){return lD(e).delete(this.clientId)}bi(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ur(i,"clientMetadata");return r.j().next(o=>{const c=e.Si(o,18e5),h=o.filter(g=>-1===c.indexOf(g));return de.forEach(h,g=>r.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?de.resolve(!0):o0(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,aR);return!1}}return!(!this.networkEnabled||!this.inForeground)||lD(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new AM(t,Ws.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>lD(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return rD.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new n3(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Jx.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){je("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(c=this.ui)?o$:14===c?DN:13===c?xN:12===c?r$:11===c?CN:void mt();var c;let h;return this.wi.runTransaction(e,r,o,g=>(h=new AM(g,this.Os?this.Os.next():Ws.ct),"readwrite-primary"===t?this.Ti(h).next(v=>!!v||this.Ei(h)).next(v=>{if(!v)throw lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Oe(me.FAILED_PRECONDITION,gN);return i(h)}).next(v=>this.vi(h).next(()=>v)):this.Oi(h).next(()=>i(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Oi(e){return o0(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(me.FAILED_PRECONDITION,aR)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return o0(e).put("owner",t)}static D(){return wl.D()}Ai(e){const t=o0(e);return t.get("owner").next(i=>this.Ri(i)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(lr(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,$t.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return je("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return lr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){lr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function o0(n){return Ur(n,"owner")}function lD(n){return Ur(n,"clientMetadata")}function cR(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class uR{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=fn(),r=fn();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new uR(e,t.fromCache,i,r)}}class h2{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(o=>o||this.Gi(e,t,r,i)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(YN(t))return de.resolve(null);let i=Ho(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=qx(t,null,"F"),i=Ho(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const c=fn(...o);return this.Ui.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(g=>{const v=this.ji(t,h);return this.zi(t,v,c,g.readTime)?this.Ki(e,qx(t,null,"F")):this.Wi(e,v,t,g)}))})))}Gi(e,t,i,r){return YN(t)||r.isEqual(It.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(o=>{const c=this.ji(t,o);return this.zi(t,c,i,r)?this.Qi(e,t):(CM()<=hc.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),VM(t)),this.Wi(e,c,t,pN(r,-1)))})}ji(e,t){let i=new hi(XN(e));return t.forEach((r,o)=>{Hb(e,o)&&(i=i.add(o))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,t){return CM()<=hc.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",VM(t)),this.Ui.getDocumentsMatchingQuery(e,t,qs.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}class v3{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new ri(nn),this.Yi=new Pu(o=>Wp(o),Vb),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u2(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function f2(n,e,t,i){return new v3(n,e,t,i)}function p2(n,e){return dR.apply(this,arguments)}function dR(){return dR=(0,Ce.Z)(function*(n,e){const t=lt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let g=fn();for(const v of r){c.push(v.batchId);for(const x of v.mutations)g=g.add(x.key)}for(const v of o){h.push(v.batchId);for(const x of v.mutations)g=g.add(x.key)}return t.localDocuments.getDocuments(i,g).next(v=>({er:v,removedBatchIds:c,addedBatchIds:h}))})})}),dR.apply(this,arguments)}function m2(n){const e=lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function g2(n,e,t){let i=fn(),r=fn();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let c=gs();return t.forEach((h,g)=>{const v=o.get(h);g.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),g.isNoDocument()&&g.version.isEqual(It.min())?(e.removeEntry(h,g.readTime),c=c.insert(h,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),c=c.insert(h,g)):je("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",g.version)}),{nr:c,sr:r}})}function E3(n,e){const t=lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function B_(n,e){const t=lt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(o=>o?(r=o,de.resolve(r)):t.Bs.allocateTargetId(i).next(c=>(r=new Nu(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function V_(n,e,t){return hR.apply(this,arguments)}function hR(){return hR=(0,Ce.Z)(function*(n,e,t){const i=lt(n),r=i.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Sh(c))throw c;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),hR.apply(this,arguments)}function cD(n,e,t){const i=lt(n);let r=It.min(),o=fn();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,g,v){const x=lt(h),S=x.Yi.get(v);return void 0!==S?de.resolve(x.Ji.get(S)):x.Bs.getTargetData(g,v)}(i,c,Ho(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(c,h.targetId).next(g=>{o=g})}).next(()=>i.Hi.getDocumentsMatchingQuery(c,e,t?r:It.min(),t?o:fn())).next(h=>(v2(i,QN(e),h),{documents:h,ir:o})))}function _2(n,e){const t=lt(n),i=lt(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i.le(o,e).next(c=>c?c.target:null))}function y2(n,e){const t=lt(n),i=t.Xi.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,pN(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(v2(t,e,r),r))}function v2(n,e,t){let i=n.Xi.get(e)||It.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(e,i)}function fR(){return fR=(0,Ce.Z)(function*(n,e,t,i){const r=lt(n);let o=fn(),c=gs();for(const v of t){const x=e.rr(v.metadata.name);v.document&&(o=o.add(x));const S=e.ur(v);S.setReadTime(e.cr(v.metadata.readTime)),c=c.insert(x,S)}const h=r.Zi.newChangeBuffer({trackRemovals:!0}),g=yield B_(r,(v=i,Ho(A_(xn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>g2(v,h,c).next(x=>(h.apply(v),x)).next(x=>r.Bs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>r.Bs.addMatchingKeys(v,o,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,x.nr,x.sr)).next(()=>x.nr)))}),fR.apply(this,arguments)}function x3(n,e){return pR.apply(this,arguments)}function pR(){return pR=(0,Ce.Z)(function*(n,e,t=fn()){const i=yield B_(n,Ho(XM(e.bundledQuery))),r=lt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=cr(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.qs.saveNamedQuery(o,e);const h=i.withResumeToken(Ar.EMPTY_BYTE_STRING,c);return r.Ji=r.Ji.insert(h.targetId,h),r.Bs.updateTargetData(o,h).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,t,i.targetId)).next(()=>r.qs.saveNamedQuery(o,e))})}),pR.apply(this,arguments)}function b2(n,e){return`firestore_clients_${n}_${e}`}function w2(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function mR(n,e){return`firestore_targets_${n}_${e}`}class uD{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Oe(r.error.code,r.error.message))),c?new uD(e,t,r.state,o):(lr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class s0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Oe(i.error.code,i.error.message))),o?new s0(e,i.state,r):(lr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=UM();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=vN(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new dD(e,o):(lr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class gR{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gR(t.clientId,t.onlineState):(lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _R{constructor(){this.activeTargetIds=UM()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yR{constructor(e,t,i,r,o){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ri(nn),this.started=!1,this.yr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=b2(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new _R),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const o=e.getItem(b2(e.persistenceKey,r));if(o){const c=dD.ar(r,o);c&&(e.gr=e.gr.insert(c.clientId,c))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(mR(this.persistenceKey,e));if(i){const r=s0.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mR(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(je("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ce.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(o){let c=Ws.ct;if(null!=o)try{const h=JSON.parse(o);Ct("number"==typeof h),c=h}catch(h){lr("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==Ws.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Qr(o)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new uD(this.currentUser,e,t,i),o=w2(this.persistenceKey,this.currentUser,e);this.setItem(o,r.hr())}Cr(e){const t=w2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=mR(this.persistenceKey,e),o=new s0(e,t,i);this.setItem(r,o.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return dD.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return uD.ar(new Vr(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return s0.ar(r,t)}br(e){return gR.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),o=this.Sr(i),c=[],h=[];return o.forEach(g=>{r.has(g)||c.push(g)}),r.forEach(g=>{o.has(g)||h.push(g)}),this.syncEngine.Wr(c,h).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=UM();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class E2{constructor(){this.Hr=new _R,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new _R,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class D3{Yr(e){}shutdown(){}}class C2{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hD=null;function vR(){return null===hD?hD=268435456+Math.round(2147483648*Math.random()):hD++,"0x"+hD.toString(16)}const I3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S3{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const yo="WebChannelConnection";class T3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,o){const c=vR(),h=this.To(e,t);je("RestConnection",`Sending RPC '${e}' ${c}:`,h,i);const g={};return this.Eo(g,r,o),this.Ao(e,h,g,i).then(v=>(je("RestConnection",`Received RPC '${e}' ${c}: `,v),v),v=>{throw Ra("RestConnection",`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",i),v})}vo(e,t,i,r,o,c){return this.Io(e,t,i,r,o)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+C_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,t){return`${this.mo}/v1/${t}:${I3[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const o=vR();return new Promise((c,h)=>{const g=new xz;g.setWithCredentials(!0),g.listenOnce(wz.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case EM.NO_ERROR:const x=g.getResponseJson();je(yo,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(x)),c(x);break;case EM.TIMEOUT:je(yo,`RPC '${e}' ${o} timed out`),h(new Oe(me.DEADLINE_EXCEEDED,"Request time out"));break;case EM.HTTP_ERROR:const S=g.getStatus();if(je(yo,`RPC '${e}' ${o} failed with status:`,S,"response text:",g.getResponseText()),S>0){let B=g.getResponseJson();Array.isArray(B)&&(B=B[0]);const j=B?.error;if(j&&j.status&&j.message){const q=function(ne){const oe=ne.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(oe)>=0?oe:me.UNKNOWN}(j.status);h(new Oe(q,j.message))}else h(new Oe(me.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new Oe(me.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{je(yo,`RPC '${e}' ${o} completed.`)}});const v=JSON.stringify(r);je(yo,`RPC '${e}' ${o} sending request:`,r),g.send(t,"POST",v,i,15)})}Ro(e,t,i){const r=vR(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=vz(),h=bz(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.xmlHttpFactory=new Cz({})),this.Eo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const x=o.join("");je(yo,`Creating RPC '${e}' stream ${r}: ${x}`,g);const S=c.createWebChannel(x,g);let B=!1,j=!1;const q=new S3({ro:oe=>{j?je(yo,`Not sending because RPC '${e}' stream ${r} is closed:`,oe):(B||(je(yo,`Opening RPC '${e}' stream ${r} transport.`),S.open(),B=!0),je(yo,`RPC '${e}' stream ${r} sending:`,oe),S.send(oe))},oo:()=>S.close()}),ne=(oe,Ue,Ye)=>{oe.listen(Ue,We=>{try{Ye(We)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return ne(S,kx.EventType.OPEN,()=>{j||je(yo,`RPC '${e}' stream ${r} transport opened.`)}),ne(S,kx.EventType.CLOSE,()=>{j||(j=!0,je(yo,`RPC '${e}' stream ${r} transport closed`),q.wo())}),ne(S,kx.EventType.ERROR,oe=>{j||(j=!0,Ra(yo,`RPC '${e}' stream ${r} transport errored:`,oe),q.wo(new Oe(me.UNAVAILABLE,"The operation could not be completed")))}),ne(S,kx.EventType.MESSAGE,oe=>{var Ue;if(!j){const Ye=oe.data[0];Ct(!!Ye);const Ke=Ye.error||(null===(Ue=Ye[0])||void 0===Ue?void 0:Ue.error);if(Ke){je(yo,`RPC '${e}' stream ${r} received error:`,Ke);const At=Ke.status;let Nt=function(Li){const wo=gr[Li];if(void 0!==wo)return gL(wo)}(At),Cn=Ke.message;void 0===Nt&&(Nt=me.INTERNAL,Cn="Unknown error status: "+At+" with message "+Ke.message),j=!0,q.wo(new Oe(Nt,Cn)),S.close()}else je(yo,`RPC '${e}' stream ${r} received:`,Ye),q._o(Ye)}}),ne(h,Ez.STAT_EVENT,oe=>{oe.stat===lN.PROXY?je(yo,`RPC '${e}' stream ${r} detected buffering proxy`):oe.stat===lN.NOPROXY&&je(yo,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{q.fo()},0),q}}function x2(){return typeof window<"u"?window:null}function fD(){return typeof document<"u"?document:null}function a0(n){return new L$(n,!0)}class bR{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&je("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class D2{constructor(e,t,i,r,o,c,h,g){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new bR(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ce.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ce.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,Ce.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Oe(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,Ce.Z)(function*(){e.state=0,e.start()}))}tu(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A3 extends D2{constructor(e,t,i,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function U$(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:mt(),r=e.targetChange.targetIds||[],o=function(g,v){return g.useProto3Json?(Ct(void 0===v||"string"==typeof v),Ar.fromBase64String(v||"")):(Ct(void 0===v||v instanceof Uint8Array),Ar.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(g){const v=void 0===g.code?me.UNKNOWN:gL(g.code);return new Oe(v,g.message||"")}(c);t=new wL(i,r,o,h||null)}else if("documentChange"in e){const i=e.documentChange,r=wc(n,i.document.name),o=cr(i.document.updateTime),c=i.document.createTime?cr(i.document.createTime):It.min(),h=new Qr({mapValue:{fields:i.document.fields}}),g=fi.newFoundDocument(r,o,c,h);t=new Qx(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const i=e.documentDelete,r=wc(n,i.document),o=i.readTime?cr(i.readTime):It.min(),c=fi.newNoDocument(r,o);t=new Qx([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=wc(n,i.document);t=new Qx([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return mt();{const i=e.filter,{count:r=0,unchangedNames:o}=i,c=new R$(r,o);t=new bL(i.targetId,c)}}var g;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return It.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?It.min():o.readTime?cr(o.readTime):It.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Kb(this.serializer),t.addTarget=function(r,o){let c;const h=o.target;if(c=zx(h)?{documents:RL(r,h)}:{query:QM(r,h)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=DL(r,o.resumeToken);const g=WM(r,o.expectedCount);null!==g&&(c.expectedCount=g)}else if(o.snapshotVersion.compareTo(It.min())>0){c.readTime=P_(r,o.snapshotVersion.toTimestamp());const g=WM(r,o.expectedCount);null!==g&&(c.expectedCount=g)}return c}(this.serializer,e);const i=function j$(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Kb(this.serializer),t.removeTarget=e,this.Wo(t)}}class M3 extends D2{constructor(e,t,i,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function H$(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(i,r){let o=cr(i.updateTime?i.updateTime:r);return o.isEqual(It.min())&&(o=cr(r)),new S$(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=cr(e.commitTime);return this.listener.cu(i,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Kb(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Qb(this.serializer,i))};this.Wo(t)}}class R3 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(me.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.vo(e,t,i,o,c,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(me.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class O3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(lr(t),this.mu=!1):je("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class P3{constructor(e,t,i,r,o){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(h=>{i.enqueueAndForget((0,Ce.Z)(function*(){var g;Vh(c)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Ce.Z)(function*(v){const x=lt(v);x.vu.add(4),yield U_(x),x.bu.set("Unknown"),x.vu.delete(4),yield l0(x)}),function(v){return g.apply(this,arguments)})(c))}))}),this.bu=new O3(i,r)}}function l0(n){return ER.apply(this,arguments)}function ER(){return ER=(0,Ce.Z)(function*(n){if(Vh(n))for(const e of n.Ru)yield e(!0)}),ER.apply(this,arguments)}function U_(n){return CR.apply(this,arguments)}function CR(){return CR=(0,Ce.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),CR.apply(this,arguments)}function pD(n,e){const t=lt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),IR(t)?DR(t):j_(t).Ko()&&xR(t,e))}function c0(n,e){const t=lt(n),i=j_(t);t.Au.delete(e),i.Ko()&&I2(t,e),0===t.Au.size&&(i.Ko()?i.jo():Vh(t)&&t.bu.set("Unknown"))}function xR(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}j_(n).su(e)}function I2(n,e){n.Vu.qt(e),j_(n).iu(e)}function DR(n){n.Vu=new O$({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),j_(n).start(),n.bu.gu()}function IR(n){return Vh(n)&&!j_(n).Uo()&&n.Au.size>0}function Vh(n){return 0===lt(n).vu.size}function S2(n){n.Vu=void 0}function F3(n){return SR.apply(this,arguments)}function SR(){return SR=(0,Ce.Z)(function*(n){n.Au.forEach((e,t)=>{xR(n,e)})}),SR.apply(this,arguments)}function N3(n,e){return TR.apply(this,arguments)}function TR(){return TR=(0,Ce.Z)(function*(n,e){S2(n),IR(n)?(n.bu.Iu(e),DR(n)):n.bu.set("Unknown")}),TR.apply(this,arguments)}function L3(n,e,t){return AR.apply(this,arguments)}function AR(){return AR=(0,Ce.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof wL&&2===e.state&&e.cause)try{yield(i=(0,Ce.Z)(function*(r,o){const c=o.cause;for(const h of o.targetIds)r.Au.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r.Au.delete(h),r.Vu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield mD(n,i)}else if(e instanceof Qx?n.Vu.Ht(e):e instanceof bL?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(It.min()))try{const i=yield m2(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const c=r.Vu.ce(o);return c.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const v=r.Au.get(g);v&&r.Au.set(g,v.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach((h,g)=>{const v=r.Au.get(h);if(!v)return;r.Au.set(h,v.withResumeToken(Ar.EMPTY_BYTE_STRING,v.snapshotVersion)),I2(r,h);const x=new Nu(v.target,h,g,v.sequenceNumber);xR(r,x)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){je("RemoteStore","Failed to raise snapshot:",i),yield mD(n,i)}var i}),AR.apply(this,arguments)}function mD(n,e,t){return MR.apply(this,arguments)}function MR(){return MR=(0,Ce.Z)(function*(n,e,t){if(!Sh(e))throw e;n.vu.add(1),yield U_(n),n.bu.set("Offline"),t||(t=()=>m2(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield l0(n)}))}),MR.apply(this,arguments)}function T2(n,e){return e().catch(t=>mD(n,t,e))}function H_(n){return RR.apply(this,arguments)}function RR(){return RR=(0,Ce.Z)(function*(n){const e=lt(n),t=Uh(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;B3(e);)try{const r=yield E3(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,V3(e,r)}catch(r){yield mD(e,r)}A2(e)&&M2(e)}),RR.apply(this,arguments)}function B3(n){return Vh(n)&&n.Eu.length<10}function V3(n,e){n.Eu.push(e);const t=Uh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function A2(n){return Vh(n)&&!Uh(n).Uo()&&n.Eu.length>0}function M2(n){Uh(n).start()}function U3(n){return kR.apply(this,arguments)}function kR(){return kR=(0,Ce.Z)(function*(n){Uh(n).hu()}),kR.apply(this,arguments)}function H3(n){return OR.apply(this,arguments)}function OR(){return OR=(0,Ce.Z)(function*(n){const e=Uh(n);for(const t of n.Eu)e.uu(t.mutations)}),OR.apply(this,arguments)}function j3(n,e,t){return PR.apply(this,arguments)}function PR(){return PR=(0,Ce.Z)(function*(n,e,t){const i=n.Eu.shift(),r=zM.from(i,e,t);yield T2(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield H_(n)}),PR.apply(this,arguments)}function z3(n,e){return FR.apply(this,arguments)}function FR(){return FR=(0,Ce.Z)(function*(n,e){var t;e&&Uh(n).ou&&(yield(t=(0,Ce.Z)(function*(i,r){if(mL(o=r.code)&&o!==me.ABORTED){const c=i.Eu.shift();Uh(i).Qo(),yield T2(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield H_(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),A2(n)&&M2(n)}),FR.apply(this,arguments)}function R2(n,e){return NR.apply(this,arguments)}function NR(){return NR=(0,Ce.Z)(function*(n,e){const t=lt(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const i=Vh(t);t.vu.add(3),yield U_(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield l0(t)}),NR.apply(this,arguments)}function LR(n,e){return BR.apply(this,arguments)}function BR(){return BR=(0,Ce.Z)(function*(n,e){const t=lt(n);e?(t.vu.delete(2),yield l0(t)):e||(t.vu.add(2),yield U_(t),t.bu.set("Unknown"))}),BR.apply(this,arguments)}function j_(n){return n.Su||(n.Su=function(e,t,i){const r=lt(e);return r.fu(),new A3(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:F3.bind(null,n),ao:N3.bind(null,n),nu:L3.bind(null,n)}),n.Ru.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Su.Qo(),IR(n)?DR(n):n.bu.set("Unknown")):(yield n.Su.stop(),S2(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Uh(n){return n.Du||(n.Du=function(e,t,i){const r=lt(e);return r.fu(),new M3(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:U3.bind(null,n),ao:z3.bind(null,n),au:H3.bind(null,n),cu:j3.bind(null,n)}),n.Ru.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Du.Qo(),yield H_(n)):(yield n.Du.stop(),n.Eu.length>0&&(je("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class VR{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,o){const c=Date.now()+i,h=new VR(e,t,c,r,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function z_(n,e){if(lr("AsyncQueue",`${e}: ${n}`),Sh(n))return new Oe(me.UNAVAILABLE,`${e}: ${n}`);throw n}class $_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||rt.comparator(t.key,i.key):(t,i)=>rt.comparator(t.key,i.key),this.keyedMap=jb(),this.sortedSet=new ri(this.comparator)}static emptySet(e){return new $_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new $_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class k2{constructor(){this.Cu=new ri(rt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):mt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class G_{constructor(e,t,i,r,o,c,h,g,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,r,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new G_(e,t,$_.emptySet(t),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ub(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class $3{constructor(){this.Nu=void 0,this.listeners=[]}}class G3{constructor(){this.queries=new Pu(e=>KN(e),Ub),this.onlineState="Unknown",this.ku=new Set}}function UR(n,e){return HR.apply(this,arguments)}function HR(){return HR=(0,Ce.Z)(function*(n,e){const t=lt(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new $3),r)try{o.Nu=yield t.onListen(i)}catch(c){const h=z_(c,`Initialization of query '${VM(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&$R(t)}),HR.apply(this,arguments)}function jR(n,e){return zR.apply(this,arguments)}function zR(){return zR=(0,Ce.Z)(function*(n,e){const t=lt(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),zR.apply(this,arguments)}function q3(n,e){const t=lt(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const h of c.listeners)h.$u(r)&&(i=!0);c.Nu=r}}i&&$R(t)}function W3(n,e,t){const i=lt(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function $R(n){n.ku.forEach(e=>{e.next()})}class GR{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new G_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=G_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Z3{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class O2{constructor(e){this.serializer=e}rr(e){return wc(this.serializer,e)}ur(e){return e.metadata.exists?ML(this.serializer,e.document,!1):fi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return cr(e)}}class Y3{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=P2(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=xn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new O2(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const c of r.metadata.queries){const h=(t.get(c)||fn()).add(o);t.set(c,h)}}return t}complete(){var e=this;return(0,Ce.Z)(function*(){const t=yield function C3(n,e,t,i){return fR.apply(this,arguments)}(e.localStore,new O2(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield x3(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function P2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class F2{constructor(e){this.key=e}}class N2{constructor(e){this.key=e}}class L2{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=fn(),this.mutatedKeys=fn(),this.tc=XN(e),this.ec=new $_(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new k2,r=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((x,S)=>{const B=r.get(x),j=Hb(this.query,S)?S:null,q=!!B&&this.mutatedKeys.has(B.key),ne=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let oe=!1;B&&j?B.data.isEqual(j.data)?q!==ne&&(i.track({type:3,doc:j}),oe=!0):this.rc(B,j)||(i.track({type:2,doc:j}),oe=!0,(g&&this.tc(j,g)>0||v&&this.tc(j,v)<0)&&(h=!0)):!B&&j?(i.track({type:0,doc:j}),oe=!0):B&&!j&&(i.track({type:1,doc:B}),oe=!0,(g||v)&&(h=!0)),oe&&(j?(c=c.add(j),o=ne?o.add(x):o.delete(x)):(c=c.delete(x),o=o.delete(x)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const x="F"===this.query.limitType?c.last():c.first();c=c.delete(x.key),o=o.delete(x.key),i.track({type:1,doc:x})}return{ec:c,ic:i,zi:h,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((v,x)=>function(S,B){const j=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return j(S)-j(B)}(v.type,x.type)||this.tc(v.doc,x.doc)),this.oc(i);const c=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,g=h!==this.Xu;return this.Xu=h,0!==o.length||g?{snapshot:new G_(this.query,e.ec,r,o,e.mutatedKeys,0===h,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new k2,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=fn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new N2(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new F2(i))}),t}hc(e){this.Yu=e.ir,this.Zu=fn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return G_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class K3{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Q3{constructor(e){this.key=e,this.fc=!1}}class X3{constructor(e,t,i,r,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Pu(h=>KN(h),Ub),this._c=new Map,this.mc=new Set,this.gc=new ri(rt.comparator),this.yc=new Map,this.Ic=new oR,this.Tc={},this.Ec=new Map,this.Ac=nm.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function J3(n,e){return qR.apply(this,arguments)}function qR(){return qR=(0,Ce.Z)(function*(n,e){const t=mk(n);let i,r;const o=t.wc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const c=yield B_(t.localStore,Ho(e)),h=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield WR(t,e,i,"current"===h,c.resumeToken),t.isPrimaryClient&&pD(t.remoteStore,c)}return r}),qR.apply(this,arguments)}function WR(n,e,t,i,r){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,Ce.Z)(function*(n,e,t,i,r){n.Rc=(S,B,j)=>{return(q=(0,Ce.Z)(function*(ne,oe,Ue,Ye){let We=oe.view.sc(Ue);We.zi&&(We=yield cD(ne.localStore,oe.query,!1).then(({documents:Nt})=>oe.view.sc(Nt,We)));const Ke=Ye&&Ye.targetChanges.get(oe.targetId),At=oe.view.applyChanges(We,ne.isPrimaryClient,Ke);return rk(ne,oe.targetId,At.cc),At.snapshot}),function(ne,oe,Ue,Ye){return q.apply(this,arguments)})(n,S,B,j);var q};const o=yield cD(n.localStore,e,!0),c=new L2(e,o.ir),h=c.sc(o.documents),g=Zb.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),v=c.applyChanges(h,n.isPrimaryClient,g);rk(n,t,v.cc);const x=new K3(e,t,c);return n.wc.set(e,x),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),ZR.apply(this,arguments)}function e4(n,e){return YR.apply(this,arguments)}function YR(){return YR=(0,Ce.Z)(function*(n,e){const t=lt(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!Ub(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield V_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),c0(t.remoteStore,i.targetId),q_(t,i.targetId)}).catch(Ih))):(q_(t,i.targetId),yield V_(t.localStore,i.targetId,!0))}),YR.apply(this,arguments)}function KR(){return KR=(0,Ce.Z)(function*(n,e,t){const i=gk(n);try{const r=yield function(o,c){const h=lt(o),g=Di.now(),v=c.reduce((B,j)=>B.add(j.key),fn());let x,S;return h.persistence.runTransaction("Locally write mutations","readwrite",B=>{let j=gs(),q=fn();return h.Zi.getEntries(B,v).next(ne=>{j=ne,j.forEach((oe,Ue)=>{Ue.isValidDocument()||(q=q.add(oe))})}).next(()=>h.localDocuments.getOverlayedDocuments(B,j)).next(ne=>{x=ne;const oe=[];for(const Ue of c){const Ye=A$(Ue,x.get(Ue.key).overlayedDocument);null!=Ye&&oe.push(new Fu(Ue.key,Ye,NN(Ye.value.mapValue),Ii.exists(!0)))}return h.mutationQueue.addMutationBatch(B,g,oe,c)}).next(ne=>{S=ne;const oe=ne.applyToLocalDocumentSet(x,q);return h.documentOverlayCache.saveOverlays(B,ne.batchId,oe)})}).then(()=>({batchId:S.batchId,changes:eL(x)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,h){let g=o.Tc[o.currentUser.toKey()];g||(g=new ri(nn)),g=g.insert(c,h),o.Tc[o.currentUser.toKey()]=g}(i,r.batchId,t),yield Lu(i,r.changes),yield H_(i.remoteStore)}catch(r){const o=z_(r,"Failed to persist write");t.reject(o)}}),KR.apply(this,arguments)}function B2(n,e){return QR.apply(this,arguments)}function QR(){return QR=(0,Ce.Z)(function*(n,e){const t=lt(n);try{const i=yield function w3(n,e){const t=lt(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const h=[];e.targetChanges.forEach((x,S)=>{const B=r.get(S);if(!B)return;h.push(t.Bs.removeMatchingKeys(o,x.removedDocuments,S).next(()=>t.Bs.addMatchingKeys(o,x.addedDocuments,S)));let j=B.withSequenceNumber(o.currentSequenceNumber);var q,ne,oe;null!==e.targetMismatches.get(S)?j=j.withResumeToken(Ar.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):x.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(x.resumeToken,i)),r=r.insert(S,j),ne=j,oe=x,(0===(q=B).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(o,j))});let g=gs(),v=fn();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,x))}),h.push(g2(o,c,e.documentUpdates).next(x=>{g=x.nr,v=x.sr})),!i.isEqual(It.min())){const x=t.Bs.getLastRemoteSnapshotVersion(o).next(S=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(x)}return de.waitFor(h).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,g,v)).next(()=>g)}).then(o=>(t.Ji=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const c=t.yc.get(o);c&&(Ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.fc=!0:r.modifiedDocuments.size>0?Ct(c.fc):r.removedDocuments.size>0&&(Ct(c.fc),c.fc=!1))}),yield Lu(t,i,e)}catch(i){yield Ih(i)}}),QR.apply(this,arguments)}function V2(n,e,t){const i=lt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((o,c)=>{const h=c.view.Mu(e);h.snapshot&&r.push(h.snapshot)}),function(o,c){const h=lt(o);h.onlineState=c;let g=!1;h.queries.forEach((v,x)=>{for(const S of x.listeners)S.Mu(c)&&(g=!0)}),g&&$R(h)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function n4(n,e,t){return XR.apply(this,arguments)}function XR(){return XR=(0,Ce.Z)(function*(n,e,t){const i=lt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),o=r&&r.key;if(o){let c=new ri(rt.comparator);c=c.insert(o,fi.newNoDocument(o,It.min()));const h=fn().add(o),g=new Wb(It.min(),new Map,new ri(nn),c,h);yield B2(i,g),i.gc=i.gc.remove(o),i.yc.delete(e),ok(i)}else yield V_(i.localStore,e,!1).then(()=>q_(i,e,t)).catch(Ih)}),XR.apply(this,arguments)}function i4(n,e){return JR.apply(this,arguments)}function JR(){return JR=(0,Ce.Z)(function*(n,e){const t=lt(n),i=e.batch.batchId;try{const r=yield function b3(n,e){const t=lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,h,g,v){const x=g.batch,S=x.keys();let B=de.resolve();return S.forEach(j=>{B=B.next(()=>v.getEntry(h,j)).next(q=>{const ne=g.docVersions.get(j);Ct(null!==ne),q.version.compareTo(ne)<0&&(x.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),v.addEntry(q)))})}),B.next(()=>c.mutationQueue.removeMutationBatch(h,x))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=fn();for(let g=0;g<c.mutationResults.length;++g)c.mutationResults[g].transformResults.length>0&&(h=h.add(c.batch.mutations[g].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);ik(t,i,null),nk(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Lu(t,r)}catch(r){yield Ih(r)}}),JR.apply(this,arguments)}function r4(n,e,t){return ek.apply(this,arguments)}function ek(){return ek=(0,Ce.Z)(function*(n,e,t){const i=lt(n);try{const r=yield function(o,c){const h=lt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return h.mutationQueue.lookupMutationBatch(g,c).next(x=>(Ct(null!==x),v=x.keys(),h.mutationQueue.removeMutationBatch(g,x))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,v,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>h.localDocuments.getDocuments(g,v))})}(i.localStore,e);ik(i,e,t),nk(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Lu(i,r)}catch(r){yield Ih(r)}}),ek.apply(this,arguments)}function tk(){return tk=(0,Ce.Z)(function*(n,e){const t=lt(n);Vh(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=lt(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=z_(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),tk.apply(this,arguments)}function nk(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function ik(n,e,t){const i=lt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function q_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||U2(n,i)})}function U2(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(c0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),ok(n))}function rk(n,e,t){for(const i of t)i instanceof F2?(n.Ic.addReference(i.key,e),s4(n,i)):i instanceof N2?(je("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||U2(n,i.key)):mt()}function s4(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(je("SyncEngine","New document in limbo: "+t),n.mc.add(i),ok(n))}function ok(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new rt(xn.fromString(e)),i=n.Ac.next();n.yc.set(i,new Q3(t)),n.gc=n.gc.insert(t,i),pD(n.remoteStore,new Nu(Ho(A_(t.path)),i,"TargetPurposeLimboResolution",Ws.ct))}}function Lu(n,e,t){return sk.apply(this,arguments)}function sk(){return sk=(0,Ce.Z)(function*(n,e,t){const i=lt(n),r=[],o=[],c=[];var h;i.wc.isEmpty()||(i.wc.forEach((h,g)=>{c.push(i.Rc(g,e,t).then(v=>{if((v||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const x=uR.Li(g.targetId,v);o.push(x)}}))}),yield Promise.all(c),i.dc.nu(r),yield(h=(0,Ce.Z)(function*(g,v){const x=lt(g);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>de.forEach(v,B=>de.forEach(B.Fi,j=>x.persistence.referenceDelegate.addReference(S,B.targetId,j)).next(()=>de.forEach(B.Bi,j=>x.persistence.referenceDelegate.removeReference(S,B.targetId,j)))))}catch(S){if(!Sh(S))throw S;je("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const B=S.targetId;if(!S.fromCache){const j=x.Ji.get(B),ne=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);x.Ji=x.Ji.insert(B,ne)}}}),function(g,v){return h.apply(this,arguments)})(i.localStore,o))}),sk.apply(this,arguments)}function a4(n,e){return ak.apply(this,arguments)}function ak(){return ak=(0,Ce.Z)(function*(n,e){const t=lt(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const i=yield p2(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(c=>{c.forEach(h=>{h.reject(new Oe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Lu(t,i.er)}var r}),ak.apply(this,arguments)}function l4(n,e){const t=lt(n),i=t.yc.get(e);if(i&&i.fc)return fn().add(i.key);{let r=fn();const o=t._c.get(e);if(!o)return r;for(const c of o){const h=t.wc.get(c);r=r.unionWith(h.view.nc)}return r}}function c4(n,e){return lk.apply(this,arguments)}function lk(){return lk=(0,Ce.Z)(function*(n,e){const t=lt(n),i=yield cD(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&rk(t,e.targetId,r.cc),r}),lk.apply(this,arguments)}function u4(n,e){return ck.apply(this,arguments)}function ck(){return ck=(0,Ce.Z)(function*(n,e){const t=lt(n);return y2(t.localStore,e).then(i=>Lu(t,i))}),ck.apply(this,arguments)}function d4(n,e,t,i){return uk.apply(this,arguments)}function uk(){return uk=(0,Ce.Z)(function*(n,e,t,i){const r=lt(n),o=yield function(c,h){const g=lt(c),v=lt(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",x=>v.Sn(x,h).next(S=>S?g.localDocuments.getDocuments(x,S):de.resolve(null)))}(r.localStore,e);var h;null!==o?("pending"===t?yield H_(r.remoteStore):"acknowledged"===t||"rejected"===t?(ik(r,e,i||null),nk(r,e),h=e,lt(lt(r.localStore).mutationQueue).Cn(h)):mt(),yield Lu(r,o)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),uk.apply(this,arguments)}function dk(){return dk=(0,Ce.Z)(function*(n,e){const t=lt(n);if(mk(t),gk(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield H2(t,i.toArray());t.vc=!0,yield LR(t.remoteStore,!0);for(const o of r)pD(t.remoteStore,o)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((o,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(q_(t,c),V_(t.localStore,c,!0))),c0(t.remoteStore,c)}),yield r,yield H2(t,i),function(o){const c=lt(o);c.yc.forEach((h,g)=>{c0(c.remoteStore,g)}),c.Ic.Ts(),c.yc=new Map,c.gc=new ri(rt.comparator)}(t),t.vc=!1,yield LR(t.remoteStore,!1)}}),dk.apply(this,arguments)}function H2(n,e,t){return hk.apply(this,arguments)}function hk(){return hk=(0,Ce.Z)(function*(n,e,t){const i=lt(n),r=[],o=[];for(const c of e){let h;const g=i._c.get(c);if(g&&0!==g.length){h=yield B_(i.localStore,Ho(g[0]));for(const v of g){const x=i.wc.get(v),S=yield c4(i,x);S.snapshot&&o.push(S.snapshot)}}else{const v=yield _2(i.localStore,c);h=yield B_(i.localStore,v),yield WR(i,j2(v),c,!1,h.resumeToken)}r.push(h)}return i.dc.nu(o),r}),hk.apply(this,arguments)}function j2(n){return ZN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function f4(n){const e=lt(n);return lt(lt(e.localStore).persistence).$i()}function p4(n,e,t,i){return fk.apply(this,arguments)}function fk(){return fk=(0,Ce.Z)(function*(n,e,t,i){const r=lt(n);if(r.vc)return void je("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const c=yield y2(r.localStore,QN(o[0])),h=Wb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ar.EMPTY_BYTE_STRING);yield Lu(r,c,h);break}case"rejected":yield V_(r.localStore,e,!0),q_(r,e,i);break;default:mt()}}),fk.apply(this,arguments)}function m4(n,e,t){return pk.apply(this,arguments)}function pk(){return pk=(0,Ce.Z)(function*(n,e,t){const i=mk(n);if(i.vc){for(const r of e){if(i._c.has(r)){je("SyncEngine","Adding an already active target "+r);continue}const o=yield _2(i.localStore,r),c=yield B_(i.localStore,o);yield WR(i,j2(o),c.targetId,!1,c.resumeToken),pD(i.remoteStore,c)}for(const r of t)i._c.has(r)&&(yield V_(i.localStore,r,!1).then(()=>{c0(i.remoteStore,r),q_(i,r)}).catch(Ih))}}),pk.apply(this,arguments)}function mk(n){const e=lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=B2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n4.bind(null,e),e.dc.nu=q3.bind(null,e.eventManager),e.dc.Pc=W3.bind(null,e.eventManager),e}function gk(n){const e=lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r4.bind(null,e),e}class u0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ce.Z)(function*(){t.serializer=a0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return f2(this.persistence,new h2,e.initialUser,this.serializer)}createPersistence(e){return new sR(sD.zs,this.serializer)}createSharedClientState(e){return new E2}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _k extends u0{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield gk(i.Vc.syncEngine),yield H_(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return f2(this.persistence,new h2,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new n2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new Hz(t,this.persistence);return new Uz(e.asyncQueue,i)}createPersistence(e){const t=cR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?_o.withCacheSize(this.cacheSizeBytes):_o.DEFAULT;return new lR(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,x2(),fD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new E2}}class z2 extends _k{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof yR&&(i.sharedClientState.syncEngine={jr:d4.bind(null,r),zr:p4.bind(null,r),Wr:m4.bind(null,r),$i:f4.bind(null,r),Qr:u4.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var o=(0,Ce.Z)(function*(c){yield function h4(n,e){return dk.apply(this,arguments)}(i.Vc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=x2();if(!yR.D(t))throw new Oe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=cR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yR(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class W_{initialize(e,t){var i=this;return(0,Ce.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>V2(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=a4.bind(null,i.syncEngine),yield LR(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new G3}createDatastore(e){const t=a0(e.databaseInfo.databaseId),i=new T3(e.databaseInfo);return new R3(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=h=>V2(this.syncEngine,h,0),c=C2.D()?new C2:new D3,new P3(t,i,r,o,c);var t,i,r,o,c}createSyncEngine(e,t){return function(i,r,o,c,h,g,v){const x=new X3(i,r,o,c,h,g);return v&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ce.Z)(function*(t){const i=lt(t);je("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield U_(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function $2(n,e=10240){let t=0;return{read:()=>(0,Ce.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class gD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class y4{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Tr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const o=yield e.$c(r);return new Z3(JSON.parse(o),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ce.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,Ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class v4{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ce.Z)(function*(o,c){const h=lt(o),g=Kb(h.serializer)+"/documents",v={documents:c.map(j=>Yb(h.serializer,j))},x=yield h.vo("BatchGetDocuments",g,v,c.length),S=new Map;x.forEach(j=>{const q=function V$(n,e){return"found"in e?function(t,i){Ct(!!i.found);const r=wc(t,i.found.name),o=cr(i.found.updateTime),c=i.found.createTime?cr(i.found.createTime):It.min(),h=new Qr({mapValue:{fields:i.found.fields}});return fi.newFoundDocument(r,o,c,h)}(n,e):"missing"in e?function(t,i){Ct(!!i.missing),Ct(!!i.readTime);const r=wc(t,i.missing),o=cr(i.readTime);return fi.newNoDocument(r,o)}(n,e):mt()}(h.serializer,j);S.set(q.key.toString(),q)});const B=[];return c.forEach(j=>{const q=S.get(j.toString());Ct(!!q),B.push(q)}),B}),function(o,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new O_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=rt.fromPath(r);e.mutations.push(new HM(o,e.precondition(o)))}),yield(i=(0,Ce.Z)(function*(r,o){const c=lt(r),h=Kb(c.serializer)+"/documents",g={writes:o.map(v=>Qb(c.serializer,v))};yield c.Io("Commit",h,g)}),function(r,o){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mt();t=It.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Oe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(It.min())?Ii.exists(!1):Ii.updateTime(t):Ii.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Oe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ii.updateTime(t)}return Ii.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class b4{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new bR(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ce.Z)(function*(){const t=new v4(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.Uc(o)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!Ob(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!mL(t)}return!1}}class w4{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Vr.UNAUTHENTICATED,this.clientId=hN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Ce.Z)(function*(h){je("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(je("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=z_(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function _D(n,e){return yk.apply(this,arguments)}function yk(){return yk=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ce.Z)(function*(o){i.isEqual(o)||(yield p2(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),yk.apply(this,arguments)}function vk(n,e){return bk.apply(this,arguments)}function bk(){return bk=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield wk(n);je("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>R2(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>R2(e.remoteStore,o)),n._onlineComponents=e}),bk.apply(this,arguments)}function G2(n){return"FirebaseError"===n.name?n.code===me.FAILED_PRECONDITION||n.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function wk(n){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,Ce.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _D(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!G2(t))throw t;Ra("Error using user provided cache. Falling back to memory cache: "+t),yield _D(n,new u0)}}else je("FirestoreClient","Using default OfflineComponentProvider"),yield _D(n,new u0);return n._offlineComponents}),Ek.apply(this,arguments)}function yD(n){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,Ce.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),yield vk(n,n._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),yield vk(n,new W_))),n._onlineComponents}),Ck.apply(this,arguments)}function q2(n){return wk(n).then(e=>e.persistence)}function vD(n){return wk(n).then(e=>e.localStore)}function W2(n){return yD(n).then(e=>e.remoteStore)}function xk(n){return yD(n).then(e=>e.syncEngine)}function Z_(n){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,Ce.Z)(function*(n){const e=yield yD(n),t=e.eventManager;return t.onListen=J3.bind(null,e.syncEngine),t.onUnlisten=e4.bind(null,e.syncEngine),t}),Dk.apply(this,arguments)}function Y2(n,e,t={}){const i=new Tr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(r,o,c,h,g){const v=new gD({next:S=>{o.enqueueAndForget(()=>jR(r,x));const B=S.docs.has(c);!B&&S.fromCache?g.reject(new Oe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&S.fromCache&&h&&"server"===h.source?g.reject(new Oe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),x=new GR(A_(c.path),v,{includeMetadataChanges:!0,Ku:!0});return UR(r,x)}(yield Z_(n),n.asyncQueue,e,t,i)})),i.promise}function K2(n,e,t={}){const i=new Tr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(r,o,c,h,g){const v=new gD({next:S=>{o.enqueueAndForget(()=>jR(r,x)),S.fromCache&&"server"===h.source?g.reject(new Oe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),x=new GR(c,v,{includeMetadataChanges:!0,Ku:!0});return UR(r,x)}(yield Z_(n),n.asyncQueue,e,t,i)})),i.promise}function Q2(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const X2=new Map;function Ik(n,e,t){if(!t)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function J2(n,e,t,i){if(!0===e&&!0===i)throw new Oe(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function eB(n){if(!rt.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tB(n){if(rt.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":mt()}function En(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bD(n);throw new Oe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function nB(n,e){if(e<=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class iB{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Q2(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class d0{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iB(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Tz;switch(t.type){case"firstParty":return new kz(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Oe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=X2.get(e);t&&(je("ComponentProvider","Removing Datastore"),X2.delete(e),t.terminate())}(this),Promise.resolve()}}function rB(n,e,t,i={}){var r;const o=(n=En(n,d0))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==c&&Ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),i.mockUserToken){let h,g;if("string"==typeof i.mockUserToken)h=i.mockUserToken,g=Vr.MOCK_USER;else{h=(0,$t.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Oe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Vr(v)}n._authCredentials=new Az(new uN(h,g))}}class pi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pi(this.firestore,e,this._key)}}class Xr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Xr(this.firestore,e,this._query)}}class Ec extends Xr{constructor(e,t,i){super(e,t,A_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pi(this.firestore,null,new rt(e))}withConverter(e){return new Ec(this.firestore,e,this._path)}}function Sk(n,e,...t){if(n=(0,$t.m9)(n),Ik("collection","path",e),n instanceof d0){const i=xn.fromString(e,...t);return tB(i),new Ec(n,null,i)}{if(!(n instanceof pi||n instanceof Ec))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xn.fromString(e,...t));return tB(i),new Ec(n.firestore,null,i)}}function wD(n,e,...t){if(n=(0,$t.m9)(n),1===arguments.length&&(e=hN.A()),Ik("doc","path",e),n instanceof d0){const i=xn.fromString(e,...t);return eB(i),new pi(n,null,new rt(i))}{if(!(n instanceof pi||n instanceof Ec))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xn.fromString(e,...t));return eB(i),new pi(n.firestore,n instanceof Ec?n.converter:null,new rt(i))}}function oB(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),(n instanceof pi||n instanceof Ec)&&(e instanceof pi||e instanceof Ec)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Tk(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),n instanceof Xr&&e instanceof Xr&&n.firestore===e.firestore&&Ub(n._query,e._query)&&n.converter===e.converter}class R4{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new bR(this,"async_queue_retry"),this.Xc=()=>{const t=fD();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=fD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=fD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Tr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Sh(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,lr("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=VR.createAndSchedule(this,e,t,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&mt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ce.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Ak(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class k4{constructor(){this._progressObserver={},this._taskCompletionResolver=new Tr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class mi extends d0{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new R4,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||sB(this),this._firestoreClient.terminate()}}function P4(n,e){const t="object"==typeof n?n:(0,Br.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,Br._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,$t.P0)("firestore");o&&rB(r,...o)}return r}function ur(n){return n._firestoreClient||sB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function sB(n){var e,t,i;const r=n._freezeSettings(),o=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new l$(n._databaseId,h,n._persistenceKey,(v=r).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Q2(v.experimentalLongPollingOptions),v.useFetchStreams));var h,v;n._firestoreClient=new w4(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function aB(n,e,t){const i=new Tr;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield _D(n,t),yield vk(n,e),i.resolve()}catch(r){const o=r;if(!G2(o))throw o;Ra("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function lB(n){if(n._initialized||n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Cc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cc(Ar.fromBase64String(e))}catch(t){throw new Oe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cc(Ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rm{constructor(e){this._methodName=e}}class ED{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}}const $4=/^__.*__$/;class G4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Fu(e,this.data,this.fieldMask,t,this.fieldTransforms):new k_(e,this.data,t,this.fieldTransforms)}}class cB{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Fu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function uB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class CD{constructor(e,t,i,r,o,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new CD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ID(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(uB(this.ca)&&$4.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class q4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||a0(e)}ya(e,t,i,r=!1){return new CD({ca:e,methodName:t,ga:i,path:Yi.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function om(n){const e=n._freezeSettings(),t=a0(n._databaseId);return new q4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xD(n,e,t,i,r,o={}){const c=n.ya(o.merge||o.mergeFields?2:0,e,t,r);Ok("Data must be an object, but it was:",c,i);const h=fB(i,c);let g,v;if(o.merge)g=new ms(c.fieldMask),v=c.fieldTransforms;else if(o.mergeFields){const x=[];for(const S of o.mergeFields){const B=p0(e,S,t);if(!c.contains(B))throw new Oe(me.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);mB(x,B)||x.push(B)}g=new ms(x),v=c.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,v=c.fieldTransforms;return new G4(new Qr(h),g,v)}class f0 extends rm{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof f0}}function dB(n,e,t){return new CD({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Mk extends rm{_toFieldTransform(e){return new $b(e.path,new M_)}isEqual(e){return e instanceof Mk}}class W4 extends rm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=dB(this,e,!0),i=this.pa.map(o=>sm(o,t)),r=new Yp(i);return new $b(e.path,r)}isEqual(e){return this===e}}class Z4 extends rm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=dB(this,e,!0),i=this.pa.map(o=>sm(o,t)),r=new Kp(i);return new $b(e.path,r)}isEqual(e){return this===e}}class Y4 extends rm{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new R_(e.serializer,rL(e.serializer,this.Ia));return new $b(e.path,t)}isEqual(e){return this===e}}function Rk(n,e,t,i){const r=n.ya(1,e,t);Ok("Data must be an object, but it was:",r,i);const o=[],c=Qr.empty();Th(i,(g,v)=>{const x=DD(e,g,t);v=(0,$t.m9)(v);const S=r.da(x);if(v instanceof f0)o.push(x);else{const B=sm(v,S);null!=B&&(o.push(x),c.set(x,B))}});const h=new ms(o);return new cB(c,h,r.fieldTransforms)}function kk(n,e,t,i,r,o){const c=n.ya(1,e,t),h=[p0(e,i,t)],g=[r];if(o.length%2!=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<o.length;B+=2)h.push(p0(e,o[B])),g.push(o[B+1]);const v=[],x=Qr.empty();for(let B=h.length-1;B>=0;--B)if(!mB(v,h[B])){const j=h[B];let q=g[B];q=(0,$t.m9)(q);const ne=c.da(j);if(q instanceof f0)v.push(j);else{const oe=sm(q,ne);null!=oe&&(v.push(j),x.set(j,oe))}}const S=new ms(v);return new cB(x,S,c.fieldTransforms)}function hB(n,e,t,i=!1){return sm(t,n.ya(i?4:3,e))}function sm(n,e){if(pB(n=(0,$t.m9)(n)))return Ok("Unsupported field value:",e,n),fB(n,e);if(n instanceof rm)return function(t,i){if(!uB(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const c of t){let h=sm(c,i.wa(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,$t.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return rL(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Di.fromDate(t);return{timestampValue:P_(i.serializer,r)}}if(t instanceof Di){const r=new Di(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:P_(i.serializer,r)}}if(t instanceof ED)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Cc)return{bytesValue:DL(i.serializer,t._byteString)};if(t instanceof pi){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ZM(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${bD(t)}`)}(n,e)}function fB(n,e){const t={};return SN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Th(n,(i,r)=>{const o=sm(r,e.ha(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function pB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Di||n instanceof ED||n instanceof Cc||n instanceof pi||n instanceof rm)}function Ok(n,e,t){if(!pB(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=bD(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function p0(n,e,t){if((e=(0,$t.m9)(e))instanceof Bu)return e._internalPath;if("string"==typeof e)return DD(n,e);throw ID("Field path arguments must be of type string or ",n,!1,void 0,t)}const K4=new RegExp("[~\\*/\\[\\]]");function DD(n,e,t){if(e.search(K4)>=0)throw ID(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bu(...e.split("."))._internalPath}catch{throw ID(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ID(n,e,t,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(o||c)&&(g+=" (found",o&&(g+=` in field ${i}`),c&&(g+=` in document ${r}`),g+=")"),new Oe(me.INVALID_ARGUMENT,h+n+g)}function mB(n,e){return n.some(t=>t.isEqual(e))}class m0{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Q4 extends m0{data(){return super.data()}}function SD(n,e){return"string"==typeof e?DD(n,e):e instanceof Bu?e._internalPath:e._delegate._internalPath}function gB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pk{}class g0 extends Pk{}function Hh(n,e,...t){let i=[];e instanceof Pk&&i.push(e),i=i.concat(t),function(r){const o=r.filter(h=>h instanceof Y_).length,c=r.filter(h=>h instanceof _0).length;if(o>1||o>0&&c>0)throw new Oe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class _0 extends g0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new _0(e,t,i)}_apply(e){const t=this._parse(e);return bB(e._query,t),new Xr(e.firestore,e.converter,BM(e._query,t))}_parse(e){const t=om(e.firestore);return function(r,o,c,h,g,v,x){let S;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){vB(x,v);const B=[];for(const j of x)B.push(yB(h,r,j));S={arrayValue:{values:B}}}else S=yB(h,r,x)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||vB(x,v),S=hB(c,"where",x,"in"===v||"not-in"===v);return wn.create(g,v,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Y_ extends Pk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Y_(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Vn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const c=r.getFlattenedFilters();for(const h of c)bB(o,h),o=BM(o,h)}(e._query,t),new Xr(e.firestore,e.converter,BM(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Fk extends g0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Fk(e,t)}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new S_(r,o);return function(h,g){if(null===NM(h)){const v=Gx(h);null!==v&&wB(0,v,g.field)}}(i,c),c}(e._query,this._field,this._direction);return new Xr(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Ou(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class TD extends g0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new TD(e,t,i)}_apply(e){return new Xr(e.firestore,e.converter,qx(e._query,this._limit,this._limitType))}}class AD extends g0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new AD(e,t,i)}_apply(e){const t=_B(e,this.type,this._docOrFields,this._inclusive);return new Xr(e.firestore,e.converter,(r=t,new Ou((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class MD extends g0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new MD(e,t,i)}_apply(e){const t=_B(e,this.type,this._docOrFields,this._inclusive);return new Xr(e.firestore,e.converter,(r=t,new Ou((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function _B(n,e,t,i){if(t[0]=(0,$t.m9)(t[0]),t[0]instanceof m0)return function(r,o,c,h,g){if(!h)throw new Oe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const x of Zp(r))if(x.field.isKeyField())v.push(qp(o,h.key));else{const S=h.data.field(x.field);if(Bx(S))throw new Oe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const B=x.field.canonicalString();throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}v.push(S)}return new Ph(v,g)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=om(n.firestore);return function(o,c,h,g,v,x){const S=o.explicitOrderBy;if(v.length>S.length)throw new Oe(me.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let j=0;j<v.length;j++){const q=v[j];if(S[j].field.isKeyField()){if("string"!=typeof q)throw new Oe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof q}`);if(!LM(o)&&-1!==q.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${q}' contains a slash.`);const ne=o.path.child(xn.fromString(q));if(!rt.isDocumentKey(ne))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const oe=new rt(ne);B.push(qp(c,oe))}else{const ne=hB(h,g,q);B.push(ne)}}return new Ph(B,x)}(n._query,n.firestore._databaseId,r,e,t,i)}}function yB(n,e,t){if("string"==typeof(t=(0,$t.m9)(t))){if(""===t)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LM(e)&&-1!==t.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(xn.fromString(t));if(!rt.isDocumentKey(i))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return qp(n,new rt(i))}if(t instanceof pi)return qp(n,t._key);throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bD(t)}.`)}function vB(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bB(n,e){if(e.isInequality()){const i=Gx(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=NM(n);null!==o&&wB(0,r,o)}const t=function(i,r){for(const o of i)for(const c of o.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Oe(me.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function wB(n,e,t){if(!t.isEqual(e))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Nk{convertValue(e,t="none"){switch(kh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ki(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ku(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Th(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new ED(Ki(e.latitude),Ki(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Vx(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Fb(e));default:return null}}convertTimestamp(e){const t=Ah(e);return new Di(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=xn.fromString(e);Ct(FL(i));const r=new Mh(i.get(1),i.get(3)),o=new rt(i.popFirst(5));return r.isEqual(t)||lr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function RD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class s6 extends Nk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pi(this.firestore,null,t)}}class am{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vu extends m0{constructor(e,t,i,r,o,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new y0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(SD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class y0 extends Vu{data(e={}){return super.data(e)}}class jh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new am(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new y0(this._firestore,this._userDataWriter,i.key,i,new am(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new y0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new am(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new y0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new am(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return 0!==c.type&&(g=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),v=o.indexOf(c.doc.key)),{type:l6(c.type),doc:h,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function l6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function CB(n,e){return n instanceof Vu&&e instanceof Vu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof jh&&e instanceof jh&&n._firestore===e._firestore&&Tk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class zh extends Nk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pi(this.firestore,null,t)}}function xB(n,e,t){n=En(n,pi);const i=En(n.firestore,mi),r=RD(n.converter,e,t);return K_(i,[xD(om(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Ii.none())])}function DB(n,e,t,...i){n=En(n,pi);const r=En(n.firestore,mi),o=om(r);let c;return c="string"==typeof(e=(0,$t.m9)(e))||e instanceof Bu?kk(o,"updateDoc",n._key,e,t,i):Rk(o,"updateDoc",n._key,e),K_(r,[c.toMutation(n._key,Ii.exists(!0))])}function Lk(n,...e){var t,i,r;n=(0,$t.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||Ak(e[c])||(o=e[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges};if(Ak(e[c])){const S=e[c];e[c]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[c+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),e[c+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let g,v,x;if(n instanceof pi)v=En(n.firestore,mi),x=A_(n._key.path),g={next:S=>{e[c]&&e[c](Bk(v,n,S))},error:e[c+1],complete:e[c+2]};else{const S=En(n,Xr);v=En(S.firestore,mi),x=S._query;const B=new zh(v);g={next:j=>{e[c]&&e[c](new jh(v,B,S,j))},error:e[c+1],complete:e[c+2]},gB(n._query)}return function(S,B,j,q){const ne=new gD(q),oe=new GR(B,ne,j);return S.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return UR(yield Z_(S),oe)})),()=>{ne.Dc(),S.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return jR(yield Z_(S),oe)}))}}(ur(v),x,h,g)}function K_(n,e){return function(t,i){const r=new Tr;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function t4(n,e,t){return KR.apply(this,arguments)}(yield xk(t),i,r)})),r.promise}(ur(n),e)}function Bk(n,e,t){const i=t.docs.get(e._key),r=new zh(n);return new Vu(n,r,e._key,i,new am(t.hasPendingWrites,t.fromCache),e.converter)}const I6={maxAttempts:5};class IB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=om(e)}set(e,t,i){this._verifyNotCommitted();const r=$h(e,this._firestore),o=RD(r.converter,t,i),c=xD(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Ii.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=$h(e,this._firestore);let c;return c="string"==typeof(t=(0,$t.m9)(t))||t instanceof Bu?kk(this._dataReader,"WriteBatch.update",o._key,t,i,r):Rk(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,Ii.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$h(e,this._firestore);return this._mutations=this._mutations.concat(new O_(t._key,Ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $h(n,e){if((n=(0,$t.m9)(n)).firestore!==e)throw new Oe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class S6 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=om(e)}get(e){const t=$h(e,this._firestore),i=new s6(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return mt();const o=r[0];if(o.isFoundDocument())return new m0(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new m0(this._firestore,i,t._key,null,t.converter);throw mt()})}set(e,t,i){const r=$h(e,this._firestore),o=RD(r.converter,t,i),c=xD(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const o=$h(e,this._firestore);let c;return c="string"==typeof(t=(0,$t.m9)(t))||t instanceof Bu?kk(this._dataReader,"Transaction.update",o._key,t,i,r):Rk(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,c),this}delete(e){const t=$h(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=$h(e,this._firestore),i=new zh(this._firestore);return super.get(e).then(r=>new Vu(this._firestore,i,t._key,r._document,new am(!1,!1),t.converter))}}!function(n,e=!0){C_=Br.SDK_VERSION,(0,Br._registerComponent)(new Su.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),c=new mi(new Mz(t.getProvider("auth-internal")),new Oz(t.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Oe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mh(h.options.projectId,g)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Br.registerVersion)(cN,"3.13.0",n),(0,Br.registerVersion)(cN,"3.13.0","esm2017")}();function Vk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function TB(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function AB(){if(!function s$(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class v0{constructor(e){this._delegate=e}static fromBase64String(e){return AB(),new v0(Cc.fromBase64String(e))}static fromUint8Array(e){return TB(),new v0(Cc.fromUint8Array(e))}toBase64(){return AB(),this._delegate.toBase64()}toUint8Array(){return TB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Uk(n){return function N6(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class L6{enableIndexedDbPersistence(e,t){return function F4(n,e){lB(n=En(n,mi));const t=ur(n);if(t._uninitializedComponentsProvider)throw new Oe(me.FAILED_PRECONDITION,"SDK cache is already specified.");Ra("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new W_;return aB(t,r,new _k(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function N4(n){lB(n=En(n,mi));const e=ur(n);if(e._uninitializedComponentsProvider)throw new Oe(me.FAILED_PRECONDITION,"SDK cache is already specified.");Ra("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new W_;return aB(e,i,new z2(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function L4(n){if(n._initialized&&!n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Tr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(t=(0,Ce.Z)(function*(i){if(!wl.D())return Promise.resolve();const r=i+"main";yield wl.delete(r)}),function(i){return t.apply(this,arguments)})(cR(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class MB{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ra("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){rB(this._delegate,e,t,i)}enableNetwork(){return function V4(n){return function E4(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield q2(n),t=yield W2(n);return e.setNetworkEnabled(!0),function(i){const r=lt(i);return r.vu.delete(0),l0(r)}(t)}))}(ur(n=En(n,mi)))}(this._delegate)}disableNetwork(){return function U4(n){return function C4(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield q2(n),t=yield W2(n);return e.setNetworkEnabled(!1),(i=(0,Ce.Z)(function*(r){const o=lt(r);o.vu.add(0),yield U_(o),o.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(ur(n=En(n,mi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,J2("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function B4(n){return function(e){const t=new Tr;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function o4(n,e){return tk.apply(this,arguments)}(yield xk(e),t)})),t.promise}(ur(n=En(n,mi)))}(this._delegate)}onSnapshotsInSync(e){return function _6(n,e){return function I4(n,e){const t=new gD(e);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield Z_(n),r=t,lt(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield Z_(n),r=t,void lt(i).ku.delete(r);var i,r}))}}(ur(n=En(n,mi)),Ak(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Q_(this,Sk(this._delegate,e))}catch(t){throw jo(t,"collection()","Firestore.collection()")}}doc(e){try{return new ka(this,wD(this._delegate,e))}catch(t){throw jo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zo(this,function M4(n,e){if(n=En(n,d0),Ik("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xr(n,null,(t=e,new Ou(xn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw jo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function T6(n,e,t){n=En(n,mi);const i=Object.assign(Object.assign({},I6),t);return function(r){if(r.maxAttempts<1)throw new Oe(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,c){const h=new Tr;return r.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const g=yield function Z2(n){return yD(n).then(e=>e.datastore)}(r);new b4(r.asyncQueue,g,c,o,h).run()})),h.promise}(ur(n),r=>e(new S6(n,r)),i)}(this._delegate,t=>e(new RB(this,t)))}batch(){return ur(this._delegate),new kB(new IB(this._delegate,e=>K_(this._delegate,e)))}loadBundle(e){return function H4(n,e){const t=ur(n=En(n,mi)),i=new k4;return function S4(n,e,t,i){const r=function(o,c){let h;return h="string"==typeof o?_L().encode(o):o,g=function(g,v){if(g instanceof Uint8Array)return $2(g,v);if(g instanceof ArrayBuffer)return $2(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new y4(g,c);var g}(t,a0(e));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function g4(n,e,t){const i=lt(n);var r;(r=(0,Ce.Z)(function*(o,c,h){try{const g=yield c.getMetadata();if(yield function(B,j){const q=lt(B),ne=cr(j.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",oe=>q.qs.getBundleMetadata(oe,j.id)).then(oe=>!!oe&&oe.createTime.compareTo(ne)>=0)}(o.localStore,g))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(B=g).totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}),Promise.resolve(new Set);h._updateProgress(P2(g));const v=new Y3(g,o.localStore,c.serializer);let x=yield c.bc();for(;x;){const B=yield v.zu(x);B&&h._updateProgress(B),x=yield c.bc()}const S=yield v.complete();return yield Lu(o,S.Ju,void 0),yield function(B,j){const q=lt(B);return q.persistence.runTransaction("Save bundle","readwrite",ne=>q.qs.saveBundleMetadata(ne,j))}(o.localStore,g),h._completeWith(S.progress),Promise.resolve(S.Hu)}catch(g){return Ra("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var B}),function(o,c,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield xk(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function j4(n,e){return function T4(n,e){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(t,i){const r=lt(t);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(yield vD(n),e)}))}(ur(n=En(n,mi)),e).then(t=>t?new Xr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new zo(this,t):null)}}class kD extends Nk{constructor(e){super(),this.firestore=e}convertBytes(e){return new v0(new Cc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ka.forKey(t,this.firestore,null)}}class RB{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new kD(e)}get(e){const t=cm(e);return this._delegate.get(t).then(i=>new b0(this._firestore,new Vu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=cm(e);return i?(Vk("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=cm(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=cm(e);return this._delegate.delete(t),this}}class kB{constructor(e){this._delegate=e}set(e,t,i){const r=cm(e);return i?(Vk("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=cm(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=cm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class lm{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new y0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new w0(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=lm.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new lm(e,new kD(e),t),r.set(t,o)),o}}lm.INSTANCES=new WeakMap;class ka{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new kD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ka(t,new pi(t._delegate,i,new rt(e)))}static forKey(e,t,i){return new ka(t,new pi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Q_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Q_(this.firestore,Sk(this._delegate,e))}catch(t){throw jo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$t.m9)(e))instanceof pi&&oB(this._delegate,e)}set(e,t){t=Vk("DocumentReference.set",t);try{return t?xB(this._delegate,e,t):xB(this._delegate,e)}catch(i){throw jo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?DB(this._delegate,e):DB(this._delegate,e,t,...i)}catch(r){throw jo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function m6(n){return K_(En(n.firestore,mi),[new O_(n._key,Ii.none())])}(this._delegate)}onSnapshot(...e){const t=OB(e),i=PB(e,r=>new b0(this.firestore,new Vu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Lk(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function u6(n){n=En(n,pi);const e=En(n.firestore,mi),t=ur(e),i=new zh(e);return function x4(n,e){const t=new Tr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(r,o,c){try{const h=yield function(g,v){const x=lt(g);return x.persistence.runTransaction("read document","readonly",S=>x.localDocuments.getDocument(S,v))}(r,o);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Oe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=z_(h,`Failed to get document '${o} from cache`);c.reject(g)}}),function(r,o,c){return i.apply(this,arguments)})(yield vD(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Vu(e,i,n._key,r,new am(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function d6(n){n=En(n,pi);const e=En(n.firestore,mi);return Y2(ur(e),n._key,{source:"server"}).then(t=>Bk(e,n,t))}(this._delegate):function c6(n){n=En(n,pi);const e=En(n.firestore,mi);return Y2(ur(e),n._key).then(t=>Bk(e,n,t))}(this._delegate),t.then(i=>new b0(this.firestore,new Vu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ka(this.firestore,this._delegate.withConverter(e?lm.getInstance(this.firestore,e):null))}}function jo(n,e,t){return n.message=n.message.replace(e,t),n}function OB(n){for(const e of n)if("object"==typeof e&&!Uk(e))return e;return{}}function PB(n,e){var t,i;let r;return r=Uk(n[0])?n[0]:Uk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class b0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ka(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return CB(this._delegate,e._delegate)}}class w0 extends b0{data(e){const t=this._delegate.data(e);return function Sz(n,e){n||mt()}(void 0!==t),t}}class zo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new kD(e)}where(e,t,i){try{return new zo(this.firestore,Hh(this._delegate,function X4(n,e,t){const i=e,r=SD("where",n);return _0._create(r,i,t)}(e,t,i)))}catch(r){throw jo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new zo(this.firestore,Hh(this._delegate,function J4(n,e="asc"){const t=e,i=SD("orderBy",n);return Fk._create(i,t)}(e,t)))}catch(i){throw jo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zo(this.firestore,Hh(this._delegate,function e6(n){return nB("limit",n),TD._create("limit",n,"F")}(e)))}catch(t){throw jo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new zo(this.firestore,Hh(this._delegate,function t6(n){return nB("limitToLast",n),TD._create("limitToLast",n,"L")}(e)))}catch(t){throw jo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zo(this.firestore,Hh(this._delegate,function n6(...n){return AD._create("startAt",n,!0)}(...e)))}catch(t){throw jo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zo(this.firestore,Hh(this._delegate,function i6(...n){return AD._create("startAfter",n,!1)}(...e)))}catch(t){throw jo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zo(this.firestore,Hh(this._delegate,function r6(...n){return MD._create("endBefore",n,!1)}(...e)))}catch(t){throw jo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zo(this.firestore,Hh(this._delegate,function o6(...n){return MD._create("endAt",n,!0)}(...e)))}catch(t){throw jo(t,"endAt()","Query.endAt()")}}isEqual(e){return Tk(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function f6(n){n=En(n,Xr);const e=En(n.firestore,mi),t=ur(e),i=new zh(e);return function D4(n,e){const t=new Tr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(r,o,c){try{const h=yield cD(r,o,!0),g=new L2(o,h.ir),v=g.sc(h.documents),x=g.applyChanges(v,!1);c.resolve(x.snapshot)}catch(h){const g=z_(h,`Failed to execute query '${o} against cache`);c.reject(g)}}),function(r,o,c){return i.apply(this,arguments)})(yield vD(n),e,t);var i})),t.promise}(t,n._query).then(r=>new jh(e,i,n,r))}(this._delegate):"server"===e?.source?function p6(n){n=En(n,Xr);const e=En(n.firestore,mi),t=ur(e),i=new zh(e);return K2(t,n._query,{source:"server"}).then(r=>new jh(e,i,n,r))}(this._delegate):function h6(n){n=En(n,Xr);const e=En(n.firestore,mi),t=ur(e),i=new zh(e);return gB(n._query),K2(t,n._query).then(r=>new jh(e,i,n,r))}(this._delegate),t.then(i=>new Hk(this.firestore,new jh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=OB(e),i=PB(e,r=>new Hk(this.firestore,new jh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Lk(this._delegate,t,i)}withConverter(e){return new zo(this.firestore,this._delegate.withConverter(e?lm.getInstance(this.firestore,e):null))}}class V6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new w0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Hk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new zo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new w0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new V6(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new w0(this._firestore,i))})}isEqual(e){return CB(this._delegate,e._delegate)}}class Q_ extends zo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ka(this.firestore,e):null}doc(e){try{return new ka(this.firestore,void 0===e?wD(this._delegate):wD(this._delegate,e))}catch(t){throw jo(t,"doc()","CollectionReference.doc()")}}add(e){return function g6(n,e){const t=En(n.firestore,mi),i=wD(n),r=RD(n.converter,e);return K_(t,[xD(om(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ii.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ka(this.firestore,t))}isEqual(e){return oB(this._delegate,e._delegate)}withConverter(e){return new Q_(this.firestore,this._delegate.withConverter(e?lm.getInstance(this.firestore,e):null))}}function cm(n){return En(n,pi)}class jk{constructor(...e){this._delegate=new Bu(...e)}static documentId(){return new jk(Yi.keyField().canonicalString())}isEqual(e){return(e=(0,$t.m9)(e))instanceof Bu&&this._delegate._internalPath.isEqual(e._internalPath)}}class um{constructor(e){this._delegate=e}static serverTimestamp(){const e=function M6(){return new Mk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new um(e)}static delete(){const e=function A6(){return new f0("deleteField")}();return e._methodName="FieldValue.delete",new um(e)}static arrayUnion(...e){const t=function R6(...n){return new W4("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new um(t)}static arrayRemove(...e){const t=function k6(...n){return new Z4("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new um(t)}static increment(e){const t=function O6(n){return new Y4("increment",n)}(e);return t._methodName="FieldValue.increment",new um(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const U6={Firestore:MB,GeoPoint:ED,Timestamp:Di,Blob:v0,Transaction:RB,WriteBatch:kB,DocumentReference:ka,DocumentSnapshot:b0,Query:zo,QueryDocumentSnapshot:w0,QuerySnapshot:Hk,CollectionReference:Q_,FieldPath:jk,FieldValue:um,setLogLevel:function B6(n){!function Iz(n){Dh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function j6(n){(function H6(n,e){n.INTERNAL.registerComponent(new Su.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},U6)))})(n,(e,t)=>new MB(e,t,new L6)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(YC.Z);var OD=V(5363),z6=V(6063);class $6 extends Ft.x{constructor(e=1/0,t=1/0,i=z6.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;t||(i.push(e),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!e.closed;c+=i?1:2)e.next(o[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=t.now();let h=0;for(let g=1;g<i.length&&i[g]<=c;g+=2)h=g;h&&i.splice(0,h+1)}}}var FB=V(3099);function NB(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,FB.B)({connector:()=>new $6(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function LB(n,e){return(0,Lo.m)(e)?Oi(()=>n,e):Oi(()=>n)}var zk=V(9468),Uu=V(259);class dm{constructor(e){return e}}class PD{constructor(){return(0,Uu.C6)()}}const $k=new l.OlP("angularfire2._apps"),q6={provide:dm,useFactory:function G6(n){return n&&1===n.length?n[0]:new dm((0,Uu.Mq)())},deps:[[new l.FiY,$k]]},W6={provide:PD,deps:[[new l.FiY,$k]]};function Z6(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new dm(i)}}let Y6=(()=>{class n{constructor(t){(0,Uu.KN)("angularfire",cn.q4.full,"core"),(0,Uu.KN)("angularfire",cn.q4.full,"app"),(0,Uu.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[q6,W6]}),n})();function K6(n,...e){return{ngModule:Y6,providers:[{provide:$k,useFactory:Z6(n),multi:!0,deps:[l.R0b,l.zs3,cn.HU,...e]}]}}const Q6=(0,cn.u3)(Uu.ZF,!0),Gk=new Map,BB={activated:!1,tokenObservers:[]},X6={initialized:!1,enabled:!1};function Qi(n){return Gk.get(n)||Object.assign({},BB)}function FD(){return X6}const qk="https://content-firebaseappcheck.googleapis.com/v1",nG="exchangeDebugToken",VB={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class rG{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ce.Z)(function*(){t.stop();try{t.pending=new $t.BH,yield function oG(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new $t.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Jr=new $t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Wk(n){if(!Qi(n).activated)throw Jr.create("use-before-activation",{appName:n.name})}function BD(n,e){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,Ce.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const o={method:"POST",body:JSON.stringify(e),headers:i};let c,h;try{c=yield fetch(n,o)}catch(S){throw Jr.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==c.status)throw Jr.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(S){throw Jr.create("fetch-parse-error",{originalErrorMessage:S?.message})}const g=h.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Jr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(g[1]),x=Date.now();return{token:h.token,expireTimeMillis:x+v,issuedAtTimeMillis:x}}),Yk.apply(this,arguments)}function UB(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${qk}/projects/${t}/apps/${i}:${nG}?key=${r}`,body:{debug_token:e}}}const cG="firebase-app-check-database",uG=1,E0="firebase-app-check-store";let VD=null;function Kk(){return Kk=(0,Ce.Z)(function*(n,e){const i=(yield function jB(){return VD||(VD=new Promise((n,e)=>{try{const t=indexedDB.open(cG,uG);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Jr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(E0,{keyPath:"compositeKey"})}}catch(t){e(Jr.create("storage-open",{originalErrorMessage:t?.message}))}}),VD)}()).transaction(E0,"readwrite"),o=i.objectStore(E0).put({compositeKey:n,value:e});return new Promise((c,h)=>{o.onsuccess=g=>{c()},i.onerror=g=>{var v;h(Jr.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})}),Kk.apply(this,arguments)}const C0=new hc.Yd("@firebase/app-check");function Jk(n,e){return(0,$t.hl)()?function hG(n,e){return function zB(n,e){return Kk.apply(this,arguments)}(function GB(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{C0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function t1(){return FD().enabled}function n1(){return r1.apply(this,arguments)}function r1(){return r1=(0,Ce.Z)(function*(){const n=FD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),r1.apply(this,arguments)}const yG={error:"UNKNOWN_ERROR"};function vG(n){return $t.US.encodeString(JSON.stringify(n),!1)}function UD(n){return o1.apply(this,arguments)}function o1(){return o1=(0,Ce.Z)(function*(n,e=!1){const t=n.app;Wk(t);const i=Qi(t);let o,r=i.token;if(r&&!X_(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(X_(g)?r=g:yield Jk(t,void 0))}if(!e&&r&&X_(r))return{token:r.token};let h,c=!1;if(t1()){i.exchangeTokenPromise||(i.exchangeTokenPromise=BD(UB(t,yield n1()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const g=yield i.exchangeTokenPromise;return yield Jk(t,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield Qi(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?C0.warn(g.message):C0.error(g),o=g}return r?o?h=X_(r)?{token:r.token,internalError:o}:YB(o):(h={token:r.token},i.token=r,yield Jk(t,r)):h=YB(o),c&&function ZB(n,e){const t=Qi(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,h),h}),o1.apply(this,arguments)}function s1(){return s1=(0,Ce.Z)(function*(n){const e=n.app;Wk(e);const{provider:t}=Qi(e);if(t1()){const i=yield n1(),{token:r}=yield BD(UB(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}}),s1.apply(this,arguments)}function l1(n,e){const t=Qi(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function WB(n){const{app:e}=n,t=Qi(e);let i=t.tokenRefresher;i||(i=function bG(n){const{app:e}=n;return new rG((0,Ce.Z)(function*(){let i;if(i=Qi(e).token?yield UD(n,!0):yield UD(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Qi(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},VB.RETRIAL_MIN_WAIT,VB.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function X_(n){return n.expireTimeMillis-Date.now()>0}function YB(n){return{token:vG(yG),error:n}}class wG{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Qi(this.app);for(const t of e)l1(this.app,t.next);return Promise.resolve()}}const iV="app-check-internal";!function FG(){(0,Br._registerComponent)(new Su.wA("app-check",n=>function EG(n,e){return new wG(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(iV).initialize()})),(0,Br._registerComponent)(new Su.wA(iV,n=>function CG(n){return{getToken:e=>UD(n,e),getLimitedUseToken:()=>function qB(n){return s1.apply(this,arguments)}(n),addTokenListener:e=>function a1(n,e,t,i){const{app:r}=n,o=Qi(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&X_(o.token)){const h=o.token;Promise.resolve().then(()=>{t({token:h.token}),WB(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>WB(n))}(n,"INTERNAL",e),removeTokenListener:e=>l1(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Br.registerVersion)("@firebase/app-check","0.8.0")}();class hm{constructor(){return(0,cn.vb)("app-check")}}typeof window<"u"&&window;var UG=V(9260);const oV=new l.OlP("angularfire2.auth.use-emulator"),sV=new l.OlP("angularfire2.auth.settings"),aV=new l.OlP("angularfire2.auth.tenant-id"),lV=new l.OlP("angularfire2.auth.langugage-code"),cV=new l.OlP("angularfire2.auth.use-device-language"),uV=new l.OlP("angularfire.auth.persistence"),dV=(n,e,t,i,r,o,c,h)=>(0,fo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),i&&(g.tenantId=i),g.languageCode=r,o&&g.useDeviceLanguage(),c)for(const[v,x]of Object.entries(c))g.settings[v]=x;return h&&g.setPersistence(h),g},[t,i,r,o,c,h]);let jD=(()=>{class n{constructor(t,i,r,o,c,h,g,v,x,S,B,j){const q=new Ft.x,ne=nt(void 0).pipe((0,OD.Q)(c.outsideAngular),Oi(()=>o.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9568)))),(0,yt.U)(()=>(0,fo.on)(t,o,i)),(0,yt.U)(oe=>dV(oe,o,h,v,x,S,g,B)),NB({bufferSize:1,refCount:!1}));if(ta(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{ne.pipe(uo()).subscribe();const Ue=ne.pipe(Oi(Ke=>Ke.getRedirectResult().then(At=>At,()=>null)),cn.iC,NB({bufferSize:1,refCount:!1})),Ye=ne.pipe(Oi(Ke=>new or.y(At=>({unsubscribe:o.runOutsideAngular(()=>Ke.onAuthStateChanged(Nt=>At.next(Nt),Nt=>At.error(Nt),()=>At.complete()))})))),We=ne.pipe(Oi(Ke=>new or.y(At=>({unsubscribe:o.runOutsideAngular(()=>Ke.onIdTokenChanged(Nt=>At.next(Nt),Nt=>At.error(Nt),()=>At.complete()))}))));this.authState=Ue.pipe(LB(Ye),(0,zk.R)(c.outsideAngular),(0,OD.Q)(c.insideAngular)),this.user=Ue.pipe(LB(We),(0,zk.R)(c.outsideAngular),(0,OD.Q)(c.insideAngular)),this.idToken=this.user.pipe(Oi(Ke=>Ke?(0,hn.D)(Ke.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(Oi(Ke=>Ke?(0,hn.D)(Ke.getIdTokenResult()):nt(null))),this.credential=(0,pl.T)(Ue,q,this.authState.pipe(xi(Ke=>!Ke))).pipe((0,yt.U)(Ke=>Ke?.user?Ke:null),(0,zk.R)(c.outsideAngular),(0,OD.Q)(c.insideAngular))}return(0,fo.pX)(this,ne,o,{spy:{apply:(oe,Ue,Ye)=>{(oe.startsWith("signIn")||oe.startsWith("createUser"))&&Ye.then(We=>q.next(We))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fo.Dh),l.LFG(fo.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(cn.HU),l.LFG(oV,8),l.LFG(sV,8),l.LFG(aV,8),l.LFG(lV,8),l.LFG(cV,8),l.LFG(uV,8),l.LFG(hm,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jG=(()=>{class n{constructor(){UG.Z.registerVersion("angularfire",cn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[jD]}),n})();function hV(n,e){return function zG(n,e=qm.z){return new or.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function f1(n,e){return hV(n,e).pipe((0,yt.U)(t=>({payload:t,type:"query"})))}function zD(n,e){return f1(n,e).pipe(Ql(void 0),sb(),(0,yt.U)(([t,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const g=r.find(x=>x.doc.ref.isEqual(c.ref)),v=t?.payload.docs.find(x=>x.ref.isEqual(c.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(c.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),o}))}function fV(n,e,t){return zD(n,t).pipe(Jd((i,r)=>function GG(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function qG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return p1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return p1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return p1(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),by(),(0,yt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function p1(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function pV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class mV{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=zD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,yt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Ql(void 0),sb(),xi(([i,r])=>r.length>0||!i),(0,yt.U)(([i,r])=>r),cn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Jd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=pV(e);return fV(this.query,t,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(e={}){return f1(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),cn.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(cn.iC)}add(e){return this.ref.add(e)}doc(e){return new gV(this.ref.doc(e),this.afs)}}class gV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=_V(i,t);return new mV(r,o,this.afs)}snapshotChanges(){return function $G(n,e){return hV(n,e).pipe(Ql(void 0),sb(),(0,yt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,yt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,hn.D)(this.ref.get(e)).pipe(cn.iC)}}class WG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?zD(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),xi(t=>t.length>0),cn.iC):zD(this.query,this.afs.schedulers.outsideAngular).pipe(cn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Jd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=pV(e);return fV(this.query,t,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(e={}){return f1(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),cn.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(cn.iC)}}const ZG=new l.OlP("angularfire2.enableFirestorePersistence"),YG=new l.OlP("angularfire2.firestore.persistenceSettings"),KG=new l.OlP("angularfire2.firestore.settings"),QG=new l.OlP("angularfire2.firestore.use-emulator");function _V(n,e=(t=>t)){return{query:e(n),ref:n}}let yV=(()=>{class n{constructor(t,i,r,o,c,h,g,v,x,S,B,j,q,ne,oe,Ue,Ye){this.schedulers=g;const We=(0,fo.on)(t,h,i),Ke=x;S&&dV(We,h,B,q,ne,oe,j,Ue),[this.firestore,this.persistenceEnabled$]=(0,fo.cc)(`${We.name}.firestore`,"AngularFirestore",We.name,()=>{const At=h.runOutsideAngular(()=>We.firestore());if(o&&At.settings(o),Ke&&At.useEmulator(...Ke),r&&!ta(c)){const Nt=()=>{try{return(0,hn.D)(At.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Cn){return typeof console<"u"&&console.warn(Cn),nt(!1)}};return[At,h.runOutsideAngular(Nt)]}return[At,nt(!1)]},[o,Ke,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:c}=_V(r,i),h=this.schedulers.ngZone.run(()=>o);return new mV(h,c,this)}collectionGroup(t,i){const r=i||(c=>c),o=this.firestore.collectionGroup(t);return new WG(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new gV(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fo.Dh),l.LFG(fo.xv,8),l.LFG(ZG,8),l.LFG(KG,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(cn.HU),l.LFG(YG,8),l.LFG(QG,8),l.LFG(jD,8),l.LFG(oV,8),l.LFG(sV,8),l.LFG(aV,8),l.LFG(lV,8),l.LFG(cV,8),l.LFG(uV,8),l.LFG(hm,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const vV="firebasestorage.googleapis.com",bV="storageBucket";class Ni extends $t.ZR{constructor(e,t,i=0){super(m1(e),`Firebase Storage: ${t} (${m1(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ni.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return m1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var oi=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(oi||(oi={})),oi))();function m1(n){return"storage/"+n}function g1(){return new Ni(oi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function wV(){return new Ni(oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EV(){return new Ni(oi.CANCELED,"User canceled the upload/download.")}function CV(){return new Ni(oi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function J_(n){return new Ni(oi.INVALID_ARGUMENT,n)}function xV(){return new Ni(oi.APP_DELETED,"The Firebase app was deleted.")}function DV(n){return new Ni(oi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function x0(n,e){return new Ni(oi.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function D0(n){throw new Ni(oi.INTERNAL_ERROR,"Internal error: "+n)}class vo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=vo.makeFromUrl(e,t)}catch{return new vo(e,"")}if(""===i.path)return i;throw function l5(n){return new Ni(oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(Ke){Ke.path_=decodeURIComponent(Ke.path)}const S=t.replace(/[.]/g,"\\."),We=[{regex:h,indices:{bucket:1,path:3},postModify:function o(Ke){"/"===Ke.path.charAt(Ke.path.length-1)&&(Ke.path_=Ke.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===vV?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Ke=0;Ke<We.length;Ke++){const At=We[Ke],Nt=At.regex.exec(e);if(Nt){let Li=Nt[At.indices.path];Li||(Li=""),i=new vo(Nt[At.indices.bucket],Li),At.postModify(i);break}}if(null==i)throw function a5(n){return new Ni(oi.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class f5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function $D(n){return"string"==typeof n||n instanceof String}function IV(n){return _1()&&n instanceof Blob}function _1(){return typeof Blob<"u"&&!(0,$t.UG)()}function y1(n,e,t,i){if(i<e)throw J_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw J_(`Invalid value for '${n}'. Expected ${t} or less.`)}function Hu(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function SV(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Gh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Gh||(Gh={})),Gh))();function TV(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||r||o}class v5{constructor(e,t,i,r,o,c,h,g,v,x,S,B=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=x,this.connectionFactory_=S,this.retry=B,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,q)=>{this.resolve_=j,this.reject_=q,this.start_()})}start_(){const t=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const g=this.callback_(h,h.getResponse());!function g5(n){return void 0!==n}(g)?o():o(g)}catch(g){c(g)}else if(null!==h){const g=g1();g.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,g):g)}else c(r.canceled?this.appDelete_?xV():EV():wV())};this.canceled_?t(0,new GD(!1,null,!0)):this.backoffId_=function p5(n,e,t){let i=1,r=null,o=null,c=!1,h=0;function g(){return 2===h}let v=!1;function x(...oe){v||(v=!0,e.apply(null,oe))}function S(oe){r=setTimeout(()=>{r=null,n(j,g())},oe)}function B(){o&&clearTimeout(o)}function j(oe,...Ue){if(v)return void B();if(oe)return B(),void x.call(null,oe,...Ue);if(g()||c)return B(),void x.call(null,oe,...Ue);let We;i<64&&(i*=2),1===h?(h=2,We=0):We=1e3*(i+Math.random()),S(We)}let q=!1;function ne(oe){q||(q=!0,B(),!v&&(null!==r?(oe||(h=2),clearTimeout(r),S(0)):oe||(h=1)))}return S(0),o=setTimeout(()=>{c=!0,ne(!0)},t),ne}((i,r)=>{if(r)return void i(!1,new GD(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Gh.NO_ERROR,g=o.getStatus();if(!h||TV(g,this.additionalRetryCodes_)&&this.retry){const x=o.getErrorCode()===Gh.ABORT;return void i(!1,new GD(!1,null,x))}const v=-1!==this.successCodes_.indexOf(g);i(!0,new GD(v,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function m5(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class GD{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function I5(...n){const e=function D5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(_1())return new Blob(n);throw new Ni(oi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Zs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class v1{constructor(e,t){this.data=e,this.contentType=t||null}}function b1(n,e){switch(n){case Zs.RAW:return new v1(AV(e));case Zs.BASE64:case Zs.BASE64URL:return new v1(MV(n,e));case Zs.DATA_URL:return new v1(function M5(n){const e=new RV(n);return e.base64?MV(Zs.BASE64,e.rest):function A5(n){let e;try{e=decodeURIComponent(n)}catch{throw x0(Zs.DATA_URL,"Malformed data URL.")}return AV(e)}(e.rest)}(e),function R5(n){return new RV(n).contentType}(e))}throw g1()}function AV(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function MV(n,e){switch(n){case Zs.BASE64:{const r=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(r||o)throw x0(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Zs.BASE64URL:{const r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw x0(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function T5(n){if(typeof atob>"u")throw function h5(n){return new Ni(oi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:x0(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class RV{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw x0(Zs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function k5(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class xc{constructor(e,t){let i=0,r="";IV(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(IV(this.data_)){const r=function S5(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new xc(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new xc(i,!0)}}static getBlob(...e){if(_1()){const t=e.map(i=>i instanceof xc?i.data_:i);return new xc(I5.apply(null,t))}{const t=e.map(c=>$D(c)?b1(Zs.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let o=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)r[o++]=c[h]}),new xc(r,!0)}}uploadData(){return this.data_}}function w1(n){let e;try{e=JSON.parse(n)}catch{return null}return function y5(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function kV(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function F5(n,e){return e}class $o{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||F5}}let qD=null;function I0(){if(qD)return qD;const n=[];n.push(new $o("bucket")),n.push(new $o("generation")),n.push(new $o("metageneration")),n.push(new $o("name","fullPath",!0));const t=new $o("name");t.xform=function e(o,c){return function N5(n){return!$D(n)||n.length<2?n:kV(n)}(c)},n.push(t);const r=new $o("size");return r.xform=function i(o,c){return void 0!==c?Number(c):c},n.push(r),n.push(new $o("timeCreated")),n.push(new $o("updated")),n.push(new $o("md5Hash",null,!0)),n.push(new $o("cacheControl",null,!0)),n.push(new $o("contentDisposition",null,!0)),n.push(new $o("contentEncoding",null,!0)),n.push(new $o("contentLanguage",null,!0)),n.push(new $o("contentType",null,!0)),n.push(new $o("metadata","customMetadata",!0)),qD=n,qD}function OV(n,e,t){const i=w1(e);return null===i?null:function B5(n,e,t){const i={type:"file"},r=t.length;for(let o=0;o<r;o++){const c=t[o];i[c.local]=c.xform(i,e[c.server])}return function L5(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new vo(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(i,n),i}(n,i,t)}function E1(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}const PV="prefixes",FV="items";class Dc{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ic(n){if(!n)throw g1()}function WD(n,e){return function t(i,r){const o=OV(n,r,e);return Ic(null!==o),o}}function ey(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function o5(){return new Ni(oi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function r5(){return new Ni(oi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function n5(n){return new Ni(oi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function s5(n){return new Ni(oi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function S0(n){const e=ey(n);return function t(i,r){let o=e(i,r);return 404===i.getStatus()&&(o=function t5(n){return new Ni(oi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function NV(n,e,t){const r=Hu(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Dc(r,"GET",WD(n,t),c);return h.errorHandler=S0(e),h}function $5(n,e,t,i,r){const o={};o.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(o.delimiter=t),i&&(o.pageToken=i),r&&(o.maxResults=r);const h=Hu(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,x=new Dc(h,"GET",function j5(n,e){return function t(i,r){const o=function H5(n,e,t){const i=w1(t);return null===i?null:function U5(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[PV])for(const r of t[PV]){const o=r.replace(/\/$/,""),c=n._makeStorageReference(new vo(e,o));i.prefixes.push(c)}if(t[FV])for(const r of t[FV]){const o=n._makeStorageReference(new vo(e,r.name));i.items.push(o)}return i}(n,e,i)}(n,e,r);return Ic(null!==o),o}}(n,e.bucket),v);return x.urlParams=o,x.errorHandler=ey(e),x}function BV(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function Z5(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class ZD{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function C1(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Ic(!1)}return Ic(!!t&&-1!==(e||["active"]).indexOf(t)),t}const X5={STATE_CHANGED:"state_changed"},Go={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function x1(n){switch(n){case"running":case"pausing":case"canceling":return Go.RUNNING;case"paused":return Go.PAUSED;case"success":return Go.SUCCESS;case"canceled":return Go.CANCELED;default:return Go.ERROR}}class J5{constructor(e,t,i){if(function _5(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function ty(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let HV=null;class eq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw D0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw D0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw D0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw D0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw D0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class tq extends eq{initXhr(){this.xhr_.responseType="text"}}function El(){return HV?HV():new tq}class jV{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=I0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(oi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(TV(r.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=wV()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(oi.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function Y5(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),c=BV(e,i,r),h={name:c.fullPath},g=Hu(o,n.host,n._protocol),x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},S=E1(c,t),q=new Dc(g,"POST",function j(ne){let oe;C1(ne);try{oe=ne.getResponseHeader("X-Goog-Upload-URL")}catch{Ic(!1)}return Ic($D(oe)),oe},n.maxUploadRetryTime);return q.urlParams=h,q.headers=x,q.body=S,q.errorHandler=ey(e),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,El,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function K5(n,e,t,i){const g=new Dc(t,"POST",function o(v){const x=C1(v,["active","final"]);let S=null;try{S=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ic(!1)}S||Ic(!1);const B=Number(S);return Ic(!isNaN(B)),new ZD(B,i.size(),"final"===x)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=ey(e),g}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(r,El,t,i);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new ZD(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let c;try{c=function Q5(n,e,t,i,r,o,c,h){const g=new ZD(0,0);if(c?(g.current=c.current,g.total=c.total):(g.current=0,g.total=i.size()),i.size()!==g.total)throw function u5(){return new Ni(oi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=g.total-g.current;let x=v;r>0&&(x=Math.min(x,r));const S=g.current;let j="";j=0===x?"finalize":v===x?"upload, finalize":"upload";const q={"X-Goog-Upload-Command":j,"X-Goog-Upload-Offset":`${g.current}`},ne=i.slice(S,S+x);if(null===ne)throw CV();const We=new Dc(t,"POST",function oe(Ke,At){const Nt=C1(Ke,["active","final"]),Cn=g.current+x,Li=i.size();let wo;return wo="final"===Nt?WD(e,o)(Ke,At):null,new ZD(Cn,Li,"final"===Nt,wo)},e.maxUploadRetryTime);return We.headers=q,We.body=ne.uploadData(),We.progressCallback=h||null,We.errorHandler=ey(n),We}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const h=this._ref.storage._makeRequest(c,El,r,o,!1);this._request=h,h.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=NV(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,El,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function VV(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},g=function h(){let We="";for(let Ke=0;Ke<2;Ke++)We+=Math.random().toString().slice(2);return We}();c["Content-Type"]="multipart/related; boundary="+g;const v=BV(e,i,r),x=E1(v,t),j=xc.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+g+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+g+"--");if(null===j)throw CV();const q={name:v.fullPath},ne=Hu(o,n.host,n._protocol),Ue=n.maxUploadRetryTime,Ye=new Dc(ne,"POST",WD(n,t),Ue);return Ye.urlParams=q,Ye.headers=c,Ye.body=j.uploadData(),Ye.errorHandler=ey(e),Ye}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,El,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=EV(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=x1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const o=new J5(t||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(x1(this._state)){case Go.SUCCESS:ty(this._resolve.bind(null,this.snapshot))();break;case Go.CANCELED:case Go.ERROR:ty(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(x1(this._state)){case Go.RUNNING:case Go.PAUSED:e.next&&ty(e.next.bind(e,this.snapshot))();break;case Go.SUCCESS:e.complete&&ty(e.complete.bind(e))();break;default:e.error&&ty(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class fm{constructor(e,t){this._service=e,this._location=t instanceof vo?t:vo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new fm(e,t)}get root(){const e=new vo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kV(this._location.path)}get storage(){return this._service}get parent(){const e=function O5(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new vo(this._location.bucket,e);return new fm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw DV(e)}}function $V(n,e,t){return D1.apply(this,arguments)}function D1(){return D1=(0,Ce.Z)(function*(n,e,t){const r=yield GV(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield $V(n,e,r.nextPageToken))}),D1.apply(this,arguments)}function GV(n,e){null!=e&&"number"==typeof e.maxResults&&y1("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=$5(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,El)}function fq(n){n._throwIfRoot("getDownloadURL");const e=function G5(n,e,t){const r=Hu(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Dc(r,"GET",function z5(n,e){return function t(i,r){const o=OV(n,r,e);return Ic(null!==o),function V5(n,e,t,i){const r=w1(e);if(null===r||!$D(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const c=encodeURIComponent;return o.split(",").map(v=>{const S=n.fullPath;return Hu("/b/"+c(n.bucket)+"/o/"+c(S),t,i)+SV({alt:"media",token:v})})[0]}(o,r,n.host,n._protocol)}}(n,t),c);return h.errorHandler=S0(e),h}(n.storage,n._location,I0());return n.storage.makeRequestWithTokens(e,El).then(t=>{if(null===t)throw function d5(){return new Ni(oi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function qV(n,e){const t=function P5(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new vo(n._location.bucket,t);return new fm(n.storage,i)}function WV(n,e){if(n instanceof I1){const t=n;if(null==t._bucket)throw function c5(){return new Ni(oi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bV+"' property when initializing the app?")}();const i=new fm(t,t._bucket);return null!=e?WV(i,e):i}return void 0!==e?qV(n,e):n}function _q(n,e){if(e&&function mq(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof I1)return function gq(n,e){return new fm(n,e)}(n,e);throw J_("To use ref(service, url), the first argument must be a Storage instance.")}return WV(n,e)}function ZV(n,e){const t=e?.[bV];return null==t?null:vo.makeFromBucketSpec(t,n)}class I1{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=vV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?vo.makeFromBucketSpec(r,this._host):ZV(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?vo.makeFromBucketSpec(this._url,e):ZV(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){y1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){y1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ce.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ce.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fm(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new f5(xV());{const c=function x5(n,e,t,i,r,o,c=!0){const h=SV(n.urlParams),g=n.url+h,v=Object.assign({},n.headers);return function E5(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function b5(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function w5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,o),function C5(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,i),new v5(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var i=this;return(0,Ce.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,o).getPromise()})()}}const YV="@firebase/storage",QV="storage";function XV(n,e){return _q(n=(0,$t.m9)(n),e)}function Sq(n=(0,Br.getApp)(),e){n=(0,$t.m9)(n);const i=(0,Br._getProvider)(n,QV).getImmediate({identifier:e}),r=(0,$t.P0)("storage");return r&&JV(i,...r),i}function JV(n,e,t,i={}){!function yq(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,$t.Sg)(r,n.app.options.projectId))}(n,e,t,i)}function Tq(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new I1(t,i,r,e,Br.SDK_VERSION)}!function Aq(){(0,Br._registerComponent)(new Su.wA(QV,Tq,"PUBLIC").setMultipleInstances(!0)),(0,Br.registerVersion)(YV,"0.11.2",""),(0,Br.registerVersion)(YV,"0.11.2","esm2017")}();class YD{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class eU{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new YD(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new YD(i,this,this._ref))},t)}on(e,t,i,r){let o;return t&&(o="function"==typeof t?c=>t(new YD(c,this,this._ref)):{next:t.next?c=>t.next(new YD(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,i||void 0,r||void 0)}}class tU{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ju(e,this._service))}get items(){return this._delegate.items.map(e=>new ju(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ju{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Iq(n,e){return qV(n,e)}(this._delegate,e);return new ju(t,this.storage)}get root(){return new ju(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ju(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new eU(function vq(n,e,t){return function lq(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new jV(n,new xc(e),t)}(n=(0,$t.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Zs.RAW,i){this._throwIfRoot("putString");const r=b1(t,e),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new eU(new jV(this._delegate,new xc(r.data,!0),o),this)}listAll(){return function Cq(n){return function uq(n){const e={prefixes:[],items:[]};return $V(n,e).then(()=>e)}(n=(0,$t.m9)(n))}(this._delegate).then(e=>new tU(e,this.storage))}list(e){return function Eq(n,e){return GV(n=(0,$t.m9)(n),e)}(this._delegate,e||void 0).then(t=>new tU(t,this.storage))}getMetadata(){return function bq(n){return function dq(n){n._throwIfRoot("getMetadata");const e=NV(n.storage,n._location,I0());return n.storage.makeRequestWithTokens(e,El)}(n=(0,$t.m9)(n))}(this._delegate)}updateMetadata(e){return function wq(n,e){return function hq(n,e){n._throwIfRoot("updateMetadata");const t=function q5(n,e,t,i){const o=Hu(e.fullServerUrl(),n.host,n._protocol),h=E1(t,i),v=n.maxOperationRetryTime,x=new Dc(o,"PATCH",WD(n,i),v);return x.headers={"Content-Type":"application/json; charset=utf-8"},x.body=h,x.errorHandler=S0(e),x}(n.storage,n._location,e,I0());return n.storage.makeRequestWithTokens(t,El)}(n=(0,$t.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function xq(n){return fq(n=(0,$t.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Dq(n){return function pq(n){n._throwIfRoot("deleteObject");const e=function W5(n,e){const i=Hu(e.fullServerUrl(),n.host,n._protocol),h=new Dc(i,"DELETE",function c(g,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=S0(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,El)}(n=(0,$t.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw DV(e)}}class nU{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(iU(e))throw J_("ref() expected a child path but got a URL, use refFromURL instead.");return new ju(XV(this._delegate,e),this)}refFromURL(e){if(!iU(e))throw J_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{vo.makeFromUrl(e,this._delegate.host)}catch{throw J_("refFromUrl() expected a valid full URL but got an invalid one.")}return new ju(XV(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){JV(this._delegate,e,t,i)}}function iU(n){return/^[A-Za-z]+:\/\//.test(n)}function Oq(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new nU(t,i)}function rU(n){const e=function Fq(n){return new or.y(e=>{const t=c=>e.next(c);t(n.snapshot);const o=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){o()}}).pipe(Ey(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,yt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function KD(n){return{getDownloadURL:()=>nt(void 0).pipe(cn.fc,Oi(()=>n.getDownloadURL()),cn.iC),getMetadata:()=>nt(void 0).pipe(cn.fc,Oi(()=>n.getMetadata()),cn.iC),delete:()=>(0,hn.D)(n.delete()),child:e=>KD(n.child(e)),updateMetadata:e=>(0,hn.D)(n.updateMetadata(e)),put:(e,t)=>rU(n.put(e,t)),putString:(e,t,i)=>rU(n.putString(e,t,i)),list:e=>(0,hn.D)(n.list(e)),listAll:()=>(0,hn.D)(n.listAll())}}!function Pq(n){const e={TaskState:Go,TaskEvent:X5,StringFormat:Zs,Storage:nU,Reference:ju};n.INTERNAL.registerComponent(new Su.wA("storage-compat",Oq,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(YC.Z);const Nq=new l.OlP("angularfire2.storageBucket"),Lq=new l.OlP("angularfire2.storage.maxUploadRetryTime"),Bq=new l.OlP("angularfire2.storage.maxOperationRetryTime"),Vq=new l.OlP("angularfire2.storage.use-emulator");let Uq=(()=>{class n{constructor(t,i,r,o,c,h,g,v,x,S){const B=(0,fo.on)(t,c,i);this.storage=(0,fo.cc)(`${B.name}.storage.${r}`,"AngularFireStorage",B.name,()=>{const j=c.runOutsideAngular(()=>B.storage(r||void 0)),q=x;return q&&j.useEmulator(...q),g&&j.setMaxUploadRetryTime(g),v&&j.setMaxOperationRetryTime(v),j},[g,v])}ref(t){return KD(this.storage.ref(t))}refFromURL(t){return KD(this.storage.refFromURL(t))}upload(t,i,r){return KD(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fo.Dh),l.LFG(fo.xv,8),l.LFG(Nq,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(cn.HU),l.LFG(Lq,8),l.LFG(Bq,8),l.LFG(Vq,8),l.LFG(hm,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),QD=(()=>{const e=class{constructor(i,r){this.afs=i,this.storage=r,this.ticketsCollection=i.collection("Tickets"),this.tickets=this.ticketsCollection.valueChanges({idField:"id"})}getTicketById(i){return this.afs.doc(`Tickets/${i}`).valueChanges()}capitalizeFirstLetter(i){return i.charAt(0).toUpperCase()+i.slice(1)}getAllTicketsBySearchTerm(i){const r=this.capitalizeFirstLetter(i),o=r,c=r+"\uf8ff";return this.afs.collection("Tickets",h=>h.where("name",">=",o).where("name","<=",c).orderBy("name").limit(5)).valueChanges({idField:"id"})}getAllTicketsByTag(i){return"All exhibition"==i?this.tickets:this.afs.collection("Tickets",r=>r.where("tags","array-contains",i).orderBy("name")).valueChanges({idField:"id"})}getAllTickets(){return this.tickets.pipe((0,Wi.b)(i=>{console.log("Service fetched tickets:",i)}))}getAllTags(){return[{name:"All exhibition",count:10},{name:"Literary",count:1},{name:"Photography",count:1},{name:"Art",count:6},{name:"Historical",count:2}]}addTicket(i){return this.ticketsCollection.add(i)}deleteTicket(i){return this.ticketsCollection.doc(i).delete()}updateTicket(i,r){return this.ticketsCollection.doc(i.toString()).update(r)}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.LFG(yV),l.LFG(Uq))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();var Hq=V(1389);class S1{constructor(e){return e}}class T1{constructor(){return(0,cn.vb)("auth")}}const A1=new l.OlP("angularfire2.auth-instances");function zq(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new S1(i)}}const $q={provide:T1,deps:[[new l.FiY,A1]]},Gq={provide:S1,useFactory:function jq(n,e){const t=(0,cn.JM)("auth",n,e);return t&&new S1(t)},deps:[[new l.FiY,A1],dm]};let qq=(()=>{class n{constructor(){(0,Uu.KN)("angularfire",cn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Gq,$q]}),n})();function Wq(n,...e){return{ngModule:qq,providers:[{provide:A1,useFactory:zq(n),multi:!0,deps:[l.R0b,l.zs3,cn.HU,PD,[new l.FiY,hm],...e]}]}}const Zq=(0,cn.u3)(Hq.o,!0);var XD=function(){return XD=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},XD.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Yq={includeMetadataChanges:!1};function nW(n,e){return void 0===e&&(e={}),function tW(n){return function R1(n,e){return void 0===e&&(e=Yq),new or.y(function(t){return{unsubscribe:Lk(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}(n,{includeMetadataChanges:!0}).pipe((0,yt.U)(function(e){return e.docs}))}(n).pipe((0,yt.U)(function(t){return t.map(function(i){return function sU(n,e){var t;void 0===e&&(e={});var i=n.data(e);return n.exists()&&"object"==typeof i&&null!==i&&e.idField?XD(XD({},i),((t={})[e.idField]=n.id,t)):i}(i,e)})}))}class JD{constructor(e){return e}}const uU="firestore",P1=new l.OlP("angularfire2.firestore-instances");function sW(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new JD(i)}}const aW={provide:class rW{constructor(){return(0,cn.vb)(uU)}},deps:[[new l.FiY,P1]]},lW={provide:JD,useFactory:function oW(n,e){const t=(0,cn.JM)(uU,n,e);return t&&new JD(t)},deps:[[new l.FiY,P1],dm]};let cW=(()=>{class n{constructor(){(0,Uu.KN)("angularfire",cn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[lW,aW]}),n})();function uW(n,...e){return{ngModule:cW,providers:[{provide:P1,useFactory:sW(n),multi:!0,deps:[l.R0b,l.zs3,cn.HU,PD,[new l.FiY,T1],[new l.FiY,hm],...e]}]}}const dW=(0,cn.u3)(nW,!0),hW=(0,cn.u3)(Sk,!0),fW=(0,cn.u3)(P4,!0);let pW=(()=>{const e=class{constructor(i){this.firestore=i}getTestData(){const i=hW(this.firestore,"Tickets");return console.log(i),dW(i)}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.LFG(JD))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const mW=["*"],yW=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],vW=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],bW=new l.OlP("MAT_CARD_CONFIG");let F1=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bW,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:mW,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),dU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),N1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),hU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:vW,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,i){1&t&&(l.F$t(yW),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),fU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]}),n})(),MW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Er,io,Er]}),n})();function pU(...n){const e=(0,Ls.jO)(n),{args:t,keys:i}=zd(n),r=new or.y(o=>{const{length:c}=t;if(!c)return void o.complete();const h=new Array(c);let g=c,v=c;for(let x=0;x<c;x++){let S=!1;(0,Fo.Xf)(t[x]).subscribe((0,qi.x)(o,B=>{S||(S=!0,v--),h[x]=B},()=>g--,void 0,()=>{(!g||!S)&&(v||o.next(i?rS(i,h):h),o.complete())}))}});return e?r.pipe(aw(e)):r}let mU=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),pm=(()=>{class n extends mU{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Sc=new l.OlP("NgValueAccessor"),kW={provide:Sc,useExisting:(0,l.Gpc)(()=>mm),multi:!0},PW=new l.OlP("CompositionEventMode");let mm=(()=>{class n extends mU{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function OW(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(PW,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[l._Bn([kW]),l.qOj]}),n})();const FW=!1;function qh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function _U(n){return null!=n&&"number"==typeof n.length}const bo=new l.OlP("NgValidators"),Wh=new l.OlP("NgAsyncValidators"),NW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Zh{static min(e){return function yU(n){return e=>{if(qh(e.value)||qh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function vU(n){return e=>{if(qh(e.value)||qh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return bU(e)}static requiredTrue(e){return function wU(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function EU(n){return qh(n.value)||NW.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function CU(n){return e=>qh(e.value)||!_U(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function xU(n){return e=>_U(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function DU(n){if(!n)return eI;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(qh(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return RU(e)}static composeAsync(e){return kU(e)}}function bU(n){return qh(n.value)?{required:!0}:null}function eI(n){return null}function IU(n){return null!=n}function SU(n){const e=(0,l.QGY)(n)?(0,hn.D)(n):n;if(FW&&!(0,l.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,t)}return e}function TU(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function AU(n,e){return e.map(t=>t(n))}function MU(n){return n.map(e=>function LW(n){return!n.validate}(e)?e:t=>e.validate(t))}function RU(n){if(!n)return null;const e=n.filter(IU);return 0==e.length?null:function(t){return TU(AU(t,e))}}function L1(n){return null!=n?RU(MU(n)):null}function kU(n){if(!n)return null;const e=n.filter(IU);return 0==e.length?null:function(t){return pU(AU(t,e).map(SU)).pipe((0,yt.U)(TU))}}function B1(n){return null!=n?kU(MU(n)):null}function OU(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function PU(n){return n._rawValidators}function FU(n){return n._rawAsyncValidators}function V1(n){return n?Array.isArray(n)?n:[n]:[]}function tI(n,e){return Array.isArray(n)?n.includes(e):n===e}function NU(n,e){const t=V1(e);return V1(n).forEach(r=>{tI(t,r)||t.push(r)}),t}function LU(n,e){return V1(e).filter(t=>!tI(n,t))}class BU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=L1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=B1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class qo extends BU{get formDirective(){return null}get path(){return null}}class zu extends BU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let T0=(()=>{class n extends VU{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zu,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),U1=(()=>{class n extends VU{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(qo,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();function UU(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const z1=!1,A0="VALID",iI="INVALID",ny="PENDING",M0="DISABLED";function $1(n){return(rI(n)?n.validators:n)||null}function G1(n,e){return(rI(e)?e.asyncValidators:n)||null}function rI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class zU{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===A0}get invalid(){return this.status===iI}get pending(){return this.status==ny}get disabled(){return this.status===M0}get enabled(){return this.status!==M0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(NU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(NU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(LU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(LU(e,this._rawAsyncValidators))}hasValidator(e){return tI(this._rawValidators,e)}hasAsyncValidator(e){return tI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ny,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=M0,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=A0,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===A0||this.status===ny)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?M0:A0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ny,this._hasOwnPendingAsyncValidator=!0;const t=SU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?M0:this.errors?iI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ny)?ny:this._anyControlsHaveStatus(iI)?iI:A0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function $W(n){return Array.isArray(n)?L1(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function GW(n){return Array.isArray(n)?B1(n):n||null}(this._rawAsyncValidators)}}class R0 extends zU{constructor(e,t,i){super($1(t),G1(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function jU(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,z1?function zW(n,e){return`Must supply a value for form control ${UU(n,e)}`}(e,r):"")})})(this,!0,e),Object.keys(e).forEach(i=>{(function HU(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,z1?function HW(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new l.vHH(1001,z1?function jW(n,e){return`Cannot find form control ${UU(n,e)}`}(e,t):"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const gm=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>k0}),k0="always";function oI(n,e){return[...e.path,n]}function O0(n,e,t=k0){q1(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ZW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&$U(n,e)})}(n,e),function KW(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function YW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&$U(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function WW(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function sI(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),lI(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function aI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function q1(n,e){const t=PU(n);null!==e.validator?n.setValidators(OU(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=FU(n);null!==e.asyncValidator?n.setAsyncValidators(OU(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();aI(e._rawValidators,r),aI(e._rawAsyncValidators,r)}function lI(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=PU(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(c=>c!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=FU(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(c=>c!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return aI(e._rawValidators,i),aI(e._rawAsyncValidators,i),t}function $U(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function GU(n,e){q1(n,e)}function Z1(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function qU(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Y1(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===mm?t=o:function JW(n){return Object.getPrototypeOf(n.constructor)===pm}(o)?i=o:r=o}),r||i||t||null}const t8={provide:qo,useExisting:(0,l.Gpc)(()=>F0)},P0=(()=>Promise.resolve())();let F0=(()=>{class n extends qo{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new R0({},L1(t),B1(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){P0.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),O0(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){P0.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){P0.then(()=>{const i=this._findContainer(t.path),r=new R0({});GU(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){P0.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){P0.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,qU(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bo,10),l.Y36(Wh,10),l.Y36(gm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([t8]),l.qOj]}),n})();function WU(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ZU(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $u=class extends zU{constructor(e=null,t,i){super($1(t),G1(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ZU(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){WU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){WU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ZU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let YU=(()=>{class n extends qo{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return oI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const r8={provide:zu,useExisting:(0,l.Gpc)(()=>cI)},QU=(()=>Promise.resolve())();let cI=(()=>{class n extends zu{constructor(t,i,r,o,c,h){super(),this._changeDetectorRef=c,this.callSetDisabledState=h,this.control=new $u,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Y1(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Z1(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){O0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){QU.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,l.D6c)(i);QU.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?oI(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(qo,9),l.Y36(bo,10),l.Y36(Wh,10),l.Y36(Sc,10),l.Y36(l.sBO,8),l.Y36(gm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([r8]),l.qOj,l.TTD]}),n})(),K1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),JU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Q1=new l.OlP("NgModelWithFormControlWarning"),c8={provide:zu,useExisting:(0,l.Gpc)(()=>X1)};let X1=(()=>{class n extends zu{set isDisabled(t){}constructor(t,i,r,o,c){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=c,this.update=new l.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=Y1(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&sI(i,this,!1),O0(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Z1(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&sI(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(bo,10),l.Y36(Wh,10),l.Y36(Sc,10),l.Y36(Q1,8),l.Y36(gm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l._Bn([c8]),l.qOj,l.TTD]}),n})();const u8={provide:qo,useExisting:(0,l.Gpc)(()=>N0)};let N0=(()=>{class n extends qo{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return O0(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){sI(t.control||null,t,!1),function e8(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,qU(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(sI(i||null,t),(n=>n instanceof $u)(r)&&(O0(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);GU(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function QW(n,e){return lI(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){q1(this.form,this),this._oldForm&&lI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bo,10),l.Y36(Wh,10),l.Y36(gm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([u8]),l.qOj,l.TTD]}),n})();const d8={provide:qo,useExisting:(0,l.Gpc)(()=>uI)};let uI=(()=>{class n extends YU{constructor(t,i,r){super(),this._parent=t,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){nH(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(qo,13),l.Y36(bo,10),l.Y36(Wh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l._Bn([d8]),l.qOj]}),n})();const h8={provide:qo,useExisting:(0,l.Gpc)(()=>J1)};let J1=(()=>{class n extends qo{constructor(t,i,r){super(),this._parent=t,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return oI(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){nH(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(qo,13),l.Y36(bo,10),l.Y36(Wh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l._Bn([h8]),l.qOj]}),n})();function nH(n){return!(n instanceof uI||n instanceof N0||n instanceof J1)}const f8={provide:zu,useExisting:(0,l.Gpc)(()=>eO)};let eO=(()=>{class n extends zu{set isDisabled(t){}constructor(t,i,r,o,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Y1(0,o)}ngOnChanges(t){this._added||this._setUpControl(),Z1(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return oI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(qo,13),l.Y36(bo,10),l.Y36(Wh,10),l.Y36(Sc,10),l.Y36(Q1,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([f8]),l.qOj,l.TTD]}),n})();const p8={provide:Sc,useExisting:(0,l.Gpc)(()=>tO),multi:!0};function iH(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let tO=(()=>{class n extends pm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=iH(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function m8(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&l.NdJ("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([p8]),l.qOj]}),n})(),rH=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(iH(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(tO,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const g8={provide:Sc,useExisting:(0,l.Gpc)(()=>nO),multi:!0};function oH(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let nO=(()=>{class n extends pm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(o=>this._getOptionId(o));i=(o,c)=>{o._setSelected(r.indexOf(c.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const c=o;for(let h=0;h<c.length;h++){const v=this._getOptionValue(c[h].value);r.push(v)}}else{const c=i.options;for(let h=0;h<c.length;h++){const g=c[h];if(g.selected){const v=this._getOptionValue(g.value);r.push(v)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function _8(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&l.NdJ("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([g8]),l.qOj]}),n})(),sH=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(oH(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(oH(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(nO,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),_m=(()=>{class n{constructor(){this._validator=eI}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):eI,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const b8={provide:bo,useExisting:(0,l.Gpc)(()=>dI),multi:!0};let dI=(()=>{class n extends _m{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=t=>bU}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([b8]),l.qOj]}),n})(),gH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[JU]}),n})(),S8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gm,useValue:t.callSetDisabledState??k0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[gH]}),n})(),T8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Q1,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:gm,useValue:t.callSetDisabledState??k0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[gH]}),n})();class iO{}class Yh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(o=>o.toString()),r.length>0){const o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Yh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Yh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Yh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===o.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class A8{encodeKey(e){return yH(e)}encodeValue(e){return yH(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const R8=/%(\d[a-f0-9])/gi,k8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yH(n){return encodeURIComponent(n).replace(R8,(e,t)=>k8[t]??e)}function hI(n){return`${n}`}class Kh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new A8,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function M8(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,h]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],g=t.get(c)||[];g.push(h),t.set(c,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(hI):[hI(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Kh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(hI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(hI(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class O8{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function vH(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function bH(n){return typeof Blob<"u"&&n instanceof Blob}function wH(n){return typeof FormData<"u"&&n instanceof FormData}class L0{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function P8(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Yh),this.context||(this.context=new O8),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new Kh,this.urlWithParams=t}serializeBody(){return null===this.body?null:vH(this.body)||bH(this.body)||wH(this.body)||function F8(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Kh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wH(this.body)?null:bH(this.body)?this.body.type||null:vH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Kh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,v=e.params||this.params;const x=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((S,B)=>S.set(B,e.setHeaders[B]),g)),e.setParams&&(v=Object.keys(e.setParams).reduce((S,B)=>S.set(B,e.setParams[B]),v)),new L0(t,i,o,{params:v,headers:g,context:x,reportProgress:h,responseType:r,withCredentials:c})}}var eo=(()=>((eo=eo||{})[eo.Sent=0]="Sent",eo[eo.UploadProgress=1]="UploadProgress",eo[eo.ResponseHeader=2]="ResponseHeader",eo[eo.DownloadProgress=3]="DownloadProgress",eo[eo.Response=4]="Response",eo[eo.User=5]="User",eo))();class N8{constructor(e,t=200,i="OK"){this.headers=e.headers||new Yh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class rO extends N8{constructor(e={}){super(e),this.type=eo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new rO({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function oO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let sO=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof L0)o=t;else{let g,v;g=r.headers instanceof Yh?r.headers:new Yh(r.headers),r.params&&(v=r.params instanceof Kh?r.params:new Kh({fromObject:r.params})),o=new L0(t,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=nt(o).pipe(sc(g=>this.handler.handle(g)));if(t instanceof L0||"events"===r.observe)return c;const h=c.pipe(xi(g=>g instanceof rO));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,yt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,yt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,yt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,yt.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Kh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,oO(r,i))}post(t,i,r={}){return this.request("POST",t,oO(r,i))}put(t,i,r={}){return this.request("PUT",t,oO(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(iO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Y8=["*"];let pI;function B0(n){return function K8(){if(void 0===pI&&(pI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(pI=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return pI}()?.createHTML(n)||n}function AH(n){return Error(`Unable to find icon with the name "${n}"`)}function MH(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function RH(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ym{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let mI=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new ym(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const c=this._sanitizer.sanitize(l.q3G.HTML,r);if(!c)throw RH(r);const h=B0(c);return this._addSvgIconConfig(t,i,new ym("",h,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new ym(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(l.q3G.HTML,i);if(!o)throw RH(i);const c=B0(o);return this._addSvgIconSetConfig(t,new ym("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw MH(t);const r=this._cachedIconsByUrl.get(i);return r?nt(gI(r)):this._loadSvgIconFromConfig(new ym(t,null)).pipe((0,Wi.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,yt.U)(o=>gI(o)))}getNamedSvgIcon(t,i=""){const r=kH(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):yu(AH(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?nt(gI(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,yt.U)(i=>gI(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?nt(r):pU(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(xa(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,c.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),nt(null)})))).pipe((0,yt.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw AH(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(c,t,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Wi.b)(i=>t.svgText=i),(0,yt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?nt(null):this._fetchIcon(t).pipe((0,Wi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const c=o.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const h=this._svgElementFromString(B0("<svg></svg>"));return h.appendChild(c),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(B0("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:c,value:h}=r[o];"id"!==c&&i.setAttribute(c,h)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function Q8(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!c)throw MH(i);const h=this._inProgressUrlFetches.get(c);if(h)return h;const g=this._httpClient.get(c,{responseType:"text",withCredentials:o}).pipe((0,yt.U)(v=>B0(v)),Eg(()=>this._inProgressUrlFetches.delete(c)),(0,FB.B)());return this._inProgressUrlFetches.set(c,g),g}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(kH(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return J8(o)?new ym(o.url,null,o.options):new ym(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sO,8),l.LFG(ma),l.LFG(re,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gI(n){return n.cloneNode(!0)}function kH(n,e){return n+":"+e}function J8(n){return!(!n.url||!n.options)}const e9=Aw(class{constructor(n){this._elementRef=n}}),t9=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),n9=new l.OlP("mat-icon-location",{providedIn:"root",factory:function i9(){const n=(0,l.f3M)(re),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),OH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],r9=OH.map(n=>`[${n}]`).join(", "),o9=/^url\(['"]?#(.*?)['"]?\)$/;let _I=(()=>{class n extends e9{get inline(){return this._inline}set inline(t){this._inline=No(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,c,h){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=tc.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(c=>{o.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(r9),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)OH.forEach(c=>{const h=i[o],g=h.getAttribute(c),v=g?g.match(o9):null;if(v){let x=r.get(h);x||(x=[],r.set(h,x)),x.push({name:c,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(wr(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(mI),l.$8M("aria-hidden"),l.Y36(n9),l.Y36(l.qLn),l.Y36(t9,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:Y8,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),s9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Er,Er]}),n})(),a9=(()=>{const e=class{constructor(i,r){this.route=i,this.router=r,this.searchTerm=""}ngOnInit(){this.route.params.subscribe(i=>{i.searchTerm&&(this.searchTerm=i.searchTerm)})}search(){this.router.navigateByUrl(this.searchTerm?"/search/"+this.searchTerm:"/")}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(Sa),l.Y36(Fi))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-search"]],decls:5,vars:1,consts:[["type","text","placeholder","Search Museums",3,"ngModel","ngModelChange","change"],[3,"click"]],template:function(r,o){1&r&&(l.TgZ(0,"div")(1,"input",0),l.NdJ("ngModelChange",function(h){return o.searchTerm=h})("change",function(){return o.search()}),l.qZA(),l.TgZ(2,"button",1),l.NdJ("click",function(){return o.search()}),l.TgZ(3,"mat-icon"),l._uU(4,"search"),l.qZA()()()),2&r&&(l.xp6(1),l.Q6J("ngModel",o.searchTerm))},dependencies:[mm,T0,cI,_I],styles:["div[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:3rem;margin-bottom:1.5rem}div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:10rem 0 0 10rem;border:none;height:3rem;width:20rem;background-color:#fff;padding:1.2rem;font-size:1rem;font-weight:500;outline:none}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;height:3rem;width:5rem;font-size:1rem;border-radius:0 10rem 10rem 0;border:none;background-color:green;opacity:.8;outline:none}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer}"]}),n})();function l9(n,e){if(1&n&&(l.TgZ(0,"a",2),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.MGl("routerLink","/tag/",t.name,""),l.xp6(1),l.AsE(" ",t.name,"(",t.count,") ")}}function c9(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,l9,2,3,"a",1),l.qZA()),2&n){const t=l.oxw();l.Udp("justify-content",t.justifyContent),l.xp6(1),l.Q6J("ngForOf",t.tags)}}function u9(n,e){if(1&n&&(l.TgZ(0,"a",2),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.MGl("routerLink","/tag/",t,""),l.xp6(1),l.hij(" ",t," ")}}function d9(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,u9,2,2,"a",1),l.qZA()),2&n){const t=l.oxw();l.Udp("justify-content",t.justifyContent),l.xp6(1),l.Q6J("ngForOf",t.ticketPageTags)}}let h9=(()=>{const e=class{constructor(i){this.TicketService=i,this.justifyContent="center"}ngOnInit(){this.tags=this.TicketService.getAllTags()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(QD))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-tags"]],inputs:{ticketPageTags:"ticketPageTags",justifyContent:"justifyContent"},decls:2,vars:2,consts:[[3,"justifyContent",4,"ngIf"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(r,o){1&r&&(l.YNc(0,c9,2,3,"div",0),l.YNc(1,d9,2,3,"div",0)),2&r&&(l.Q6J("ngIf",o.tags),l.xp6(1),l.Q6J("ngIf",o.ticketPageTags))},dependencies:[Yo,tr,Aa],styles:["div[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#ccff99;padding:.3rem 1rem;margin:.2rem .15rem;border-radius:10rem;font-weight:600;color:green}"]}),n})();function f9(n,e){if(1&n&&(l.TgZ(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title"),l._uU(3),l.qZA()(),l.TgZ(4,"mat-card-content")(5,"a",2),l._uU(6),l.qZA()()()),2&n){const t=l.oxw();l.xp6(3),l.Oqu(t.notFoundMessage),l.xp6(2),l.s9C("routerLink",t.resetLinkRoute),l.xp6(1),l.Oqu(t.resetLinkText)}}let lO=(()=>{const e=class{constructor(){this.visible=!1,this.notFoundMessage="Nothing found!",this.resetLinkText="Reset",this.resetLinkRoute="/"}};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-not-found"]],inputs:{visible:"visible",notFoundMessage:"notFoundMessage",resetLinkText:"resetLinkText",resetLinkRoute:"resetLinkRoute"},decls:1,vars:1,consts:[["class","not-found-card",4,"ngIf"],[1,"not-found-card"],["mat-button","",3,"routerLink"]],template:function(r,o){1&r&&l.YNc(0,f9,7,3,"mat-card",0),2&r&&l.Q6J("ngIf",o.visible)},dependencies:[tr,Aa,F1,N1,hU,dU,Zy],styles:["div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;font-size:1.5rem;font-weight:100;height:20vh}div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem;background-color:green;color:#fff;border-radius:10rem;padding:.7rem 1rem;margin:1rem;opacity:.8}div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer}mat-card[_ngcontent-%COMP%]{max-width:22rem;padding:1rem;margin-top:1.5rem;margin:1.5rem auto}"]}),n})(),cO=(()=>{const e=class{transform(i){return i.toString()+" Ft"}};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=l.Yjl({name:"priceHUF",type:e,pure:!0}),n})();function p9(n,e){if(1&n&&(l.TgZ(0,"li",3)(1,"a",4)(2,"mat-card",5),l._UZ(3,"img",6),l.TgZ(4,"mat-card-content",7)(5,"div",8),l._uU(6),l.qZA(),l.TgZ(7,"div",9),l._uU(8),l.ALo(9,"priceHUF"),l.qZA()()()()()),2&n){const t=e.$implicit;l.xp6(1),l.MGl("routerLink","/ticket/",t.id,""),l.xp6(2),l.Udp("width","100%")("height","320px"),l.Q6J("src","assets/images/"+t.imageUrl,l.LSH),l.xp6(3),l.hij(" ",t.name," "),l.xp6(2),l.hij(" Price: ",l.lcZ(9,8,t.price)," ")}}let yI=(()=>{const e=class{constructor(i,r,o,c){this.router=i,this.ticketService=r,this.route=o,this.firebaseTestService=c,this.tickets=[],this.testData=[]}ngOnInit(){this.firebaseTestService.getTestData().subscribe({next:i=>{console.log("Data from Firestore:",i),this.testData=i},error:i=>{console.error("Failed to connect to Firebase:",i)}}),this.route.params.subscribe(i=>{if(i.searchTerm){const r=i.searchTerm.toLowerCase();this.ticketService.getAllTicketsBySearchTerm(r).subscribe(o=>{this.tickets=o,console.log(this.tickets)})}else i.tag?this.ticketService.getAllTicketsByTag(i.tag).subscribe(o=>{this.tickets=o,console.log(this.tickets)}):this.ticketService.getAllTickets().subscribe(r=>{this.tickets=r})})}goToTicket(i){this.router.navigate(["/ticket",i])}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(Fi),l.Y36(QD),l.Y36(Sa),l.Y36(pW))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-home"]],decls:5,vars:2,consts:[["resetLinkText","Reset Search",3,"visible"],[1,"card-list"],["class","card-list-item",4,"ngFor","ngForOf"],[1,"card-list-item"],[1,"card-link",3,"routerLink"],[1,"card"],["mat-card-image","","alt","",3,"src"],[1,"card-content"],[1,"card-title"],[1,"card-subtitle"]],template:function(r,o){1&r&&(l._UZ(0,"app-search")(1,"app-tags")(2,"app-not-found",0),l.TgZ(3,"ul",1),l.YNc(4,p9,10,10,"li",2),l.qZA()),2&r&&(l.xp6(2),l.Q6J("visible",!o.tickets||o.tickets.length<=0),l.xp6(2),l.Q6J("ngForOf",o.tickets))},dependencies:[Yo,Aa,F1,N1,fU,a9,h9,lO,cO],styles:["ul[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:20rem;height:25rem;border:1px solid green;border-radius:1rem;margin:.5rem;display:flex;flex-direction:column;overflow:hidden;color:#0c0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:25px}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.9;cursor:pointer}.card-link[_ngcontent-%COMP%]{display:block;text-decoration:none;color:inherit}.content[_ngcontent-%COMP%]{padding:.5rem 1rem;position:relative;color:#000;font-size:medium;display:flex;justify-content:space-between}.price[_ngcontent-%COMP%]{padding-top:.7rem;float:left}.name[_ngcontent-%COMP%]{float:right}"]}),n})();class m9{constructor(){this.items=[]}get totalPrice(){let e=0;return this.items.forEach(t=>{e+=t.ticket.price*t.quantity}),e}get totalCount(){let e=0;return this.items.forEach(t=>{e+=t.quantity}),e}addItem(e){this.items.push(e)}removeItem(e){this.items=this.items.filter(t=>t.ticket.id!==e)}updateQuantity(e,t){const i=this.items.find(r=>r.ticket.id===e);i&&(i.quantity=t)}}class g9{constructor(e){this.id=1,this.quantity=1,this.ticket=e}get price(){return this.ticket.price*this.quantity}}let PH=(()=>{const e=class{constructor(){this.cart=new m9}addToCart(i){let r=this.cart.items.find(o=>o.ticket.id===i.id);r?this.changeQuantity(i.id,r.quantity+1):this.cart.addItem(new g9(i))}removeFromCart(i){this.cart.removeItem(i)}changeQuantity(i,r){this.cart.updateQuantity(i,r)}getCart(){return this.cart}};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function _9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l._UZ(1,"img",3),l.TgZ(2,"div",4)(3,"div",5)(4,"span",6),l._uU(5),l.qZA()(),l.TgZ(6,"div",7)(7,"span"),l._uU(8),l.ALo(9,"priceHUF"),l.qZA()(),l.TgZ(10,"button",8),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.addToCart())}),l._uU(11,"Add to Cart"),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("src","assets/images/"+t.ticket.imageUrl,l.LSH)("alt",t.ticket.name),l.xp6(4),l.Oqu(t.ticket.name),l.xp6(3),l.Oqu(l.lcZ(9,4,t.ticket.price))}}let y9=(()=>{const e=class{constructor(i,r,o,c){this.activatedRoute=i,this.ticketService=r,this.cartService=o,this.router=c}addToCart(){this.cartService.addToCart(this.ticket),this.router.navigateByUrl("/cart-page")}ngOnInit(){this.activatedRoute.params.subscribe(i=>{i.id&&this.ticketService.getTicketById(i.id).subscribe(o=>{o?this.ticket=o:this.router.navigateByUrl("/not-found")})})}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(Sa),l.Y36(QD),l.Y36(PH),l.Y36(Fi))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-ticket-page"]],decls:2,vars:2,consts:[["notFoundMessage","Product not found!","resetLinkText","Back to Homepage",3,"visible"],["class","container",4,"ngIf"],[1,"container"],[3,"src","alt"],[1,"details"],[1,"header"],[1,"name"],[1,"price"],["matt-button","",3,"click"]],template:function(r,o){1&r&&(l._UZ(0,"app-not-found",0),l.YNc(1,_9,12,6,"div",1)),2&r&&(l.Q6J("visible",!o.ticket),l.xp6(1),l.Q6J("ngIf",o.ticket))},dependencies:[tr,lO,cO],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:3rem auto;max-width:800px;padding:1rem}img[_ngcontent-%COMP%]{width:100%;height:35rem;object-fit:cover;border-radius:2rem;border:1px solid green;margin-bottom:2rem}.details[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;padding:1.5rem;border-radius:2rem;background-color:#f9f9f9}.details[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:1rem}.tags[_ngcontent-%COMP%]{pointer-events:none;margin-bottom:1rem}.price[_ngcontent-%COMP%]{font-size:1.8rem;color:green;margin:1rem 0}.price[_ngcontent-%COMP%]:before{content:"Price: ";color:#000}.details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-start;color:#fff;background-color:green;border:none;font-size:1.2rem;padding:1rem 2rem;border-radius:10rem;transition:all .2s ease-in-out}.details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9;cursor:pointer}']}),n})();function v9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li")(1,"div"),l._UZ(2,"img",7),l.qZA(),l.TgZ(3,"div")(4,"a",8),l._uU(5),l.qZA()(),l.TgZ(6,"div")(7,"select",9,10),l.NdJ("change",function(){const o=l.CHM(t).$implicit,c=l.MAs(8),h=l.oxw(2);return l.KtG(h.changeQuantity(o,c.value))}),l.TgZ(9,"option"),l._uU(10,"1"),l.qZA(),l.TgZ(11,"option"),l._uU(12,"2"),l.qZA(),l.TgZ(13,"option"),l._uU(14,"3"),l.qZA(),l.TgZ(15,"option"),l._uU(16,"4"),l.qZA(),l.TgZ(17,"option"),l._uU(18,"5"),l.qZA()()(),l.TgZ(19,"div"),l._uU(20),l.ALo(21,"priceHUF"),l.qZA(),l.TgZ(22,"div")(23,"button",11),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw(2);return l.KtG(c.removeFromCart(o))}),l.TgZ(24,"mat-icon"),l._uU(25,"delete"),l.qZA()()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Q6J("src","assets/images/"+t.ticket.imageUrl,l.LSH)("alt",t.ticket.name),l.xp6(2),l.MGl("routerLink","/ticket/",t.ticket.id,""),l.xp6(1),l.hij(" ",t.ticket.name," "),l.xp6(2),l.Q6J("value",t.quantity),l.xp6(13),l.hij(" ",l.lcZ(21,6,t.ticket.price)," ")}}function b9(n,e){if(1&n&&(l.TgZ(0,"div",2)(1,"ul"),l.YNc(2,v9,26,8,"li",3),l.qZA(),l.TgZ(3,"div",4)(4,"div")(5,"div",5),l._uU(6),l.qZA(),l.TgZ(7,"div",6),l._uU(8),l.ALo(9,"priceHUF"),l.qZA()()()()),2&n){const t=l.oxw();l.xp6(2),l.Q6J("ngForOf",t.cart.items),l.xp6(4),l.Oqu(t.cart.totalCount),l.xp6(2),l.hij("",l.lcZ(9,3,t.cart.totalPrice)," ")}}let w9=(()=>{const e=class{constructor(i){this.cartService=i,this.setCart()}removeFromCart(i){this.cartService.removeFromCart(i.ticket.id),this.setCart()}changeQuantity(i,r){const o=parseInt(r);o>0?(this.cartService.changeQuantity(i.ticket.id,o),this.setCart(),console.log(`Changing quantity of ticket ${i.ticket.id} to ${o}`)):this.removeFromCart(i)}setCart(){this.cart=this.cartService.getCart(),console.log(this.cart),console.log(this.cart.items)}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(PH))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-cart-page"]],decls:2,vars:2,consts:[["notFoundMessage","Cart Page is empty","resetLinkText","Go to Home Page",3,"visible"],["class","container",4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"],[1,"checkout"],[1,"tickets"],[1,"total-price"],[3,"src","alt"],[3,"routerLink"],[3,"value","change"],["quantitySelect",""],[1,"remove-button",3,"click"]],template:function(r,o){1&r&&(l._UZ(0,"app-not-found",0),l.YNc(1,b9,10,5,"div",1)),2&r&&(l.Q6J("visible",!o.cart||o.cart.items.length<=0),l.xp6(1),l.Q6J("ngIf",o.cart&&o.cart.items.length>0))},dependencies:[Yo,tr,Aa,rH,sH,_I,lO,cO],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start;margin:1.5rem}ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:3 0;justify-content:space-evenly;border:1px solid greenyellow;border-radius:1rem;list-style-type:none;margin:.5rem;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;flex-wrap:wrap;border-bottom:1px solid whitesmoke}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:7.5rem;height:7.5rem;border-radius:10rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:1rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(:first-child){flex-basis:18%}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:3rem;outline:none;border:none;font-size:1.1rem;font-weight:100}ul[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{border-radius:1rem;border:none;padding:.5rem;color:green;opacity:.7;outline:none}ul[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer}.checkout[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;flex:1 3;height:20rem;border:1px solid green;border-radius:1rem;padding:.5rem;margin:.5rem}.checkout[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:1.4rem;margin:1rem;flex:3;display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.checkout[_ngcontent-%COMP%]   .tickets-count[_ngcontent-%COMP%]{margin-bottom:1.5rem}.checkout[_ngcontent-%COMP%]   .tickets-count[_ngcontent-%COMP%]:before{content:"Count: ";color:#000}.checkout[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]:before{content:"Price: ";color:#000}']}),n})(),uO=(()=>{const e=class{constructor(i){this.auth=i,this.currentUser=null,this.auth.authState.subscribe(r=>{this.currentUser=r})}getCurrentUser(){return this.auth.currentUser}login(i,r){return this.auth.signInWithEmailAndPassword(i,r)}signup(i,r){return this.auth.createUserWithEmailAndPassword(i,r)}isUserLoggedIn(){return this.auth.user}logout(){return this.auth.signOut()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.LFG(jD))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),E9=(()=>{const e=class{constructor(i,r,o){this.router=i,this.authService=r,this.snackBar=o,this.email=new $u(""),this.password=new $u(""),this.isLoggedIn=!1}login(){var i=this;return(0,Ce.Z)(function*(){i.email.value&&i.password.value?i.authService.login(i.email.value,i.password.value).then(r=>{i.isLoggedIn=!0,i.authService.isUserLoggedIn().subscribe(o=>{console.log(o),i.loggedInUser=o,localStorage.setItem("user",JSON.stringify(i.loggedInUser)),i.router.navigateByUrl("/")})}).catch(r=>{console.error(r),i.snackBar.open("auth/user-not-found"===r.code?"No user found with this email. Please sign up.":"auth/wrong-password"===r.code?"Incorrect password. Please try again.":"Login failed. Please try again.","",{duration:5e3,panelClass:["error-snackbar"]})}):i.snackBar.open("Please enter both email and password.","",{duration:5e3,panelClass:["error-snackbar"]})})()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(Fi),l.Y36(uO),l.Y36(IE))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-login"]],decls:17,vars:3,consts:[[1,"login-form"],[1,"form"],[1,"form-group"],["for","email"],["type","text",3,"formControl"],["for","password"],["type","password",3,"formControl"],[1,"form-actions"],[3,"click"],[3,"routerLink"]],template:function(r,o){1&r&&(l.TgZ(0,"div",0)(1,"h1"),l._uU(2,"Login"),l.qZA(),l.TgZ(3,"div",1)(4,"div",2)(5,"label",3),l._uU(6,"Email:"),l.qZA(),l._UZ(7,"input",4),l.qZA(),l.TgZ(8,"div",2)(9,"label",5),l._uU(10,"Password:"),l.qZA(),l._UZ(11,"input",6),l.qZA(),l.TgZ(12,"div",7)(13,"button",8),l.NdJ("click",function(){return o.login()}),l._uU(14,"Login"),l.qZA(),l.TgZ(15,"button",9),l._uU(16,"Sign Up"),l.qZA()()()()),2&r&&(l.xp6(7),l.Q6J("formControl",o.email),l.xp6(4),l.Q6J("formControl",o.password),l.xp6(4),l.Q6J("routerLink","/signup"))},dependencies:[Aa,mm,T0,X1],styles:[".login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100vh;padding-top:10rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.form[_ngcontent-%COMP%]{background-color:#f2f2f2;padding:2rem;border-radius:1rem;box-shadow:0 .5rem 1rem #0000001a}label[_ngcontent-%COMP%]{margin-bottom:.5rem}input[_ngcontent-%COMP%]{padding:.5rem;border-radius:.5rem;border:1px solid #ccc;font-size:1rem}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}button[_ngcontent-%COMP%]{padding:.5rem;border-radius:.5rem;border:none;background-color:#0c0;color:#fff;font-size:1rem;cursor:pointer;margin:0 .5rem}button[_ngcontent-%COMP%]:hover{opacity:.9}.error-snackbar[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}"]}),n})(),C9=(()=>{const e=class{constructor(i){this.afs=i,this.collectionName="Users"}create(i){return this.afs.collection(this.collectionName).doc(i.id).set(i)}getAll(){}update(){}delete(){}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.LFG(yV))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function x9(n,e){1&n&&(l.TgZ(0,"div",18),l._uU(1," Please enter a valid email. "),l.qZA())}function D9(n,e){1&n&&(l.TgZ(0,"div",18),l._uU(1," Password must be at least 6 characters long. "),l.qZA())}function I9(n,e){1&n&&(l.TgZ(0,"div",18),l._uU(1," Passwords do not match. "),l.qZA())}const S9=function(){return["/login"]};let T9=(()=>{const e=class{constructor(i,r,o,c){this.authService=i,this.userService=r,this.router=o,this.snackBar=c,this.signUpForm=new R0({email:new $u("",[Zh.required,Zh.email]),password:new $u("",[Zh.required,Zh.minLength(6)]),rePassword:new $u("",[Zh.required]),name:new R0({firstName:new $u("",[Zh.required]),lastName:new $u("",[Zh.required])})})}onSubmit(){if(this.signUpForm.invalid)return void console.log("Form is invalid");const i=this.signUpForm.get("email")?.value??"",r=this.signUpForm.get("password")?.value??"",o=this.signUpForm.get("name.firstName")?.value??"",c=this.signUpForm.get("name.lastName")?.value??"";r.length<6?console.log("Password must be at least 6 characters"):r===this.signUpForm.get("rePassword")?.value?this.authService.signup(i,r).then(h=>{const g={id:h.user?.uid,email:i,username:i.split("@")[0],name:{firstName:o,lastname:c}};this.userService.create(g).then(()=>{this.snackBar.open("Registration successful!","",{duration:5e3,panelClass:["success-snackbar"]}),this.router.navigate(["/"]).then(()=>{console.log("Registration successful")})}).catch(v=>{console.error(v)})}).catch(h=>{console.error(h)}):console.log("Passwords do not match")}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(uO),l.Y36(C9),l.Y36(Fi),l.Y36(IE))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-signup"]],decls:33,vars:7,consts:[[1,"signup"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","text","id","email","formControlName","email"],["class","error-message",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password"],["for","re-password"],["type","password","id","re-password","formControlName","rePassword"],["formGroupName","name"],["for","first-name"],["type","text","id","first-name","formControlName","firstName"],["for","last-name"],["type","text","id","last-name","formControlName","lastName"],[1,"form-actions"],["type","submit",1,"login-button",3,"disabled"],["type","button",1,"signup-button",3,"routerLink"],[1,"error-message"]],template:function(r,o){if(1&r&&(l.TgZ(0,"div",0)(1,"h1"),l._uU(2,"Sign Up"),l.qZA(),l.TgZ(3,"form",1),l.NdJ("ngSubmit",function(){return o.onSubmit()}),l.TgZ(4,"div",2)(5,"label",3),l._uU(6,"Email:"),l.qZA(),l._UZ(7,"input",4),l.YNc(8,x9,2,0,"div",5),l.qZA(),l.TgZ(9,"div",2)(10,"label",6),l._uU(11,"Password:"),l.qZA(),l._UZ(12,"input",7),l.YNc(13,D9,2,0,"div",5),l.qZA(),l.TgZ(14,"div",2)(15,"label",8),l._uU(16,"Confirm Password:"),l.qZA(),l._UZ(17,"input",9),l.YNc(18,I9,2,0,"div",5),l.qZA(),l.TgZ(19,"div",10)(20,"div",2)(21,"label",11),l._uU(22,"First Name:"),l.qZA(),l._UZ(23,"input",12),l.qZA(),l.TgZ(24,"div",2)(25,"label",13),l._uU(26,"Last Name:"),l.qZA(),l._UZ(27,"input",14),l.qZA()(),l.TgZ(28,"div",15)(29,"button",16),l._uU(30,"Sign Up"),l.qZA(),l.TgZ(31,"button",17),l._uU(32,"Back to Login"),l.qZA()()()()),2&r){let c,h,g;l.xp6(3),l.Q6J("formGroup",o.signUpForm),l.xp6(5),l.Q6J("ngIf",(null==(c=o.signUpForm.get("email"))?null:c.invalid)&&(null==(c=o.signUpForm.get("email"))?null:c.touched)),l.xp6(5),l.Q6J("ngIf",(null==(h=o.signUpForm.get("password"))?null:h.hasError("minlength"))&&(null==(h=o.signUpForm.get("password"))?null:h.touched)),l.xp6(5),l.Q6J("ngIf",(null==(g=o.signUpForm.get("rePassword"))?null:g.value)!==(null==(g=o.signUpForm.get("password"))?null:g.value)&&(null==(g=o.signUpForm.get("rePassword"))?null:g.touched)),l.xp6(11),l.Q6J("disabled",o.signUpForm.invalid),l.xp6(2),l.Q6J("routerLink",l.DdM(6,S9))}},dependencies:[tr,Aa,K1,mm,T0,U1,N0,eO,uI],styles:['@charset "UTF-8";.signup[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#f2f2f2;padding:2rem;border-radius:1rem;box-shadow:0 .5rem 1rem #0000001a}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}label[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#333}input[_ngcontent-%COMP%]{padding:.5rem;font-size:1rem;border:1px solid lightgray;border-radius:.5rem;box-shadow:0 .2rem .5rem #0000001a;transition:box-shadow .2s ease;width:25rem;min-width:15rem;max-width:20rem}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 .2rem .5rem #0003;border:1px solid black}button[_ngcontent-%COMP%]{padding:.5rem;border-radius:.5rem;border:none;background-color:#0c0;color:#fff;font-size:1rem;cursor:pointer;margin:0 .5rem}button[_ngcontent-%COMP%]:hover{opacity:.9}.form-actions[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;margin-top:1rem}.error-message[_ngcontent-%COMP%]{color:red;font-size:.9rem;margin-top:.5rem}.success-snackbar[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;font-weight:700}']}),n})(),A9=(()=>{const e=class{canActivate(i,r){const o=JSON.parse(localStorage.getItem("user"));return!(!o||"admin@gmail.com"!==o.email)}};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();class FH{}function dO(n){return n&&"function"==typeof n.connect&&!(n instanceof Cv)}class NH{applyChanges(e,t,i,r,o){e.forEachOperation((c,h,g)=>{let v,x;if(null==c.previousIndex){const S=i(c,h,g);v=t.createEmbeddedView(S.templateRef,S.context,S.index),x=1}else null==g?(t.remove(h),x=3):(v=t.get(h),t.move(v,g),x=2);o&&o({context:v?.context,operation:x,record:c})})}detach(){}}const V0=new l.OlP("_ViewRepeater"),R9=[[["caption"]],[["colgroup"],["col"]]],k9=["caption","colgroup, col"];function hO(n){return class extends n{get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=No(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}}}const oy=new l.OlP("CDK_TABLE");let sy=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),ay=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),vI=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class N9{}const L9=hO(N9);let Gu=(()=>{class n extends L9{get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=No(t),this._hasStickyChanged=i!==this._stickyEnd}constructor(t){super(),this._table=t,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(oy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,sy,5),l.Suo(r,ay,5),l.Suo(r,vI,5)),2&t){let o;l.iGM(o=l.CRH())&&(i.cell=o.first),l.iGM(o=l.CRH())&&(i.headerCell=o.first),l.iGM(o=l.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[l._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})();class fO{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let pO=(()=>{class n extends fO{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gu),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[l.qOj]}),n})(),mO=(()=>{class n extends fO{constructor(t,i){if(super(t,i),1===t._table?._elementRef.nativeElement.nodeType){const r=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gu),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[l.qOj]}),n})();class VH{constructor(){this.tasks=[],this.endTasks=[]}}const gO=new l.OlP("_COALESCED_STYLE_SCHEDULER");let UH=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Ft.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new VH,this._getScheduleObservable().pipe(co(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new VH;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,hn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(wr(1))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),_O=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof U0?t.headerCell.template:this instanceof H0?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();class B9 extends _O{}const V9=hO(B9);let U0=(()=>{class n extends V9{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(oy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})();class U9 extends _O{}const H9=hO(U9);let H0=(()=>{class n extends H9{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(oy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})(),bI=(()=>{class n extends _O{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(oy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[l.qOj]}),n})(),qu=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),yO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[qu],encapsulation:2}),n})(),bO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[qu],encapsulation:2}),n})(),wI=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const HH=["top","bottom","left","right"];class j9{constructor(e,t,i,r,o=!0,c=!0,h){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=c,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(B=>B)&&!i.some(B=>B))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=e[0],c=o.children.length,h=this._getCellWidths(o,r),g=this._getStickyStartColumnPositions(h,t),v=this._getStickyEndColumnPositions(h,i),x=t.lastIndexOf(!0),S=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const B="rtl"===this.direction,j=B?"right":"left",q=B?"left":"right";for(const ne of e)for(let oe=0;oe<c;oe++){const Ue=ne.children[oe];t[oe]&&this._addStickyStyle(Ue,j,g[oe],oe===x),i[oe]&&this._addStickyStyle(Ue,q,v[oe],oe===S)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===x?[]:h.slice(0,x+1).map((ne,oe)=>t[oe]?ne:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===S?[]:h.slice(S).map((ne,oe)=>i[oe+S]?ne:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,o="bottom"===i?t.slice().reverse():t,c=[],h=[],g=[];for(let x=0,S=0;x<r.length;x++){if(!o[x])continue;c[x]=S;const B=r[x];g[x]=this._isNativeHtmlTable?Array.from(B.children):[B];const j=B.getBoundingClientRect().height;S+=j,h[x]=j}const v=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let x=0;x<r.length;x++){if(!o[x])continue;const S=c[x],B=x===v;for(const j of g[x])this._addStickyStyle(j,i,S,B)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:c,elements:g}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:c,elements:g})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);HH.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of HH)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let o=0;o<e.length;o++)t[o]&&(i[o]=r,r+=e[o]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let o=e.length;o>0;o--)t[o]&&(i[o]=r,r+=e[o]);return i}}const wO=new l.OlP("CDK_SPL");let EI=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),CI=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),xI=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),DI=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),II=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=No(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=No(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,i,r,o,c,h,g,v,x,S,B,j){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=c,this._platform=g,this._viewRepeater=v,this._coalescedStyleScheduler=x,this._viewportRuler=S,this._stickyPositioningListener=B,this._ngZone=j,this._onDestroy=new Ft.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new l.vpe,this.viewChange=new ki({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(co(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),dO(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,o,c)=>this._getEmbeddedViewArgs(r.item,c),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&l.R0b.isInAngularZone()?this._ngZone.onStable.pipe(wr(1),co(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const o=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,o,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const o=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((o,c)=>{this._addStickyColumnStyles([o],this._headerRowDefs[c])}),this._rowDefs.forEach(o=>{const c=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===o&&c.push(i[h]);this._addStickyColumnStyles(c,o)}),r.forEach((o,c)=>{this._addStickyColumnStyles([o],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const c=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let h=0;h<c.length;h++){let g=c[h];const v=this._cachedRenderRowsMap.get(g.data);v.has(g.rowDef)?v.get(g.rowDef).push(g):v.set(g.rowDef,[g]),t.push(g)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(c=>{const h=r&&r.has(c)?r.get(c):[];if(h.length){const g=h.shift();return g.dataIndex=i,g}return{data:t,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),SI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=SI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=SI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=SI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(c,h)=>c||!!h.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(t,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(t){this._data=[],dO(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;dO(this.dataSource)?t=this.dataSource.connect(this):function M9(n){return!!n&&(n instanceof or.y||(0,Lo.m)(n.lift)&&(0,Lo.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=nt(this.dataSource)),this._renderChangeSubscription=t.pipe(co(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),o=r.map(h=>h.sticky),c=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(t,o,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const o=t.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,t));else{let o=this._rowDefs.find(c=>c.when&&c.when(i,t))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,o={}){const c=t.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),c}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))qu.mostRecentCellOutlet&&qu.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const c=t.get(i).context;c.count=r,c.first=0===i,c.last=i===r-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const c of r.outlets)o.appendChild(c.elementRef.nativeElement);t.appendChild(o)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new j9(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:nt()).pipe(co(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(t.templateRef),c=o.rootNodes[0];1===o.rootNodes.length&&c?.nodeType===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.sBO),l.Y36(l.SBq),l.$8M("role"),l.Y36(Xl,8),l.Y36(re),l.Y36(Ln),l.Y36(V0),l.Y36(gO),l.Y36(sr),l.Y36(wO,12),l.Y36(l.R0b,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,wI,5),l.Suo(r,Gu,5),l.Suo(r,bI,5),l.Suo(r,U0,5),l.Suo(r,H0,5)),2&t){let o;l.iGM(o=l.CRH())&&(i._noDataRow=o.first),l.iGM(o=l.CRH())&&(i._contentColumnDefs=o),l.iGM(o=l.CRH())&&(i._contentRowDefs=o),l.iGM(o=l.CRH())&&(i._contentHeaderRowDefs=o),l.iGM(o=l.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(t,i){if(1&t&&(l.Gf(EI,7),l.Gf(CI,7),l.Gf(xI,7),l.Gf(DI,7)),2&t){let r;l.iGM(r=l.CRH())&&(i._rowOutlet=r.first),l.iGM(r=l.CRH())&&(i._headerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._footerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[l._Bn([{provide:oy,useExisting:n},{provide:V0,useClass:NH},{provide:gO,useClass:UH},{provide:wO,useValue:null}])],ngContentSelectors:k9,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(l.F$t(R9),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[EI,CI,xI,DI],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function SI(n,e){return n.concat(Array.from(e))}let $9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ic]}),n})();const G9=[[["caption"]],[["colgroup"],["col"]]],q9=["caption","colgroup, col"];let zH=(()=>{class n extends II{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[l._Bn([{provide:II,useExisting:n},{provide:oy,useExisting:n},{provide:gO,useClass:UH},{provide:V0,useClass:NH},{provide:wO,useValue:null}]),l.qOj],ngContentSelectors:q9,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(l.F$t(G9),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[EI,CI,xI,DI],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),EO=(()=>{class n extends sy{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matCellDef",""]],features:[l._Bn([{provide:sy,useExisting:n}]),l.qOj]}),n})(),CO=(()=>{class n extends ay{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[l._Bn([{provide:ay,useExisting:n}]),l.qOj]}),n})(),xO=(()=>{class n extends Gu{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[l._Bn([{provide:Gu,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})(),DO=(()=>{class n extends pO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[l.qOj]}),n})(),IO=(()=>{class n extends mO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[l.qOj]}),n})(),$H=(()=>{class n extends U0{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[l._Bn([{provide:U0,useExisting:n}]),l.qOj]}),n})(),GH=(()=>{class n extends bI{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[l._Bn([{provide:bI,useExisting:n}]),l.qOj]}),n})(),qH=(()=>{class n extends yO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[l._Bn([{provide:yO,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[qu],encapsulation:2}),n})(),WH=(()=>{class n extends bO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[l._Bn([{provide:bO,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[qu],encapsulation:2}),n})(),n7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Er,$9,Er]}),n})();function r7(n,e){}class TI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let ZH=(()=>{class n extends Kd{constructor(t,i,r,o,c,h,g,v){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=c,this._ngZone=h,this._overlayRef=g,this._focusMonitor=v,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=x=>{this._portalOutlet.hasAttached();const S=this._portalOutlet.attachDomPortal(x);return this._contentAttached(),S},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=br(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=br();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=br())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ky),l.Y36(re,8),l.Y36(TI),l.Y36(Qm),l.Y36(l.R0b),l.Y36(rc),l.Y36(ll))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&l.Gf(rg,7),2&t){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&l.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&l.YNc(0,r7,0,0,"ng-template",0)},dependencies:[rg],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class SO{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Ft.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!XI(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const YH=new l.OlP("DialogScrollStrategy"),o7=new l.OlP("DialogData"),s7=new l.OlP("DefaultDialogConfig"),l7={provide:YH,deps:[ml],useFactory:function a7(n){return()=>n.scrollStrategies.block()}};let c7=0,KH=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,c,h){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ft.x,this._afterOpenedAtThisLevel=new Ft.x,this._ariaHiddenElements=new Map,this.afterAllClosed=vg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ql(void 0))),this._scrollStrategy=h}open(t,i){(i={...this._defaultOptions||new TI,...i}).id=i.id||"cdk-dialog-"+c7++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),c=this._overlay.create(o),h=new SO(c,i),g=this._attachContainer(c,h,i);return h.containerInstance=g,this._attachDialogContent(t,h,g,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){TO(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){TO(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),TO(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new hg({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,c=[{provide:TI,useValue:r},{provide:SO,useValue:i},{provide:rc,useValue:t}];let h;r.container?"function"==typeof r.container?h=r.container:(h=r.container.type,c.push(...r.container.providers(r))):h=ZH;const g=new Zf(h,r.viewContainerRef,l.zs3.create({parent:o||this._injector,providers:c}),r.componentFactoryResolver);return t.attach(g).instance}_attachDialogContent(t,i,r,o){if(t instanceof l.Rgc){const c=this._createInjector(o,i,r,void 0);let h={$implicit:o.data,dialogRef:i};o.templateContext&&(h={...h,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new Jy(t,null,h,c))}else{const c=this._createInjector(o,i,r,this._injector),h=r.attachComponentPortal(new Zf(t,o.viewContainerRef,c,o.componentFactoryResolver));i.componentInstance=h.instance}}_createInjector(t,i,r,o){const c=t.injector||t.viewContainerRef?.injector,h=[{provide:o7,useValue:t.data},{provide:SO,useValue:i}];return t.providers&&("function"==typeof t.providers?h.push(...t.providers(i,t,r)):h.push(...t.providers)),t.direction&&(!c||!c.get(Xl,null,{optional:!0}))&&h.push({provide:Xl,useValue:{value:t.direction,change:nt()}}),l.zs3.create({parent:c||o,providers:h})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,c)=>{o?c.setAttribute("aria-hidden",o):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ml),l.LFG(l.zs3),l.LFG(s7,8),l.LFG(n,12),l.LFG(gu),l.LFG(YH))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function TO(n,e){let t=n.length;for(;t--;)e(n[t])}let u7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[KH,l7],imports:[ep,og,ES,og]}),n})();function d7(n,e){}class AI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const AO="mdc-dialog--open",QH="mdc-dialog--opening",XH="mdc-dialog--closing";let p7=(()=>{class n extends ZH{constructor(t,i,r,o,c,h,g,v){super(t,i,r,o,c,h,g,v),this._animationStateChanged=new l.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ky),l.Y36(re,8),l.Y36(AI),l.Y36(Qm),l.Y36(l.R0b),l.Y36(rc),l.Y36(ll))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],features:[l.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();const JH="--mat-dialog-transition-duration";function ej(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?wy(n.substring(0,n.length-2)):n.endsWith("s")?1e3*wy(n.substring(0,n.length-1)):"0"===n?0:null}let m7=(()=>{class n extends p7{constructor(t,i,r,o,c,h,g,v,x){super(t,i,r,o,c,h,g,x),this._animationMode=v,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?ej(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?ej(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(JH,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(QH,AO)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(AO),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(AO),this._animationsEnabled?(this._hostElement.style.setProperty(JH,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(XH)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(QH,XH)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ky),l.Y36(re,8),l.Y36(AI),l.Y36(Qm),l.Y36(l.R0b),l.Y36(rc),l.Y36(l.QbO,8),l.Y36(ll))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,i){2&t&&(l.Ikx("id",i._config.id),l.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[l.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,d7,0,0,"ng-template",2),l.qZA()())},dependencies:[rg],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class tj{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new Ft.x,this._beforeClosed=new Ft.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(xi(r=>"opened"===r.state),wr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(xi(r=>"closed"===r.state),wr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,pl.T)(this.backdropClick(),this.keydownEvents().pipe(xi(r=>27===r.keyCode&&!this.disableClose&&!XI(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),nj(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(xi(t=>"closing"===t.state),wr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function nj(n,e,t){return n._closeInteractionType=e,n.close(t)}const g7=new l.OlP("MatMdcDialogData"),_7=new l.OlP("mat-mdc-dialog-default-options"),ij=new l.OlP("mat-mdc-dialog-scroll-strategy"),v7={provide:ij,deps:[ml],useFactory:function y7(n){return()=>n.scrollStrategies.block()}};let b7=0,w7=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,c,h,g,v,x,S){this._overlay=t,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=g,this._dialogContainerType=v,this._dialogDataToken=x,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ft.x,this._afterOpenedAtThisLevel=new Ft.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=AI,this.afterAllClosed=vg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ql(void 0))),this._scrollStrategy=h,this._dialog=i.get(KH)}open(t,i){let r;(i={...this._defaultOptions||new AI,...i}).id=i.id||`${this._idPrefix}${b7++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:TI,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,h,g)=>(r=new this._dialogRefConstructor(c,i,g),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:g},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),rj=(()=>{class n extends w7{constructor(t,i,r,o,c,h,g,v){super(t,i,o,h,g,c,tj,m7,g7,v),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ml),l.LFG(l.zs3),l.LFG(He,8),l.LFG(_7,8),l.LFG(ij),l.LFG(n,12),l.LFG(gu),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),E7=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function x7(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){nj(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(tj,8),l.Y36(l.SBq),l.Y36(rj))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(o){return i._onButtonClick(o)}),2&t&&l.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[l.TTD]}),n})(),C7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),D7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[rj,v7],imports:[u7,ep,og,Er,Er]}),n})();const I7=["matFormFieldNotchedOutline",""],S7=["*"],T7=["textField"],A7=["iconPrefixContainer"],M7=["textPrefixContainer"];function R7(n,e){1&n&&l._UZ(0,"span",19)}function k7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",17),l.NdJ("cdkObserveContent",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r._refreshOutlineNotchWidth())}),l.Hsn(1,1),l.YNc(2,R7,1,0,"span",18),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function O7(n,e){if(1&n&&l.YNc(0,k7,3,6,"label",16),2&n){const t=l.oxw();l.Q6J("ngIf",t._hasFloatingLabel())}}function P7(n,e){1&n&&l._UZ(0,"div",20)}function F7(n,e){}function N7(n,e){if(1&n&&l.YNc(0,F7,0,0,"ng-template",22),2&n){l.oxw(2);const t=l.MAs(1);l.Q6J("ngTemplateOutlet",t)}}function L7(n,e){if(1&n&&(l.TgZ(0,"div",21),l.YNc(1,N7,1,1,"ng-template",9),l.qZA()),2&n){const t=l.oxw();l.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),l.xp6(1),l.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function B7(n,e){1&n&&(l.TgZ(0,"div",23,24),l.Hsn(2,2),l.qZA())}function V7(n,e){1&n&&(l.TgZ(0,"div",25,26),l.Hsn(2,3),l.qZA())}function U7(n,e){}function H7(n,e){if(1&n&&l.YNc(0,U7,0,0,"ng-template",22),2&n){l.oxw();const t=l.MAs(1);l.Q6J("ngTemplateOutlet",t)}}function j7(n,e){1&n&&(l.TgZ(0,"div",27),l.Hsn(1,4),l.qZA())}function z7(n,e){1&n&&(l.TgZ(0,"div",28),l.Hsn(1,5),l.qZA())}function $7(n,e){1&n&&l._UZ(0,"div",29)}function G7(n,e){if(1&n&&(l.TgZ(0,"div",30),l.Hsn(1,6),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function q7(n,e){if(1&n&&(l.TgZ(0,"mat-hint",34),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function W7(n,e){if(1&n&&(l.TgZ(0,"div",31),l.YNc(1,q7,2,2,"mat-hint",32),l.Hsn(2,7),l._UZ(3,"div",33),l.Hsn(4,8),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const Z7=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Y7=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let sj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})();const K7=new l.OlP("MatError");let Q7=0,aj=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+Q7++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(l.Ikx("id",i.id),l.uIk("align",null),l.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const X7=new l.OlP("MatPrefix"),J7=new l.OlP("MatSuffix");let lj=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function eZ(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const cj="mdc-line-ripple--active",MI="mdc-line-ripple--deactivating";let uj=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,c=o.contains(MI);"opacity"===r.propertyName&&c&&o.remove(cj,MI)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(MI),t.add(cj)}deactivate(){this._elementRef.nativeElement.classList.add(MI)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),dj=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:I7,ngContentSelectors:S7,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(l.F$t(),l._UZ(0,"div",0),l.TgZ(1,"div",1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&t&&(l.xp6(1),l.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const tZ={transitionMessages:Qy("transitionMessages",[hu("enter",Ea({opacity:1,transform:"translateY(0%)"})),qf("void => enter",[Ea({opacity:0,transform:"translateY(-5px)"}),Cr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let hj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const fj=new l.OlP("MatFormField"),nZ=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let pj=0,oZ=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=No(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,o,c,h,g,v){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=c,this._defaults=h,this._animationMode=g,this._document=v,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+pj++,this._hintLabelId="mat-mdc-hint-"+pj++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Ft.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,h&&(h.appearance&&(this.appearance=h.appearance),this._hideRequiredMarker=Boolean(h?.hideRequiredMarker),h.color&&(this.color=h.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(co(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,pl.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(co(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(co(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+c}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(Xl),l.Y36(Ln),l.Y36(nZ,8),l.Y36(l.QbO,8),l.Y36(re))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,sj,5),l.Suo(r,sj,7),l.Suo(r,hj,5),l.Suo(r,X7,5),l.Suo(r,J7,5),l.Suo(r,K7,5),l.Suo(r,aj,5)),2&t){let o;l.iGM(o=l.CRH())&&(i._labelChildNonStatic=o.first),l.iGM(o=l.CRH())&&(i._labelChildStatic=o.first),l.iGM(o=l.CRH())&&(i._formFieldControl=o.first),l.iGM(o=l.CRH())&&(i._prefixChildren=o),l.iGM(o=l.CRH())&&(i._suffixChildren=o),l.iGM(o=l.CRH())&&(i._errorChildren=o),l.iGM(o=l.CRH())&&(i._hintChildren=o)}},viewQuery:function(t,i){if(1&t&&(l.Gf(T7,5),l.Gf(A7,5),l.Gf(M7,5),l.Gf(lj,5),l.Gf(dj,5),l.Gf(uj,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._textField=r.first),l.iGM(r=l.CRH())&&(i._iconPrefixContainer=r.first),l.iGM(r=l.CRH())&&(i._textPrefixContainer=r.first),l.iGM(r=l.CRH())&&(i._floatingLabel=r.first),l.iGM(r=l.CRH())&&(i._notchedOutline=r.first),l.iGM(r=l.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&l.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:fj,useExisting:n}])],ngContentSelectors:Y7,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(l.F$t(Z7),l.YNc(0,O7,1,1,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),l.YNc(4,P7,1,0,"div",3),l.TgZ(5,"div",4),l.YNc(6,L7,2,3,"div",5),l.YNc(7,B7,3,0,"div",6),l.YNc(8,V7,3,0,"div",7),l.TgZ(9,"div",8),l.YNc(10,H7,1,1,"ng-template",9),l.Hsn(11),l.qZA(),l.YNc(12,j7,2,0,"div",10),l.YNc(13,z7,2,0,"div",11),l.qZA(),l.YNc(14,$7,1,0,"div",12),l.qZA(),l.TgZ(15,"div",13),l.YNc(16,G7,2,1,"div",14),l.YNc(17,W7,5,2,"div",15),l.qZA()),2&t&&(l.xp6(2),l.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),l.xp6(2),l.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),l.xp6(2),l.Q6J("ngIf",i._hasOutline()),l.xp6(1),l.Q6J("ngIf",i._hasIconPrefix),l.xp6(1),l.Q6J("ngIf",i._hasTextPrefix),l.xp6(2),l.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),l.xp6(2),l.Q6J("ngIf",i._hasTextSuffix),l.xp6(1),l.Q6J("ngIf",i._hasIconSuffix),l.xp6(1),l.Q6J("ngIf",!i._hasOutline()),l.xp6(1),l.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[tr,Ei,Xs,Do,tS,aj,lj,dj,uj],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[tZ.transitionMessages]},changeDetection:0}),n})(),MO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Er,io,rw,Er]}),n})();const _j=zi({passive:!0});let sZ=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return rl.E;const i=ol(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Ft.x,c="cdk-text-field-autofilled",h=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,_j),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",h,_j)}}),o}stopMonitoring(t){const i=ol(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ln),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const lZ=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),cZ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let uZ=0;const dZ=IS(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Ft.x}});let hZ=(()=>{class n extends dZ{get disabled(){return this._disabled}set disabled(t){this._disabled=No(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Zh.required)??!1}set required(t){this._required=No(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Fs().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=No(t)}constructor(t,i,r,o,c,h,g,v,x,S){super(h,o,c,r),this._elementRef=t,this._platform=i,this._autofillMonitor=v,this._formField=S,this._uid="mat-input-"+uZ++,this.focused=!1,this.stateChanges=new Ft.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(q=>Fs().has(q)),this._iOSKeyupListener=q=>{const ne=q.target;!ne.value&&0===ne.selectionStart&&0===ne.selectionEnd&&(ne.setSelectionRange(1,1),ne.setSelectionRange(0,0))};const B=this._elementRef.nativeElement,j=B.nodeName.toLowerCase();this._inputValueAccessor=g||B,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&x.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===j,this._isTextarea="textarea"===j,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=B.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){cZ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Ln),l.Y36(zu,10),l.Y36(F0,8),l.Y36(N0,8),l.Y36(Mw),l.Y36(lZ,10),l.Y36(sZ),l.Y36(l.R0b),l.Y36(fj,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(l.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),l.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),l.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:hj,useExisting:n}]),l.qOj,l.TTD]}),n})(),fZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Er,MO,MO,aZ,Er]}),n})();function pZ(n,e){1&n&&(l.TgZ(0,"th",11),l._uU(1," Name "),l.qZA())}function mZ(n,e){if(1&n&&(l.TgZ(0,"td",12),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.name," ")}}function gZ(n,e){1&n&&(l.TgZ(0,"th",11),l._uU(1," Price "),l.qZA())}function _Z(n,e){if(1&n&&(l.TgZ(0,"td",12),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.price," ")}}function yZ(n,e){1&n&&(l.TgZ(0,"th",11),l._uU(1," Actions "),l.qZA())}function vZ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td",12)(1,"button",13),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw();return l.KtG(c.openUpdateDialog(o))}),l.TgZ(2,"mat-icon"),l._uU(3,"edit"),l.qZA()(),l.TgZ(4,"button",14),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw();return l.KtG(c.deleteTicket(o.id))}),l.TgZ(5,"mat-icon"),l._uU(6,"delete"),l.qZA()()()}}function bZ(n,e){1&n&&l._UZ(0,"tr",15)}function wZ(n,e){1&n&&l._UZ(0,"tr",16)}function EZ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-dialog-content")(1,"form",17),l.NdJ("ngSubmit",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.updateTicket(r.selectedTicket))}),l.TgZ(2,"mat-form-field")(3,"input",18),l.NdJ("ngModelChange",function(r){l.CHM(t);const o=l.oxw();return l.KtG(o.selectedTicket.name=r)}),l.qZA()(),l.TgZ(4,"mat-form-field")(5,"input",19),l.NdJ("ngModelChange",function(r){l.CHM(t);const o=l.oxw();return l.KtG(o.selectedTicket.price=r)}),l.qZA()(),l.TgZ(6,"button",20),l._uU(7,"Update"),l.qZA(),l.TgZ(8,"button",21),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.closeUpdateDialog())}),l._uU(9,"Cancel"),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(3),l.Q6J("ngModel",t.selectedTicket.name),l.xp6(2),l.Q6J("ngModel",t.selectedTicket.price)}}function CZ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-dialog-content")(1,"form",17),l.NdJ("ngSubmit",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.addTicket())}),l.TgZ(2,"mat-form-field")(3,"input",18),l.NdJ("ngModelChange",function(r){l.CHM(t);const o=l.oxw();return l.KtG(o.selectedTicket.name=r)}),l.qZA()(),l.TgZ(4,"mat-form-field")(5,"input",19),l.NdJ("ngModelChange",function(r){l.CHM(t);const o=l.oxw();return l.KtG(o.selectedTicket.price=r)}),l.qZA()(),l.TgZ(6,"button",20),l._uU(7,"Add"),l.qZA(),l.TgZ(8,"button",21),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.closeAddDialog())}),l._uU(9,"Cancel"),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(3),l.Q6J("ngModel",t.selectedTicket.name),l.xp6(2),l.Q6J("ngModel",t.selectedTicket.price)}}const xZ=[{path:"",component:yI},{path:"search/:searchTerm",component:yI},{path:"tag/:tag",component:yI},{path:"ticket/:id",component:y9},{path:"cart-page",component:w9},{path:"login",component:E9},{path:"signup",component:T9},{path:"admin",component:(()=>{const e=class{constructor(i){this.ticketService=i,this.displayedColumns=["name","price","actions"],this.dataSource=[],this.selectedTicket=new FH,this.updateDialog=!1,this.addDialog=!1}ngOnInit(){console.log("ngOnInit triggered"),this.ticketService.getAllTickets().subscribe(i=>{console.log("Tickets from Firestore:",i),this.dataSource=i})}deleteTicket(i){this.ticketService.deleteTicket(i).then(()=>{console.log("Ticket deleted successfully.")}).catch(r=>{console.error(r)})}openUpdateDialog(i){this.selectedTicket=i,this.updateDialog=!0}closeUpdateDialog(){this.updateDialog=!1}updateTicket(i){this.ticketService.updateTicket(i.id,i).then(()=>console.log(`Ticket with id ${i.id} updated successfully.`)).catch(r=>console.log(`Error updating ticket: ${r}`)),this.updateDialog=!1}openAddDialog(){this.selectedTicket=new FH,this.addDialog=!0}closeAddDialog(){this.addDialog=!1}addTicket(){this.selectedTicket.imageUrl="tickets_image/not-found.jpg",this.selectedTicket.tags=[];const i=Object.assign({},this.selectedTicket);this.ticketService.addTicket(i).then(()=>{console.log("Ticket added successfully!"),this.closeAddDialog()}).catch(r=>{console.error("Error adding ticket: ",r)})}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(QD))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-admin"]],decls:19,vars:5,consts:[[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","price"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[3,"ngSubmit"],["matInput","","placeholder","Name","name","name","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Price","name","price","required","",3,"ngModel","ngModelChange"],["type","submit","mat-raised-button","","color","primary"],["type","button","mat-raised-button","","mat-dialog-close","","color","accent",3,"click"]],template:function(r,o){1&r&&(l.TgZ(0,"div",0)(1,"table",1),l.ynx(2,2),l.YNc(3,pZ,2,0,"th",3),l.YNc(4,mZ,2,1,"td",4),l.BQk(),l.ynx(5,5),l.YNc(6,gZ,2,0,"th",3),l.YNc(7,_Z,2,1,"td",4),l.BQk(),l.ynx(8,6),l.YNc(9,yZ,2,0,"th",3),l.YNc(10,vZ,7,0,"td",4),l.BQk(),l.YNc(11,bZ,1,0,"tr",7),l.YNc(12,wZ,1,0,"tr",8),l.qZA()(),l.TgZ(13,"div"),l.YNc(14,EZ,10,2,"mat-dialog-content",9),l.qZA(),l.TgZ(15,"button",10),l.NdJ("click",function(){return o.openAddDialog()}),l._uU(16," Add Ticket\n"),l.qZA(),l.TgZ(17,"div"),l.YNc(18,CZ,10,2,"mat-dialog-content",9),l.qZA()),2&r&&(l.xp6(1),l.Q6J("dataSource",o.dataSource),l.xp6(10),l.Q6J("matHeaderRowDef",o.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",o.displayedColumns),l.xp6(2),l.Q6J("ngIf",o.updateDialog),l.xp6(4),l.Q6J("ngIf",o.addDialog))},dependencies:[tr,K1,mm,T0,U1,dI,cI,F0,_I,Yd,jS,zH,CO,$H,xO,EO,GH,DO,IO,qH,WH,E7,C7,oZ,hZ]}),n})(),canActivate:[A9]},{path:"**",component:yI}];let DZ=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[qg.forRoot(xZ),qg]}),n})();function IZ(n,e){1&n&&(l.TgZ(0,"li")(1,"a",4)(2,"mat-icon"),l._uU(3,"perm_identity"),l.qZA()(),l.TgZ(4,"a",5)(5,"mat-icon"),l._uU(6,"shopping_cart"),l.qZA()()())}function SZ(n,e){1&n&&(l.TgZ(0,"a",10)(1,"mat-icon"),l._uU(2,"admin_panel_settings"),l.qZA()())}function TZ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",11)(1,"a",8),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.logout())}),l._uU(2,"Logout"),l.qZA()()}}function AZ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",6),l.YNc(1,SZ,3,0,"a",7),l.TgZ(2,"a",8),l.NdJ("click",function(r){return l.CHM(t),l.oxw().toggleProfileMenu(),l.KtG(r.preventDefault())}),l.TgZ(3,"mat-icon"),l._uU(4,"person"),l.qZA()(),l.TgZ(5,"a",5)(6,"mat-icon"),l._uU(7,"shopping_cart"),l.qZA()(),l.YNc(8,TZ,3,0,"div",9),l.qZA()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.isAdmin),l.xp6(7),l.Q6J("ngIf",t.showProfileMenu)}}let MZ=(()=>{const e=class{constructor(i,r){this.authService=i,this.router=r,this.showProfileMenu=!1,this.routerSubscription=new tc.w0,this.isAdmin=!1}ngOnInit(){this.authService.isUserLoggedIn().subscribe(i=>{console.log(i),this.loggedInUser=i,i&&"admin@gmail.com"===i.email&&(this.isAdmin=!0)},i=>{console.error(i)}),this.routerSubscription=this.router.events.subscribe(i=>{i instanceof Cu&&(this.showProfileMenu=!1)})}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe()}toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu}logout(){this.authService.logout().then(()=>{localStorage.setItem("user",JSON.stringify("null")),console.log("Logged out succesfully."),this.router.navigate(["/login"])}).catch(i=>{console.error(i)})}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(uO),l.Y36(Fi))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-header"]],decls:8,vars:2,consts:[[1,"container"],["href","#","routerLink","/",1,"logo"],[4,"ngIf"],["ngbDropdown","",4,"ngIf"],["href","#","routerLink","/login"],["href","#","routerLink","/cart-page"],["ngbDropdown",""],["href","#","routerLink","/admin",4,"ngIf"],["href","#",3,"click"],["class","dropdown",4,"ngIf"],["href","#","routerLink","/admin"],[1,"dropdown"]],template:function(r,o){1&r&&(l.TgZ(0,"header")(1,"div",0)(2,"a",1),l._uU(3,"MuseoTicket"),l.qZA(),l.TgZ(4,"nav")(5,"ul"),l.YNc(6,IZ,7,0,"li",2),l.YNc(7,AZ,9,2,"li",3),l.qZA()()()()),2&r&&(l.xp6(6),l.Q6J("ngIf",!o.loggedInUser),l.xp6(1),l.Q6J("ngIf",o.loggedInUser))},dependencies:[tr,Aa,_I],styles:["header[_ngcontent-%COMP%]{background:white;padding:0;border-bottom:1px solid #00cc00}a[_ngcontent-%COMP%]{color:green}a[_ngcontent-%COMP%]:hover{background:#00cc00;color:#fff}.container[_ngcontent-%COMP%]{margin:0 auto;display:flex;justify-content:space-between}a.logo[_ngcontent-%COMP%]{font-weight:700;padding:1em 1em 0}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:1em;display:inline-block}"]}),n})(),RZ=(()=>{const e=class{constructor(){this.title="museum-ticket-shop",this.page="main"}};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(r,o){1&r&&l._UZ(0,"app-header")(1,"router-outlet")},dependencies:[jv,MZ]}),n})();function yj(n){return new l.vHH(3e3,!1)}function hY(){return typeof window<"u"&&typeof window.document<"u"}function RO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Qh(n){switch(n.length){case 0:return new Wf;case 1:return n[0];default:return new Xw(n)}}function vj(n,e,t,i,r=new Map,o=new Map){const c=[],h=[];let g=-1,v=null;if(i.forEach(x=>{const S=x.get("offset"),B=S==g,j=B&&v||new Map;x.forEach((q,ne)=>{let oe=ne,Ue=q;if("offset"!==ne)switch(oe=e.normalizePropertyName(oe,c),Ue){case Xy:Ue=r.get(ne);break;case ul:Ue=o.get(ne);break;default:Ue=e.normalizeStyleValue(ne,oe,Ue,c)}j.set(oe,Ue)}),B||h.push(j),v=j,g=S}),c.length)throw function eY(n){return new l.vHH(3502,!1)}();return h}function kO(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&OO(t,"start",n)));break;case"done":n.onDone(()=>i(t&&OO(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&OO(t,"destroy",n)))}}function OO(n,e,t){const o=PO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(o._data=c),o}function PO(n,e,t,i,r="",o=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function Ys(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function bj(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let FO=(n,e)=>!1,wj=(n,e,t)=>[],Ej=null;function NO(n){const e=n.parentNode||n.host;return e===Ej?null:e}(RO()||typeof Element<"u")&&(hY()?(Ej=(()=>document.documentElement)(),FO=(n,e)=>{for(;e;){if(e===n)return!0;e=NO(e)}return!1}):FO=(n,e)=>n.contains(e),wj=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let vm=null,Cj=!1;const xj=FO,Dj=wj;let Ij=(()=>{class n{validateStyleProperty(t){return function pY(n){vm||(vm=function mY(){return typeof document<"u"?document.body:null}()||{},Cj=!!vm.style&&"WebkitAppearance"in vm.style);let e=!0;return vm.style&&!function fY(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in vm.style,!e&&Cj&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in vm.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return xj(t,i)}getParentElement(t){return NO(t)}query(t,i,r){return Dj(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,c,h=[],g){return new Wf(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),LO=(()=>{class n{}return n.NOOP=new Ij,n})();const gY=1e3,BO="ng-enter",RI="ng-leave",kI="ng-trigger",OI=".ng-trigger",Tj="ng-animating",VO=".ng-animating";function Wu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:UO(parseFloat(e[1]),e[2])}function UO(n,e){return"s"===e?n*gY:n}function PI(n,e,t){return n.hasOwnProperty("duration")?n:function yY(n,e,t){let r,o=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(yj()),{duration:0,delay:0,easing:""};r=UO(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(o=UO(parseFloat(g),h[4]));const v=h[5];v&&(c=v)}else r=n;if(!t){let h=!1,g=e.length;r<0&&(e.push(function kZ(){return new l.vHH(3100,!1)}()),h=!0),o<0&&(e.push(function OZ(){return new l.vHH(3101,!1)}()),h=!0),h&&e.splice(g,0,yj())}return{duration:r,delay:o,easing:c}}(n,e,t)}function j0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Aj(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Xh(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Rj(n,e,t){return t?e+":"+t+";":""}function kj(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Rj(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Rj(0,EY(t),n.style[t]));n.setAttribute("style",e)}function Tc(n,e,t){n.style&&(e.forEach((i,r)=>{const o=jO(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),RO()&&kj(n))}function bm(n,e){n.style&&(e.forEach((t,i)=>{const r=jO(i);n.style[r]=""}),RO()&&kj(n))}function z0(n){return Array.isArray(n)?1==n.length?n[0]:Yw(n):n}const HO=new RegExp("{{\\s*(.+?)\\s*}}","g");function Oj(n){let e=[];if("string"==typeof n){let t;for(;t=HO.exec(n);)e.push(t[1]);HO.lastIndex=0}return e}function $0(n,e,t){const i=n.toString(),r=i.replace(HO,(o,c)=>{let h=e[c];return null==h&&(t.push(function FZ(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function FI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const wY=/-+([a-z0-9])/g;function jO(n){return n.replace(wY,(...e)=>e[1].toUpperCase())}function EY(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ks(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function NZ(n){return new l.vHH(3004,!1)}()}}function Pj(n,e){return window.getComputedStyle(n)[e]}const BI="*";function TY(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function AY(n,e,t){if(":"==n[0]){const g=function MY(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function KZ(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function YZ(n){return new l.vHH(3015,!1)}()),e;const r=i[1],o=i[2],c=i[3];e.push(Fj(r,c));"<"==o[0]&&!(r==BI&&c==BI)&&e.push(Fj(c,r))}(i,t,e)):t.push(n),t}const VI=new Set(["true","1"]),UI=new Set(["false","0"]);function Fj(n,e){const t=VI.has(n)||UI.has(n),i=VI.has(e)||UI.has(e);return(r,o)=>{let c=n==BI||n==r,h=e==BI||e==o;return!c&&t&&"boolean"==typeof r&&(c=r?VI.has(n):UI.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?VI.has(e):UI.has(e)),c&&h}}const RY=new RegExp("s*:selfs*,?","g");function zO(n,e,t,i){return new kY(n).build(e,t,i)}class kY{constructor(e){this._driver=e}build(e,t,i){const r=new FY(t);return this._resetContextStyleTimingState(r),Ks(this,z0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function BZ(){return new l.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const g=h,v=g.name;v.toString().split(/\s*,\s*/).forEach(x=>{g.name=x,o.push(this.visitState(g,t))}),g.name=v}else if(1==h.type){const g=this.visitTransition(h,t);i+=g.queryCount,r+=g.depCount,c.push(g)}else t.errors.push(function VZ(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{Oj(g).forEach(v=>{c.hasOwnProperty(v)||o.add(v)})})}),o.size&&(FI(o.values()),t.errors.push(function UZ(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ks(this,z0(e.animation),t);return{type:1,matchers:TY(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:wm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ks(this,i,t)),options:wm(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(c=>{t.currentTime=i;const h=Ks(this,c,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:o,options:wm(e.options)}}visitAnimate(e,t){const i=function LY(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return $O(PI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=$O(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=PI(t,e);return $O(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Ea({});if(5==o.type)r=this.visitKeyframes(o,t);else{let c=e.styles,h=!1;if(!c){h=!0;const v={};i.easing&&(v.easing=i.easing),c=Ea(v)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(c,t);g.isEmptyStep=h,r=g}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===ul?i.push(h):t.errors.push(new l.vHH(3002,!1)):i.push(Aj(h));let o=!1,c=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!o))for(let g of h.values())if(g.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,g)=>{const v=t.collectedStyles.get(t.currentQuerySelector),x=v.get(g);let S=!0;x&&(o!=r&&o>=x.startTime&&r<=x.endTime&&(t.errors.push(function jZ(n,e,t,i,r){return new l.vHH(3010,!1)}()),S=!1),o=x.startTime),S&&v.set(g,{startTime:o,endTime:r}),t.options&&function bY(n,e,t){const i=e.params||{},r=Oj(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function PZ(n){return new l.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function zZ(){return new l.vHH(3011,!1)}()),i;let o=0;const c=[];let h=!1,g=!1,v=0;const x=e.steps.map(Ue=>{const Ye=this._makeStyleAst(Ue,t);let We=null!=Ye.offset?Ye.offset:function NY(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ye.styles),Ke=0;return null!=We&&(o++,Ke=Ye.offset=We),g=g||Ke<0||Ke>1,h=h||Ke<v,v=Ke,c.push(Ke),Ye});g&&t.errors.push(function $Z(){return new l.vHH(3012,!1)}()),h&&t.errors.push(function GZ(){return new l.vHH(3200,!1)}());const S=e.steps.length;let B=0;o>0&&o<S?t.errors.push(function qZ(){return new l.vHH(3202,!1)}()):0==o&&(B=1/(S-1));const j=S-1,q=t.currentTime,ne=t.currentAnimateTimings,oe=ne.duration;return x.forEach((Ue,Ye)=>{const We=B>0?Ye==j?1:B*Ye:c[Ye],Ke=We*oe;t.currentTime=q+ne.delay+Ke,ne.duration=Ke,this._validateStyleAst(Ue,t),Ue.offset=We,i.styles.push(Ue)}),i}visitReference(e,t){return{type:8,animation:Ks(this,z0(e.animation),t),options:wm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:wm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:wm(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,c]=function OY(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(RY,"")),n=n.replace(/@\*/g,OI).replace(/@\w+/g,t=>OI+"-"+t.slice(1)).replace(/:animating/g,VO),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Ys(t.collectedStyles,t.currentQuerySelector,new Map);const h=Ks(this,z0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:wm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function WZ(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:PI(e.timings,t.errors,!0);return{type:12,animation:Ks(this,z0(e.animation),t),timings:i,options:null}}}class FY{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function wm(n){return n?(n=j0(n)).params&&(n.params=function PY(n){return n?j0(n):null}(n.params)):n={},n}function $O(n,e,t){return{duration:n,delay:e,easing:t}}function GO(n,e,t,i,r,o,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:h}}class HI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const UY=new RegExp(":enter","g"),jY=new RegExp(":leave","g");function qO(n,e,t,i,r,o=new Map,c=new Map,h,g,v=[]){return(new zY).buildKeyframes(n,e,t,i,r,o,c,h,g,v)}class zY{buildKeyframes(e,t,i,r,o,c,h,g,v,x=[]){v=v||new HI;const S=new WO(e,t,v,r,o,x,[]);S.options=g;const B=g.delay?Wu(g.delay):0;S.currentTimeline.delayNextStep(B),S.currentTimeline.setStyles([c],null,S.errors,g),Ks(this,i,S);const j=S.timelines.filter(q=>q.containsAnimation());if(j.length&&h.size){let q;for(let ne=j.length-1;ne>=0;ne--){const oe=j[ne];if(oe.element===t){q=oe;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([h],null,S.errors,g)}return j.length?j.map(q=>q.buildKeyframes()):[GO(t,[],[],[],0,B,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const c="number"==typeof o?o:Wu($0(o,r?.params??{},t.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const c=null!=i.duration?Wu(i.duration):null,h=null!=i.delay?Wu(i.delay):null;return 0!==c&&e.forEach(g=>{const v=t.appendInstructionToTimeline(g,c,h);o=Math.max(o,v.duration+v.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Ks(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=jI);const c=Wu(o.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Ks(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Wu(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);o&&h.delayNextStep(o),Ks(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return PI(t.params?$0(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(g=>{h.forwardTime((g.offset||0)*o),h.setStyles(g.styles,g.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Wu(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=jI);let c=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let g=null;h.forEach((v,x)=>{t.currentQueryIndex=x;const S=t.createSubContext(e.options,v);o&&S.delayNextStep(o),v===t.element&&(g=S.currentTimeline),Ks(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,c=Math.abs(o.duration),h=c*(t.currentQueryTotal-1);let g=c*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=h-g;break;case"full":g=i.currentStaggerTime}const x=t.currentTimeline;g&&x.delayNextStep(g);const S=x.currentTime;Ks(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const jI={};class WO{constructor(e,t,i,r,o,c,h,g){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new zI(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Wu(i.duration)),null!=i.delay&&(r.delay=Wu(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=$0(o[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new WO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=jI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new $Y(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,c){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(UY,"."+this._enterClassName)).replace(jY,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!o&&0==h.length&&c.push(function ZZ(n){return new l.vHH(3014,!1)}()),h}}class zI{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new zI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ul),this._currentKeyframe.set(t,ul);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},c=function GY(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,ul)}else Xh(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,g]of c){const v=$0(g,o,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??ul),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,g)=>{const v=Xh(h,new Map,this._backFill);v.forEach((x,S)=>{x===Xy?e.add(S):x===ul&&t.add(S)}),i||v.set("offset",g/this.duration),r.push(v)});const o=e.size?FI(e.values()):[],c=t.size?FI(t.values()):[];if(i){const h=r[0],g=new Map(h);h.set("offset",0),g.set("offset",1),r=[h,g]}return GO(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class $Y extends zI{constructor(e,t,i,r,o,c,h=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],c=i+t,h=t/c,g=Xh(e[0]);g.set("offset",0),o.push(g);const v=Xh(e[0]);v.set("offset",Bj(h)),o.push(v);const x=e.length-1;for(let S=1;S<=x;S++){let B=Xh(e[S]);const j=B.get("offset");B.set("offset",Bj((t+j*i)/c)),o.push(B)}i=c,t=0,r="",e=o}return GO(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Bj(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ZO{}const qY=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class WY extends ZO{normalizePropertyName(e,t){return jO(e)}normalizeStyleValue(e,t,i,r){let o="";const c=i.toString().trim();if(qY.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function LZ(n,e){return new l.vHH(3005,!1)}())}return c+o}}function Vj(n,e,t,i,r,o,c,h,g,v,x,S,B){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:c,timelines:h,queriedElements:g,preStyleProps:v,postStyleProps:x,totalTime:S,errors:B}}const YO={};class Uj{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function ZY(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,c,h,g,v,x){const S=[],B=this.ast.options&&this.ast.options.params||YO,q=this.buildStyles(i,h&&h.params||YO,S),ne=g&&g.params||YO,oe=this.buildStyles(r,ne,S),Ue=new Set,Ye=new Map,We=new Map,Ke="void"===r,At={params:YY(ne,B),delay:this.ast.options?.delay},Nt=x?[]:qO(e,t,this.ast.animation,o,c,q,oe,At,v,S);let Cn=0;if(Nt.forEach(wo=>{Cn=Math.max(wo.duration+wo.delay,Cn)}),S.length)return Vj(t,this._triggerName,i,r,Ke,q,oe,[],[],Ye,We,Cn,S);Nt.forEach(wo=>{const Zu=wo.element,nz=Ys(Ye,Zu,new Set);wo.preStyleProps.forEach(Em=>nz.add(Em));const q0=Ys(We,Zu,new Set);wo.postStyleProps.forEach(Em=>q0.add(Em)),Zu!==t&&Ue.add(Zu)});const Li=FI(Ue.values());return Vj(t,this._triggerName,i,r,Ke,q,oe,Nt,Li,Ye,We,Cn)}}function YY(n,e){const t=j0(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class KY{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=j0(this.defaultParams);return Object.keys(e).forEach(o=>{const c=e[o];null!==c&&(r[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,h)=>{c&&(c=$0(c,r,t));const g=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,g,c,t),i.set(h,c)})}),i}}class XY{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new KY(r.style,r.options&&r.options.params||{},i))}),Hj(this.states,"true","1"),Hj(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Uj(e,r,this.states))}),this.fallbackTransition=function JY(n,e,t){return new Uj(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Hj(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const eK=new HI;class tK{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],o=zO(this._driver,t,i,r);if(i.length)throw function tY(n){return new l.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=vj(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let c;const h=new Map;if(o?(c=qO(this._driver,t,o,BO,RI,new Map,new Map,i,eK,r),c.forEach(x=>{const S=Ys(h,x.element,new Map);x.postStyleProps.forEach(B=>S.set(B,null))})):(r.push(function nY(){return new l.vHH(3300,!1)}()),c=[]),r.length)throw function iY(n){return new l.vHH(3504,!1)}();h.forEach((x,S)=>{x.forEach((B,j)=>{x.set(j,this._driver.computeStyle(S,j,ul))})});const v=Qh(c.map(x=>{const S=h.get(x.element);return this._buildPlayer(x,new Map,S)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function rY(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const o=PO(t,"","","");return kO(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const jj="ng-animate-queued",KO="ng-animate-disabled",sK=[],zj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Oa="__ng_removed";class QO{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function dK(n){return n??null}(i?e.value:e),i){const o=j0(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const G0="void",XO=new QO(G0);class lK{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Pa(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function oY(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function sY(n){return new l.vHH(3303,!1)}();if(!function hK(n){return"start"==n||"done"==n}(i))throw function aY(n,e){return new l.vHH(3400,!1)}();const o=Ys(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};o.push(c);const h=Ys(this._engine.statesByElement,e,new Map);return h.has(t)||(Pa(e,kI),Pa(e,kI+"-"+t),h.set(t,XO)),()=>{this._engine.afterFlush(()=>{const g=o.indexOf(c);g>=0&&o.splice(g,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function lY(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),c=new JO(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Pa(e,kI),Pa(e,kI+"-"+t),this._engine.statesByElement.set(e,h=new Map));let g=h.get(t);const v=new QO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),h.set(t,v),g||(g=XO),v.value!==G0&&g.value===v.value){if(!function mK(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(g.params,v.params)){const ne=[],oe=o.matchStyles(g.value,g.params,ne),Ue=o.matchStyles(v.value,v.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{bm(e,oe),Tc(e,Ue)})}return}const B=Ys(this._engine.playersByElement,e,[]);B.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let j=o.matchTransition(g.value,v.value,e,v.params),q=!1;if(!j){if(!r)return;j=o.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:j,fromState:g,toState:v,player:c,isFallbackTransition:q}),q||(Pa(e,jj),c.onStart(()=>{ly(e,jj)})),c.onDone(()=>{let ne=this.players.indexOf(c);ne>=0&&this.players.splice(ne,1);const oe=this._engine.playersByElement.get(e);if(oe){let Ue=oe.indexOf(c);Ue>=0&&oe.splice(Ue,1)}}),this.players.push(c),B.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,OI,!0);i.forEach(r=>{if(r[Oa])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),c=new Map;if(o){const h=[];if(o.forEach((g,v)=>{if(c.set(v,g.value),this._triggers.has(v)){const x=this.trigger(e,v,G0,r);x&&h.push(x)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&Qh(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const g=this._triggers.get(c).fallbackTransition,v=i.get(c)||XO,x=new QO(G0),S=new JO(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:g,fromState:v,toState:x,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Oa];(!o||o===zj)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Pa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(h=>{if(h.name==i.triggerName){const g=PO(o,i.triggerName,i.fromState.value,i.toState.value);g._data=e,kO(i.player,h.phase,g,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class cK{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new lK(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const g=r.get(h);if(g){const v=i.indexOf(g);i.splice(v+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if($I(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!$I(t))return;const o=t[Oa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Pa(e,KO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ly(e,KO))}removeNode(e,t,i,r){if($I(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Oa]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return $I(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,OI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,VO,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Qh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Oa];if(t&&t.setForRemoval){if(e[Oa]=zj,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(KO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Pa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Qh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function cY(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new HI,r=[],o=new Map,c=[],h=new Map,g=new Map,v=new Map,x=new Set;this.disabledNodes.forEach(Et=>{x.add(Et);const Lt=this.driver.query(Et,".ng-animate-queued",!0);for(let Gt=0;Gt<Lt.length;Gt++)x.add(Lt[Gt])});const S=this.bodyNode,B=Array.from(this.statesByElement.keys()),j=qj(B,this.collectedEnterElements),q=new Map;let ne=0;j.forEach((Et,Lt)=>{const Gt=BO+ne++;q.set(Lt,Gt),Et.forEach(Sn=>Pa(Sn,Gt))});const oe=[],Ue=new Set,Ye=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const Lt=this.collectedLeaveElements[Et],Gt=Lt[Oa];Gt&&Gt.setForRemoval&&(oe.push(Lt),Ue.add(Lt),Gt.hasAnimation?this.driver.query(Lt,".ng-star-inserted",!0).forEach(Sn=>Ue.add(Sn)):Ye.add(Lt))}const We=new Map,Ke=qj(B,Array.from(Ue));Ke.forEach((Et,Lt)=>{const Gt=RI+ne++;We.set(Lt,Gt),Et.forEach(Sn=>Pa(Sn,Gt))}),e.push(()=>{j.forEach((Et,Lt)=>{const Gt=q.get(Lt);Et.forEach(Sn=>ly(Sn,Gt))}),Ke.forEach((Et,Lt)=>{const Gt=We.get(Lt);Et.forEach(Sn=>ly(Sn,Gt))}),oe.forEach(Et=>{this.processLeaveNode(Et)})});const At=[],Nt=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(t).forEach(Gt=>{const Sn=Gt.player,jr=Gt.element;if(At.push(Sn),this.collectedEnterElements.length){const Eo=jr[Oa];if(Eo&&Eo.setForMove){if(Eo.previousTriggersValues&&Eo.previousTriggersValues.has(Gt.triggerName)){const Cm=Eo.previousTriggersValues.get(Gt.triggerName),Fa=this.statesByElement.get(Gt.element);if(Fa&&Fa.has(Gt.triggerName)){const WI=Fa.get(Gt.triggerName);WI.value=Cm,Fa.set(Gt.triggerName,WI)}}return void Sn.destroy()}}const Ac=!S||!this.driver.containsElement(S,jr),Qs=We.get(jr),Jh=q.get(jr),Bi=this._buildInstruction(Gt,i,Jh,Qs,Ac);if(Bi.errors&&Bi.errors.length)return void Nt.push(Bi);if(Ac)return Sn.onStart(()=>bm(jr,Bi.fromStyles)),Sn.onDestroy(()=>Tc(jr,Bi.toStyles)),void r.push(Sn);if(Gt.isFallbackTransition)return Sn.onStart(()=>bm(jr,Bi.fromStyles)),Sn.onDestroy(()=>Tc(jr,Bi.toStyles)),void r.push(Sn);const oz=[];Bi.timelines.forEach(Eo=>{Eo.stretchStartingKeyframe=!0,this.disabledNodes.has(Eo.element)||oz.push(Eo)}),Bi.timelines=oz,i.append(jr,Bi.timelines),c.push({instruction:Bi,player:Sn,element:jr}),Bi.queriedElements.forEach(Eo=>Ys(h,Eo,[]).push(Sn)),Bi.preStyleProps.forEach((Eo,Cm)=>{if(Eo.size){let Fa=g.get(Cm);Fa||g.set(Cm,Fa=new Set),Eo.forEach((WI,rP)=>Fa.add(rP))}}),Bi.postStyleProps.forEach((Eo,Cm)=>{let Fa=v.get(Cm);Fa||v.set(Cm,Fa=new Set),Eo.forEach((WI,rP)=>Fa.add(rP))})});if(Nt.length){const Et=[];Nt.forEach(Lt=>{Et.push(function uY(n,e){return new l.vHH(3505,!1)}())}),At.forEach(Lt=>Lt.destroy()),this.reportError(Et)}const Cn=new Map,Li=new Map;c.forEach(Et=>{const Lt=Et.element;i.has(Lt)&&(Li.set(Lt,Lt),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,Cn))}),r.forEach(Et=>{const Lt=Et.element;this._getPreviousPlayers(Lt,!1,Et.namespaceId,Et.triggerName,null).forEach(Sn=>{Ys(Cn,Lt,[]).push(Sn),Sn.destroy()})});const wo=oe.filter(Et=>Zj(Et,g,v)),Zu=new Map;Gj(Zu,this.driver,Ye,v,ul).forEach(Et=>{Zj(Et,g,v)&&wo.push(Et)});const q0=new Map;j.forEach((Et,Lt)=>{Gj(q0,this.driver,new Set(Et),g,Xy)}),wo.forEach(Et=>{const Lt=Zu.get(Et),Gt=q0.get(Et);Zu.set(Et,new Map([...Array.from(Lt?.entries()??[]),...Array.from(Gt?.entries()??[])]))});const Em=[],iz=[],rz={};c.forEach(Et=>{const{element:Lt,player:Gt,instruction:Sn}=Et;if(i.has(Lt)){if(x.has(Lt))return Gt.onDestroy(()=>Tc(Lt,Sn.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(Sn.totalTime),void r.push(Gt);let jr=rz;if(Li.size>1){let Qs=Lt;const Jh=[];for(;Qs=Qs.parentNode;){const Bi=Li.get(Qs);if(Bi){jr=Bi;break}Jh.push(Qs)}Jh.forEach(Bi=>Li.set(Bi,jr))}const Ac=this._buildAnimation(Gt.namespaceId,Sn,Cn,o,q0,Zu);if(Gt.setRealPlayer(Ac),jr===rz)Em.push(Gt);else{const Qs=this.playersByElement.get(jr);Qs&&Qs.length&&(Gt.parentPlayer=Qh(Qs)),r.push(Gt)}}else bm(Lt,Sn.fromStyles),Gt.onDestroy(()=>Tc(Lt,Sn.toStyles)),iz.push(Gt),x.has(Lt)&&r.push(Gt)}),iz.forEach(Et=>{const Lt=o.get(Et.element);if(Lt&&Lt.length){const Gt=Qh(Lt);Et.setRealPlayer(Gt)}}),r.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<oe.length;Et++){const Lt=oe[Et],Gt=Lt[Oa];if(ly(Lt,RI),Gt&&Gt.hasAnimation)continue;let Sn=[];if(h.size){let Ac=h.get(Lt);Ac&&Ac.length&&Sn.push(...Ac);let Qs=this.driver.query(Lt,VO,!0);for(let Jh=0;Jh<Qs.length;Jh++){let Bi=h.get(Qs[Jh]);Bi&&Bi.length&&Sn.push(...Bi)}}const jr=Sn.filter(Ac=>!Ac.destroyed);jr.length?fK(this,Lt,jr):this.processLeaveNode(Lt)}return oe.length=0,Em.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const Lt=this.players.indexOf(Et);this.players.splice(Lt,1)}),Et.play()}),Em}elementContainsData(e,t){let i=!1;const r=t[Oa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const g=!o||o==G0;h.forEach(v=>{v.queued||!g&&v.triggerName!=r||c.push(v)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(e,t,i){const o=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,x=v!==o,S=Ys(i,v,[]);this._getPreviousPlayers(v,x,c,h,t.toState).forEach(j=>{const q=j.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),j.destroy(),S.push(j)})}bm(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,c){const h=t.triggerName,g=t.element,v=[],x=new Set,S=new Set,B=t.timelines.map(q=>{const ne=q.element;x.add(ne);const oe=ne[Oa];if(oe&&oe.removedBeforeQueried)return new Wf(q.duration,q.delay);const Ue=ne!==g,Ye=function pK(n){const e=[];return Wj(n,e),e}((i.get(ne)||sK).map(Cn=>Cn.getRealPlayer())).filter(Cn=>!!Cn.element&&Cn.element===ne),We=o.get(ne),Ke=c.get(ne),At=vj(0,this._normalizer,0,q.keyframes,We,Ke),Nt=this._buildPlayer(q,At,Ye);if(q.subTimeline&&r&&S.add(ne),Ue){const Cn=new JO(e,h,ne);Cn.setRealPlayer(Nt),v.push(Cn)}return Nt});v.forEach(q=>{Ys(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function uK(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,q.element,q))}),x.forEach(q=>Pa(q,Tj));const j=Qh(B);return j.onDestroy(()=>{x.forEach(q=>ly(q,Tj)),Tc(g,t.toStyles)}),S.forEach(q=>{Ys(r,q,[]).push(j)}),j}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Wf(e.duration,e.delay)}}class JO{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Wf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>kO(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ys(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function $I(n){return n&&1===n.nodeType}function $j(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Gj(n,e,t,i,r){const o=[];t.forEach(g=>o.push($j(g)));const c=[];i.forEach((g,v)=>{const x=new Map;g.forEach(S=>{const B=e.computeStyle(v,S,r);x.set(S,B),(!B||0==B.length)&&(v[Oa]=aK,c.push(v))}),n.set(v,x)});let h=0;return t.forEach(g=>$j(g,o[h++])),c}function qj(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=1,r=new Set(e),o=new Map;function c(h){if(!h)return i;let g=o.get(h);if(g)return g;const v=h.parentNode;return g=t.has(v)?v:r.has(v)?i:c(v),o.set(h,g),g}return e.forEach(h=>{const g=c(h);g!==i&&t.get(g).push(h)}),t}function Pa(n,e){n.classList?.add(e)}function ly(n,e){n.classList?.remove(e)}function fK(n,e,t){Qh(t).onDone(()=>n.processLeaveNode(e))}function Wj(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Xw?Wj(i.players,e):e.push(i)}}function Zj(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class GI{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new cK(e,t,i),this._timelineEngine=new tK(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const c=e+"-"+r;let h=this._triggerCache[c];if(!h){const g=[],v=[],x=zO(this._driver,o,g,v);if(g.length)throw function JZ(n,e){return new l.vHH(3404,!1)}();h=function QY(n,e,t){return new XY(n,e,t)}(r,x,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,c]=bj(i);this._timelineEngine.command(o,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[c,h]=bj(i);return this._timelineEngine.listen(c,t,h,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _K=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Tc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Tc(this._element,this._initialStyles),this._endStyles&&(Tc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(bm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bm(this._element,this._endStyles),this._endStyles=null),Tc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function eP(n){let e=null;return n.forEach((t,i)=>{(function yK(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Yj{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Pj(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class vK{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return xj(e,t)}getParentElement(e){return NO(e)}query(e,t,i){return Dj(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,c=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(g.easing=o);const v=new Map,x=c.filter(j=>j instanceof Yj);(function CY(n,e){return 0===n||0===e})(i,r)&&x.forEach(j=>{j.currentSnapshot.forEach((q,ne)=>v.set(ne,q))});let S=function vY(n){return n.length?n[0]instanceof Map?n:n.map(e=>Aj(e)):[]}(t).map(j=>Xh(j));S=function xY(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,c)=>{i.has(c)||r.push(c),i.set(c,o)}),r.length)for(let o=1;o<e.length;o++){let c=e[o];r.forEach(h=>c.set(h,Pj(n,h)))}}return e}(e,S,v);const B=function gK(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=eP(e[0]),e.length>1&&(i=eP(e[e.length-1]))):e instanceof Map&&(t=eP(e)),t||i?new _K(n,t,i):null}(e,S);return new Yj(e,S,g,B)}}let bK=(()=>{class n extends Ky{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Yw(t):t;return Kj(this._renderer,null,i,"register",[r]),new wK(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class wK extends Ww{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new EK(this._id,e,t||{},this._renderer)}}class EK{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Kj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Kj(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Qj="@.disabled";let CK=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,c)=>{const h=c?.parentNode(o);h&&c.removeChild(h,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let x=this._rendererCache.get(o);return x||(x=new Xj("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,x)),x}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const g=x=>{Array.isArray(x)?x.forEach(g):this.engine.registerTrigger(c,h,t,x.name,x)};return i.data.animation.forEach(g),new xK(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,h]=o;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(GI),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Xj{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Qj?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class xK extends Xj{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Qj?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function DK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function IK(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let SK=(()=>{class n extends GI{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(LO),l.LFG(ZO),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Jj=[{provide:Ky,useClass:bK},{provide:ZO,useFactory:function TK(){return new WY}},{provide:GI,useClass:SK},{provide:l.FYo,useFactory:function AK(n,e,t){return new CK(n,e,t)},deps:[rr,GI,l.R0b]}],tP=[{provide:LO,useFactory:()=>new vK},{provide:l.QbO,useValue:"BrowserAnimations"},...Jj],ez=[{provide:LO,useClass:Ij},{provide:l.QbO,useValue:"NoopAnimations"},...Jj];let MK=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?ez:tP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:tP,imports:[Rs]}),n})();class nP{constructor(e){return e}}const tz="storage",iP=new l.OlP("angularfire2.storage-instances");function OK(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new nP(i)}}const PK={provide:class RK{constructor(){return(0,cn.vb)(tz)}},deps:[[new l.FiY,iP]]},FK={provide:nP,useFactory:function kK(n,e){const t=(0,cn.JM)(tz,n,e);return t&&new nP(t)},deps:[[new l.FiY,iP],dm]};let NK=(()=>{class n{constructor(){(0,Uu.KN)("angularfire",cn.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[FK,PK]}),n})();function LK(n,...e){return{ngModule:NK,providers:[{provide:iP,useFactory:OK(n),multi:!0,deps:[l.R0b,l.zs3,cn.HU,PD,[new l.FiY,T1],[new l.FiY,hm],...e]}]}}const BK=(0,cn.u3)(Sq,!0);let VK=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e,bootstrap:[RZ]}),e.\u0275inj=l.cJS({imports:[Rs,DZ,S8,MK,DE,s9,io,T8,MW,qw,fo.hO.initializeApp(Ro_firebase),jG,K6(()=>Q6(Ro_firebase)),Wq(()=>Zq()),uW(()=>fW()),LK(()=>BK()),n7,D7,MO,fZ]}),n})();pf().bootstrapModule(VK).catch(n=>console.error(n))},9751:(vt,Me,V)=>{V.d(Me,{y:()=>be});var l=V(930),z=V(727),P=V(8822),se=V(9635),fe=V(2416),re=V(576),De=V(2806);let be=(()=>{class ie{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Qe=new ie;return Qe.source=this,Qe.operator=ke,Qe}subscribe(ke,Qe,ut){const we=function W(ie){return ie&&ie instanceof l.Lv||function Y(ie){return ie&&(0,re.m)(ie.next)&&(0,re.m)(ie.error)&&(0,re.m)(ie.complete)}(ie)&&(0,z.Nn)(ie)}(ke)?ke:new l.Hp(ke,Qe,ut);return(0,De.x)(()=>{const{operator:Pe,source:Le}=this;we.add(Pe?Pe.call(we,Le):Le?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Qe){ke.error(Qe)}}forEach(ke,Qe){return new(Qe=Ee(Qe))((ut,we)=>{const Pe=new l.Hp({next:Le=>{try{ke(Le)}catch(He){we(He),Pe.unsubscribe()}},error:we,complete:ut});this.subscribe(Pe)})}_subscribe(ke){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(ke)}[P.L](){return this}pipe(...ke){return(0,se.U)(ke)(this)}toPromise(ke){return new(ke=Ee(ke))((Qe,ut)=>{let we;this.subscribe(Pe=>we=Pe,Pe=>ut(Pe),()=>Qe(we))})}}return ie.create=ze=>new ie(ze),ie})();function Ee(ie){var ze;return null!==(ze=ie??fe.v.Promise)&&void 0!==ze?ze:Promise}},7579:(vt,Me,V)=>{V.d(Me,{x:()=>De});var l=V(9751),z=V(727);const se=(0,V(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=V(8737),re=V(2806);let De=(()=>{class Ee extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const ie=new be(this,this);return ie.operator=W,ie}_throwIfClosed(){if(this.closed)throw new se}next(W){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(W)}})}error(W){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:ie}=this;for(;ie.length;)ie.shift().error(W)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:ie,isStopped:ze,observers:ke}=this;return ie||ze?z.Lc:(this.currentObservers=null,ke.push(W),new z.w0(()=>{this.currentObservers=null,(0,fe.P)(ke,W)}))}_checkFinalizedStatuses(W){const{hasError:ie,thrownError:ze,isStopped:ke}=this;ie?W.error(ze):ke&&W.complete()}asObservable(){const W=new l.y;return W.source=this,W}}return Ee.create=(Y,W)=>new be(Y,W),Ee})();class be extends De{constructor(Y,W){super(),this.destination=Y,this.source=W}next(Y){var W,ie;null===(ie=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===ie||ie.call(W,Y)}error(Y){var W,ie;null===(ie=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===ie||ie.call(W,Y)}complete(){var Y,W;null===(W=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===W||W.call(Y)}_subscribe(Y){var W,ie;return null!==(ie=null===(W=this.source)||void 0===W?void 0:W.subscribe(Y))&&void 0!==ie?ie:z.Lc}}},930:(vt,Me,V)=>{V.d(Me,{Hp:()=>ut,Lv:()=>ie});var l=V(576),z=V(727),P=V(2416),se=V(7849),fe=V(5032);const re=Ee("C",void 0,void 0);function Ee(Ae,Te,Fe){return{kind:Ae,value:Te,error:Fe}}var Y=V(3410),W=V(2806);class ie extends z.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,z.Nn)(Te)&&Te.add(this)):this.destination=He}static create(Te,Fe,$e){return new ut(Te,Fe,$e)}next(Te){this.isStopped?Le(function be(Ae){return Ee("N",Ae,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Le(function De(Ae){return Ee("E",void 0,Ae)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Le(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function ke(Ae,Te){return ze.call(Ae,Te)}class Qe{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next(Te)}catch($e){we($e)}}error(Te){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error(Te)}catch($e){we($e)}else we(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Fe){we(Fe)}}}class ut extends ie{constructor(Te,Fe,$e){let Be;if(super(),(0,l.m)(Te)||!Te)Be={next:Te??void 0,error:Fe??void 0,complete:$e??void 0};else{let he;this&&P.v.useDeprecatedNextContext?(he=Object.create(Te),he.unsubscribe=()=>this.unsubscribe(),Be={next:Te.next&&ke(Te.next,he),error:Te.error&&ke(Te.error,he),complete:Te.complete&&ke(Te.complete,he)}):Be=Te}this.destination=new Qe(Be)}}function we(Ae){P.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Ae):(0,se.h)(Ae)}function Le(Ae,Te){const{onStoppedNotification:Fe}=P.v;Fe&&Y.z.setTimeout(()=>Fe(Ae,Te))}const He={closed:!0,next:fe.Z,error:function Pe(Ae){throw Ae},complete:fe.Z}},727:(vt,Me,V)=>{V.d(Me,{Lc:()=>re,w0:()=>fe,Nn:()=>De});var l=V(576);const P=(0,V(3888).d)(Ee=>function(W){Ee(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((ie,ze)=>`${ze+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var se=V(8737);class fe{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const ke of W)ke.remove(this);else W.remove(this);const{initialTeardown:ie}=this;if((0,l.m)(ie))try{ie()}catch(ke){Y=ke instanceof P?ke.errors:[ke]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const ke of ze)try{be(ke)}catch(Qe){Y=Y??[],Qe instanceof P?Y=[...Y,...Qe.errors]:Y.push(Qe)}}if(Y)throw new P(Y)}}add(Y){var W;if(Y&&Y!==this)if(this.closed)be(Y);else{if(Y instanceof fe){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(Y)}}_hasParent(Y){const{_parentage:W}=this;return W===Y||Array.isArray(W)&&W.includes(Y)}_addParent(Y){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(Y),W):W?[W,Y]:Y}_removeParent(Y){const{_parentage:W}=this;W===Y?this._parentage=null:Array.isArray(W)&&(0,se.P)(W,Y)}remove(Y){const{_finalizers:W}=this;W&&(0,se.P)(W,Y),Y instanceof fe&&Y._removeParent(this)}}fe.EMPTY=(()=>{const Ee=new fe;return Ee.closed=!0,Ee})();const re=fe.EMPTY;function De(Ee){return Ee instanceof fe||Ee&&"closed"in Ee&&(0,l.m)(Ee.remove)&&(0,l.m)(Ee.add)&&(0,l.m)(Ee.unsubscribe)}function be(Ee){(0,l.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(vt,Me,V)=>{V.d(Me,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Me,V)=>{V.d(Me,{E:()=>z});const z=new(V(9751).y)(fe=>fe.complete())},8996:(vt,Me,V)=>{V.d(Me,{D:()=>Te});var l=V(8421),z=V(5363),P=V(9468),re=V(9751),be=V(2202),Ee=V(576),Y=V(9672);function ie(Fe,$e){if(!Fe)throw new Error("Iterable cannot be null");return new re.y(Be=>{(0,Y.f)(Be,$e,()=>{const he=Fe[Symbol.asyncIterator]();(0,Y.f)(Be,$e,()=>{he.next().then(et=>{et.done?Be.complete():Be.next(et.value)})},0,!0)})})}var ze=V(3670),ke=V(8239),Qe=V(1144),ut=V(6495),we=V(2206),Pe=V(4532),Le=V(3260);function Te(Fe,$e){return $e?function Ae(Fe,$e){if(null!=Fe){if((0,ze.c)(Fe))return function se(Fe,$e){return(0,l.Xf)(Fe).pipe((0,P.R)($e),(0,z.Q)($e))}(Fe,$e);if((0,Qe.z)(Fe))return function De(Fe,$e){return new re.y(Be=>{let he=0;return $e.schedule(function(){he===Fe.length?Be.complete():(Be.next(Fe[he++]),Be.closed||this.schedule())})})}(Fe,$e);if((0,ke.t)(Fe))return function fe(Fe,$e){return(0,l.Xf)(Fe).pipe((0,P.R)($e),(0,z.Q)($e))}(Fe,$e);if((0,we.D)(Fe))return ie(Fe,$e);if((0,ut.T)(Fe))return function W(Fe,$e){return new re.y(Be=>{let he;return(0,Y.f)(Be,$e,()=>{he=Fe[be.h](),(0,Y.f)(Be,$e,()=>{let et,St;try{({value:et,done:St}=he.next())}catch(dt){return void Be.error(dt)}St?Be.complete():Be.next(et)},0,!0)}),()=>(0,Ee.m)(he?.return)&&he.return()})}(Fe,$e);if((0,Le.L)(Fe))return function He(Fe,$e){return ie((0,Le.Q)(Fe),$e)}(Fe,$e)}throw(0,Pe.z)(Fe)}(Fe,$e):(0,l.Xf)(Fe)}},8421:(vt,Me,V)=>{V.d(Me,{Xf:()=>ze});var l=V(7582),z=V(1144),P=V(8239),se=V(9751),fe=V(3670),re=V(2206),De=V(4532),be=V(6495),Ee=V(3260),Y=V(576),W=V(7849),ie=V(8822);function ze(Ae){if(Ae instanceof se.y)return Ae;if(null!=Ae){if((0,fe.c)(Ae))return function ke(Ae){return new se.y(Te=>{const Fe=Ae[ie.L]();if((0,Y.m)(Fe.subscribe))return Fe.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,z.z)(Ae))return function Qe(Ae){return new se.y(Te=>{for(let Fe=0;Fe<Ae.length&&!Te.closed;Fe++)Te.next(Ae[Fe]);Te.complete()})}(Ae);if((0,P.t)(Ae))return function ut(Ae){return new se.y(Te=>{Ae.then(Fe=>{Te.closed||(Te.next(Fe),Te.complete())},Fe=>Te.error(Fe)).then(null,W.h)})}(Ae);if((0,re.D)(Ae))return Pe(Ae);if((0,be.T)(Ae))return function we(Ae){return new se.y(Te=>{for(const Fe of Ae)if(Te.next(Fe),Te.closed)return;Te.complete()})}(Ae);if((0,Ee.L)(Ae))return function Le(Ae){return Pe((0,Ee.Q)(Ae))}(Ae)}throw(0,De.z)(Ae)}function Pe(Ae){return new se.y(Te=>{(function He(Ae,Te){var Fe,$e,Be,he;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Fe=(0,l.KL)(Ae);!($e=yield Fe.next()).done;)if(Te.next($e.value),Te.closed)return}catch(et){Be={error:et}}finally{try{$e&&!$e.done&&(he=Fe.return)&&(yield he.call(Fe))}finally{if(Be)throw Be.error}}Te.complete()})})(Ae,Te).catch(Fe=>Te.error(Fe))})}},6451:(vt,Me,V)=>{V.d(Me,{T:()=>re});var l=V(8189),z=V(8421),P=V(515),se=V(3269),fe=V(8996);function re(...De){const be=(0,se.yG)(De),Ee=(0,se._6)(De,1/0),Y=De;return Y.length?1===Y.length?(0,z.Xf)(Y[0]):(0,l.J)(Ee)((0,fe.D)(Y,be)):P.E}},5403:(vt,Me,V)=>{V.d(Me,{x:()=>z});var l=V(930);function z(se,fe,re,De,be){return new P(se,fe,re,De,be)}class P extends l.Lv{constructor(fe,re,De,be,Ee,Y){super(fe),this.onFinalize=Ee,this.shouldUnsubscribe=Y,this._next=re?function(W){try{re(W)}catch(ie){fe.error(ie)}}:super._next,this._error=be?function(W){try{be(W)}catch(ie){fe.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(W){fe.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(vt,Me,V)=>{V.d(Me,{U:()=>P});var l=V(4482),z=V(5403);function P(se,fe){return(0,l.e)((re,De)=>{let be=0;re.subscribe((0,z.x)(De,Ee=>{De.next(se.call(fe,Ee,be++))}))})}},8189:(vt,Me,V)=>{V.d(Me,{J:()=>P});var l=V(5577),z=V(4671);function P(se=1/0){return(0,l.z)(z.y,se)}},5577:(vt,Me,V)=>{V.d(Me,{z:()=>be});var l=V(4004),z=V(8421),P=V(4482),se=V(9672),fe=V(5403),De=V(576);function be(Ee,Y,W=1/0){return(0,De.m)(Y)?be((ie,ze)=>(0,l.U)((ke,Qe)=>Y(ie,ke,ze,Qe))((0,z.Xf)(Ee(ie,ze))),W):("number"==typeof Y&&(W=Y),(0,P.e)((ie,ze)=>function re(Ee,Y,W,ie,ze,ke,Qe,ut){const we=[];let Pe=0,Le=0,He=!1;const Ae=()=>{He&&!we.length&&!Pe&&Y.complete()},Te=$e=>Pe<ie?Fe($e):we.push($e),Fe=$e=>{ke&&Y.next($e),Pe++;let Be=!1;(0,z.Xf)(W($e,Le++)).subscribe((0,fe.x)(Y,he=>{ze?.(he),ke?Te(he):Y.next(he)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Pe--;we.length&&Pe<ie;){const he=we.shift();Qe?(0,se.f)(Y,Qe,()=>Fe(he)):Fe(he)}Ae()}catch(he){Y.error(he)}}))};return Ee.subscribe((0,fe.x)(Y,Te,()=>{He=!0,Ae()})),()=>{ut?.()}}(ie,ze,Ee,W)))}},5363:(vt,Me,V)=>{V.d(Me,{Q:()=>se});var l=V(9672),z=V(4482),P=V(5403);function se(fe,re=0){return(0,z.e)((De,be)=>{De.subscribe((0,P.x)(be,Ee=>(0,l.f)(be,fe,()=>be.next(Ee),re),()=>(0,l.f)(be,fe,()=>be.complete(),re),Ee=>(0,l.f)(be,fe,()=>be.error(Ee),re)))})}},3099:(vt,Me,V)=>{V.d(Me,{B:()=>fe});var l=V(8421),z=V(7579),P=V(930),se=V(4482);function fe(De={}){const{connector:be=(()=>new z.x),resetOnError:Ee=!0,resetOnComplete:Y=!0,resetOnRefCountZero:W=!0}=De;return ie=>{let ze,ke,Qe,ut=0,we=!1,Pe=!1;const Le=()=>{ke?.unsubscribe(),ke=void 0},He=()=>{Le(),ze=Qe=void 0,we=Pe=!1},Ae=()=>{const Te=ze;He(),Te?.unsubscribe()};return(0,se.e)((Te,Fe)=>{ut++,!Pe&&!we&&Le();const $e=Qe=Qe??be();Fe.add(()=>{ut--,0===ut&&!Pe&&!we&&(ke=re(Ae,W))}),$e.subscribe(Fe),!ze&&ut>0&&(ze=new P.Hp({next:Be=>$e.next(Be),error:Be=>{Pe=!0,Le(),ke=re(He,Ee,Be),$e.error(Be)},complete:()=>{we=!0,Le(),ke=re(He,Y),$e.complete()}}),(0,l.Xf)(Te).subscribe(ze))})(ie)}}function re(De,be,...Ee){if(!0===be)return void De();if(!1===be)return;const Y=new P.Hp({next:()=>{Y.unsubscribe(),De()}});return(0,l.Xf)(be(...Ee)).subscribe(Y)}},9468:(vt,Me,V)=>{V.d(Me,{R:()=>z});var l=V(4482);function z(P,se=0){return(0,l.e)((fe,re)=>{re.add(P.schedule(()=>fe.subscribe(re),se))})}},8505:(vt,Me,V)=>{V.d(Me,{b:()=>fe});var l=V(576),z=V(4482),P=V(5403),se=V(4671);function fe(re,De,be){const Ee=(0,l.m)(re)||De||be?{next:re,error:De,complete:be}:re;return Ee?(0,z.e)((Y,W)=>{var ie;null===(ie=Ee.subscribe)||void 0===ie||ie.call(Ee);let ze=!0;Y.subscribe((0,P.x)(W,ke=>{var Qe;null===(Qe=Ee.next)||void 0===Qe||Qe.call(Ee,ke),W.next(ke)},()=>{var ke;ze=!1,null===(ke=Ee.complete)||void 0===ke||ke.call(Ee),W.complete()},ke=>{var Qe;ze=!1,null===(Qe=Ee.error)||void 0===Qe||Qe.call(Ee,ke),W.error(ke)},()=>{var ke,Qe;ze&&(null===(ke=Ee.unsubscribe)||void 0===ke||ke.call(Ee)),null===(Qe=Ee.finalize)||void 0===Qe||Qe.call(Ee)}))}):se.y}},4408:(vt,Me,V)=>{V.d(Me,{o:()=>fe});var l=V(727);class z extends l.w0{constructor(De,be){super()}schedule(De,be=0){return this}}const P={setInterval(re,De,...be){const{delegate:Ee}=P;return Ee?.setInterval?Ee.setInterval(re,De,...be):setInterval(re,De,...be)},clearInterval(re){const{delegate:De}=P;return(De?.clearInterval||clearInterval)(re)},delegate:void 0};var se=V(8737);class fe extends z{constructor(De,be){super(De,be),this.scheduler=De,this.work=be,this.pending=!1}schedule(De,be=0){var Ee;if(this.closed)return this;this.state=De;const Y=this.id,W=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(W,Y,be)),this.pending=!0,this.delay=be,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(W,this.id,be),this}requestAsyncId(De,be,Ee=0){return P.setInterval(De.flush.bind(De,this),Ee)}recycleAsyncId(De,be,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return be;null!=be&&P.clearInterval(be)}execute(De,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(De,be);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,be){let Y,Ee=!1;try{this.work(De)}catch(W){Ee=!0,Y=W||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:De,scheduler:be}=this,{actions:Ee}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(Ee,this),null!=De&&(this.id=this.recycleAsyncId(be,De,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Me,V)=>{V.d(Me,{v:()=>P});var l=V(6063);class z{constructor(fe,re=z.now){this.schedulerActionCtor=fe,this.now=re}schedule(fe,re=0,De){return new this.schedulerActionCtor(this,fe).schedule(De,re)}}z.now=l.l.now;class P extends z{constructor(fe,re=z.now){super(fe,re),this.actions=[],this._active=!1}flush(fe){const{actions:re}=this;if(this._active)return void re.push(fe);let De;this._active=!0;do{if(De=fe.execute(fe.state,fe.delay))break}while(fe=re.shift());if(this._active=!1,De){for(;fe=re.shift();)fe.unsubscribe();throw De}}}},4986:(vt,Me,V)=>{V.d(Me,{P:()=>se,z:()=>P});var l=V(4408);const P=new(V(7565).v)(l.o),se=P},6063:(vt,Me,V)=>{V.d(Me,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(vt,Me,V)=>{V.d(Me,{z:()=>l});const l={setTimeout(z,P,...se){const{delegate:fe}=l;return fe?.setTimeout?fe.setTimeout(z,P,...se):setTimeout(z,P,...se)},clearTimeout(z){const{delegate:P}=l;return(P?.clearTimeout||clearTimeout)(z)},delegate:void 0}},2202:(vt,Me,V)=>{V.d(Me,{h:()=>z});const z=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Me,V)=>{V.d(Me,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(vt,Me,V)=>{V.d(Me,{_6:()=>re,jO:()=>se,yG:()=>fe});var l=V(576),z=V(3532);function P(De){return De[De.length-1]}function se(De){return(0,l.m)(P(De))?De.pop():void 0}function fe(De){return(0,z.K)(P(De))?De.pop():void 0}function re(De,be){return"number"==typeof P(De)?De.pop():be}},8737:(vt,Me,V)=>{function l(z,P){if(z){const se=z.indexOf(P);0<=se&&z.splice(se,1)}}V.d(Me,{P:()=>l})},3888:(vt,Me,V)=>{function l(z){const se=z(fe=>{Error.call(fe),fe.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}V.d(Me,{d:()=>l})},2806:(vt,Me,V)=>{V.d(Me,{O:()=>se,x:()=>P});var l=V(2416);let z=null;function P(fe){if(l.v.useDeprecatedSynchronousErrorHandling){const re=!z;if(re&&(z={errorThrown:!1,error:null}),fe(),re){const{errorThrown:De,error:be}=z;if(z=null,De)throw be}}else fe()}function se(fe){l.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=fe)}},9672:(vt,Me,V)=>{function l(z,P,se,fe=0,re=!1){const De=P.schedule(function(){se(),re?z.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(z.add(De),!re)return De}V.d(Me,{f:()=>l})},4671:(vt,Me,V)=>{function l(z){return z}V.d(Me,{y:()=>l})},1144:(vt,Me,V)=>{V.d(Me,{z:()=>l});const l=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(vt,Me,V)=>{V.d(Me,{D:()=>z});var l=V(576);function z(P){return Symbol.asyncIterator&&(0,l.m)(P?.[Symbol.asyncIterator])}},576:(vt,Me,V)=>{function l(z){return"function"==typeof z}V.d(Me,{m:()=>l})},3670:(vt,Me,V)=>{V.d(Me,{c:()=>P});var l=V(8822),z=V(576);function P(se){return(0,z.m)(se[l.L])}},6495:(vt,Me,V)=>{V.d(Me,{T:()=>P});var l=V(2202),z=V(576);function P(se){return(0,z.m)(se?.[l.h])}},8239:(vt,Me,V)=>{V.d(Me,{t:()=>z});var l=V(576);function z(P){return(0,l.m)(P?.then)}},3260:(vt,Me,V)=>{V.d(Me,{L:()=>se,Q:()=>P});var l=V(7582),z=V(576);function P(fe){return(0,l.FC)(this,arguments,function*(){const De=fe.getReader();try{for(;;){const{value:be,done:Ee}=yield(0,l.qq)(De.read());if(Ee)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(be)}}finally{De.releaseLock()}})}function se(fe){return(0,z.m)(fe?.getReader)}},3532:(vt,Me,V)=>{V.d(Me,{K:()=>z});var l=V(576);function z(P){return P&&(0,l.m)(P.schedule)}},4482:(vt,Me,V)=>{V.d(Me,{A:()=>z,e:()=>P});var l=V(576);function z(se){return(0,l.m)(se?.lift)}function P(se){return fe=>{if(z(fe))return fe.lift(function(re){try{return se(re,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(vt,Me,V)=>{function l(){}V.d(Me,{Z:()=>l})},9635:(vt,Me,V)=>{V.d(Me,{U:()=>P,z:()=>z});var l=V(4671);function z(...se){return P(se)}function P(se){return 0===se.length?l.y:1===se.length?se[0]:function(re){return se.reduce((De,be)=>be(De),re)}}},7849:(vt,Me,V)=>{V.d(Me,{h:()=>P});var l=V(2416),z=V(3410);function P(se){z.z.setTimeout(()=>{const{onUnhandledError:fe}=l.v;if(!fe)throw se;fe(se)})}},4532:(vt,Me,V)=>{function l(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Me,{z:()=>l})},4650:(vt,Me,V)=>{V.d(Me,{$8M:()=>Xa,$WT:()=>Hi,$Z:()=>VS,AFp:()=>Qg,ALo:()=>RC,AaK:()=>be,AsE:()=>un,BQk:()=>Ca,CHM:()=>Fc,CRH:()=>nb,CZH:()=>Uo,CqO:()=>pv,D6c:()=>jp,DdM:()=>TC,EJc:()=>db,EiD:()=>lw,EpF:()=>fv,F$t:()=>yE,F4k:()=>dT,FYo:()=>Ny,FiY:()=>cs,G48:()=>Ch,Gf:()=>UC,GfV:()=>Ew,GkF:()=>gg,Gpc:()=>W,Hsn:()=>vE,Ikx:()=>vu,JOm:()=>Po,JVY:()=>uP,JZr:()=>ut,KtG:()=>za,L6k:()=>or,LAX:()=>Ey,LFG:()=>jt,LSH:()=>Ym,Lbi:()=>cb,Lck:()=>uA,MAs:()=>lT,MGl:()=>_v,MMx:()=>yp,NdJ:()=>mv,OlP:()=>pn,Oqu:()=>eh,P3R:()=>dS,PXZ:()=>XA,Q6J:()=>fg,QGY:()=>gE,QbO:()=>GA,Qsj:()=>Ly,R0b:()=>po,RDi:()=>qi,Rgc:()=>dc,SBq:()=>eg,Sil:()=>Sp,Suo:()=>jg,TTD:()=>id,TgZ:()=>gu,Udp:()=>wg,W1O:()=>_l,WFA:()=>gv,X6Q:()=>nM,XFs:()=>ct,Xpm:()=>zt,Xts:()=>dw,Y36:()=>$f,YKP:()=>yC,YNc:()=>mE,Yjl:()=>en,Yz7:()=>xe,Z0I:()=>Mt,ZZ4:()=>p_,_Bn:()=>_C,_UZ:()=>pg,_Vd:()=>Hf,_c5:()=>Jn,_uU:()=>Tv,aQg:()=>yl,c2e:()=>ex,cJS:()=>rn,cg1:()=>kv,d8E:()=>bu,dDg:()=>KA,dqk:()=>gn,eBb:()=>qm,eFA:()=>r_,eJc:()=>rb,ekj:()=>Dv,eoX:()=>n_,f3M:()=>Pn,g9A:()=>lb,h0i:()=>dh,hGG:()=>g_,hij:()=>Hs,iGM:()=>OA,ifc:()=>L,ip1:()=>Ip,jDz:()=>Ng,kL8:()=>Ov,lG2:()=>Rt,lcZ:()=>kC,lqb:()=>Gd,lri:()=>t_,mCW:()=>Wm,n5z:()=>Wc,oAB:()=>ce,oxw:()=>pT,pB0:()=>nw,q3G:()=>di,q4F:()=>Cw,qLn:()=>cl,qOj:()=>aE,qZA:()=>rc,qzn:()=>Xn,rWj:()=>gb,s9C:()=>ep,sBO:()=>mx,s_b:()=>Ug,soG:()=>bh,tBr:()=>Oo,tb:()=>ux,tp0:()=>us,uIk:()=>cv,vHH:()=>we,vpe:()=>Ta,wAp:()=>Dt,xp6:()=>MS,ynx:()=>mg,z2F:()=>Pp,z3N:()=>ds,zSh:()=>Ry,zs3:()=>ec});var l=V(7579),z=V(727),P=V(9751),se=V(6451),fe=V(3099);function re(s){for(let a in s)if(s[a]===re)return a;throw Error("Could not find renamed property on target object.")}function De(s,a){for(const u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=a[u])}function be(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(be).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function Ee(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const Y=re({__forward_ref__:re});function W(s){return s.__forward_ref__=W,s.toString=function(){return be(this())},s}function ie(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty(Y)&&s.__forward_ref__===W}function ke(s){return s&&!!s.\u0275providers}const ut="https://g.co/ng/security#xss";class we extends Error{constructor(a,u){super(Pe(a,u)),this.code=a}}function Pe(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}function Le(s){return"string"==typeof s?s:null==s?"":String(s)}function $e(s,a){throw new we(-201,!1)}function ae(s,a){null==s&&function ee(s,a,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function xe(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function rn(s){return{providers:s.providers||[],imports:s.imports||[]}}function _n(s){return mn(s,on)||mn(s,si)}function Mt(s){return null!==_n(s)}function mn(s,a){return s.hasOwnProperty(a)?s[a]:null}function ti(s){return s&&(s.hasOwnProperty(Mn)||s.hasOwnProperty(yn))?s[Mn]:null}const on=re({\u0275prov:re}),Mn=re({\u0275inj:re}),si=re({ngInjectableDef:re}),yn=re({ngInjectorDef:re});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let Un;function Gn(s){const a=Un;return Un=s,a}function Vi(s,a,u){const d=_n(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&ct.Optional?null:void 0!==a?a:void $e(be(s))}const gn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qn={},Si="__NG_DI_FLAG__",Hn="ngTempTokenPath",dr="ngTokenPath",jn=/\n/gm,_i="\u0275",Jt="__source";let Mr;function sn(s){const a=Mr;return Mr=s,a}function hr(s,a=ct.Default){if(void 0===Mr)throw new we(-203,!1);return null===Mr?Vi(s,void 0,a):Mr.get(s,a&ct.Optional?null:void 0,a)}function jt(s,a=ct.Default){return(function to(){return Un}()||hr)(ie(s),a)}function Pn(s,a=ct.Default){return jt(s,Ti(a))}function Ti(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Zn(s){const a=[];for(let u=0;u<s.length;u++){const d=ie(s[u]);if(Array.isArray(d)){if(0===d.length)throw new we(900,!1);let f,m=ct.Default;for(let y=0;y<d.length;y++){const C=d[y],I=Ui(C);"number"==typeof I?-1===I?f=C.token:m|=I:f=C}a.push(jt(f,m))}else a.push(jt(d))}return a}function Ji(s,a){return s[Si]=a,s.prototype[Si]=a,s}function Ui(s){return s[Si]}function $(s){return{toString:s}.toString()}var N=(()=>((N=N||{})[N.OnPush=0]="OnPush",N[N.Default=1]="Default",N))(),L=(()=>{return(s=L||(L={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",L;var s})();const O={},Q=[],Ie=re({\u0275cmp:re}),st=re({\u0275dir:re}),Tt=re({\u0275pipe:re}),xt=re({\u0275mod:re}),Kt=re({\u0275fac:re}),Ot=re({__NG_ELEMENT_ID__:re});let Tn=0;function zt(s){return $(()=>{const a=Cl(s),u={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||L.Emulated,id:"c"+Tn++,styles:s.styles||Q,_:null,schemas:s.schemas||null,tView:null};ef(u);const d=s.dependencies;return u.directiveDefs=_s(d,!1),u.pipeDefs=_s(d,!0),u})}function xo(s){return bt(s)||vn(s)}function ye(s){return null!==s}function ce(s){return $(()=>({type:s.type,bootstrap:s.bootstrap||Q,declarations:s.declarations||Q,imports:s.imports||Q,exports:s.exports||Q,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function _t(s,a){if(null==s)return O;const u={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=d,a&&(a[f]=m)}return u}function Rt(s){return $(()=>{const a=Cl(s);return ef(a),a})}function en(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function bt(s){return s[Ie]||null}function vn(s){return s[st]||null}function dn(s){return s[Tt]||null}function Hi(s){const a=bt(s)||vn(s)||dn(s);return null!==a&&a.standalone}function vi(s,a){const u=s[xt]||null;if(!u&&!0===a)throw new Error(`Type ${be(s)} does not have '\u0275mod' property.`);return u}function Cl(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Q,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_t(s.inputs,a),outputs:_t(s.outputs)}}function ef(s){s.features?.forEach(a=>a(s))}function _s(s,a){if(!s)return null;const u=a?dn:xo;return()=>("function"==typeof s?s():s).map(d=>u(d)).filter(ye)}const bi=0,tt=1,Qt=2,Rn=3,bn=4,Zo=5,wi=6,Yo=7,zn=8,Na=9,tr=10,qt=11,xl=12,Rr=13,Xs=14,Do=15,ai=16,ys=17,vs=18,yr=19,bs=20,Ei=21,In=22,Mc=1,La=2,Js=7,Ko=8,ws=9,Ai=10;function nr(s){return Array.isArray(s)&&"object"==typeof s[Mc]}function Gr(s){return Array.isArray(s)&&!0===s[Mc]}function Es(s){return 0!=(4&s.flags)}function Dl(s){return s.componentOffset>-1}function Ba(s){return 1==(1&s.flags)}function fr(s){return!!s.template}function Qo(s){return 0!=(256&s[Qt])}function Io(s,a){return s.hasOwnProperty(Kt)?s[Kt]:null}class nd{constructor(a,u,d){this.previousValue=a,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function id(){return Il}function Il(s){return s.type.prototype.ngOnChanges&&(s.setInput=es),af}function af(){const s=Sl(this),a=s?.current;if(a){const u=s.previous;if(u===O)s.previous=a;else for(let d in a)u[d]=a[d];s.current=null,this.ngOnChanges(a)}}function es(s,a,u,d){const f=this.declaredInputs[u],m=Sl(s)||function lf(s,a){return s[Rc]=a}(s,{previous:O,current:null}),y=m.current||(m.current={}),C=m.previous,I=C[f];y[f]=new nd(I&&I.currentValue,a,C===O),s[d]=a}id.ngInherit=!0;const Rc="__ngSimpleChanges__";function Sl(s){return s[Rc]||null}const Fn=function(s,a,u){};function li(s){for(;Array.isArray(s);)s=s[bi];return s}function Ds(s,a){return li(a[s])}function Mi(s,a){return li(a[s.index])}function Al(s,a){return s.data[a]}function ir(s,a){return s[a]}function Ci(s,a){const u=a[s];return nr(u)?u:u[bi]}function ts(s){return 64==(64&s[Qt])}function So(s,a){return null==a?null:s[a]}function ja(s){s[vs]=0}function ia(s,a){s[Zo]+=a;let u=s,d=s[Rn];for(;null!==d&&(1===a&&1===u[Zo]||-1===a&&0===u[Zo]);)d[Zo]+=a,u=d,d=d[Rn]}const Pt={lFrame:Ga(null),bindingsEnabled:!0};function od(){return Pt.bindingsEnabled}function ve(){return Pt.lFrame.lView}function Ht(){return Pt.lFrame.tView}function Fc(s){return Pt.lFrame.contextLView=s,s[zn]}function za(s){return Pt.lFrame.contextLView=null,s}function Yn(){let s=ad();for(;null!==s&&64===s.type;)s=s.parent;return s}function ad(){return Pt.lFrame.currentTNode}function Or(s,a){const u=Pt.lFrame;u.currentTNode=s,u.isParent=a}function Rl(){return Pt.lFrame.isParent}function ld(){Pt.lFrame.isParent=!1}function Ri(){const s=Pt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function To(){return Pt.lFrame.bindingIndex++}function ro(s){const a=Pt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,u}function dd(s,a){const u=Pt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Kn(a)}function Kn(s){Pt.lFrame.currentDirectiveIndex=s}function kl(s){const a=Pt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function $a(){return Pt.lFrame.currentQueryIndex}function hd(s){Pt.lFrame.currentQueryIndex=s}function Ol(s){const a=s[tt];return 2===a.type?a.declTNode:1===a.type?s[wi]:null}function fd(s,a,u){if(u&ct.SkipSelf){let f=a,m=s;for(;!(f=f.parent,null!==f||u&ct.Host||(f=Ol(m),null===f||(m=m[Do],10&f.type))););if(null===f)return!1;a=f,s=m}const d=Pt.lFrame=Nc();return d.currentTNode=a,d.lView=s,!0}function sa(s){const a=Nc(),u=s[tt];Pt.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function Nc(){const s=Pt.lFrame,a=null===s?null:s.child;return null===a?Ga(s):a}function Ga(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Lc(){const s=Pt.lFrame;return Pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Pl=Lc;function pd(){const s=Lc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ji(){return Pt.lFrame.selectedIndex}function oo(s){Pt.lFrame.selectedIndex=s}function kn(){const s=Pt.lFrame;return Al(s.tView,s.selectedIndex)}function Fl(s,a){for(let u=a.directiveStart,d=a.directiveEnd;u<d;u++){const m=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:k}=m;y&&(s.contentHooks??(s.contentHooks=[])).push(-u,y),C&&((s.contentHooks??(s.contentHooks=[])).push(u,C),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(u,C)),I&&(s.viewHooks??(s.viewHooks=[])).push(-u,I),T&&((s.viewHooks??(s.viewHooks=[])).push(u,T),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(u,T)),null!=k&&(s.destroyHooks??(s.destroyHooks=[])).push(u,k)}}function Uc(s,a,u){Nl(s,a,3,u)}function yd(s,a,u,d){(3&s[Qt])===u&&Nl(s,a,u,d)}function vd(s,a){let u=s[Qt];(3&u)===a&&(u&=2047,u+=1,s[Qt]=u)}function Nl(s,a,u,d){const m=d??-1,y=a.length-1;let C=0;for(let I=void 0!==d?65535&s[vs]:0;I<y;I++)if("number"==typeof a[I+1]){if(C=a[I],null!=d&&C>=d)break}else a[I]<0&&(s[vs]+=65536),(C<m||-1==m)&&(la(s,u,a,I),s[vs]=(4294901760&s[vs])+I+2),I++}function la(s,a,u,d){const f=u[d]<0,m=u[d+1],C=s[f?-u[d]:u[d]];if(f){if(s[Qt]>>11<s[vs]>>16&&(3&s[Qt])===a){s[Qt]+=2048,Fn(4,C,m);try{m.call(C)}finally{Fn(5,C,m)}}}else{Fn(4,C,m);try{m.call(C)}finally{Fn(5,C,m)}}}const qa=-1;class Ao{constructor(a,u,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function ca(s,a,u){let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const m=u[d++],y=u[d++],C=u[d++];s.setAttribute(a,y,C,m)}else{const m=f,y=u[++d];rs(m)?s.setProperty(a,m,y):s.setAttribute(a,m,y),d++}}return d}function wd(s){return 3===s||4===s||6===s}function rs(s){return 64===s.charCodeAt(0)}function Ss(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?u=f:0===u||ua(s,u,f,null,-1===u||2===u?a[++d]:null)}}return s}function ua(s,a,u,d,f){let m=0,y=s.length;if(-1===a)y=-1;else for(;m<s.length;){const C=s[m++];if("number"==typeof C){if(C===a){y=-1;break}if(C>a){y=m-1;break}}}for(;m<s.length;){const C=s[m];if("number"==typeof C)break;if(C===u){if(null===d)return void(null!==f&&(s[m+1]=f));if(d===s[m+1])return void(s[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==y&&(s.splice(y,0,a),m=y+1),s.splice(m++,0,u),null!==d&&s.splice(m++,0,d),null!==f&&s.splice(m++,0,f)}function Ts(s){return s!==qa}function da(s){return 32767&s}function Ya(s,a){let u=function Za(s){return s>>16}(s),d=a;for(;u>0;)d=d[Do],u--;return d}let jc=!0;function Ka(s){const a=jc;return jc=s,a}const zc=255,Vl=5;let $c=0;const rr={};function Gc(s,a){const u=Cd(s,a);if(-1!==u)return u;const d=a[tt];d.firstCreatePass&&(s.injectorIndex=a.length,so(d.data,s),so(a,null),so(d.blueprint,null));const f=Qn(s,a),m=s.injectorIndex;if(Ts(f)){const y=da(f),C=Ya(f,a),I=C[tt].data;for(let T=0;T<8;T++)a[m+T]=C[y+T]|I[y+T]}return a[m+8]=f,m}function so(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Cd(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Qn(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,f=a;for(;null!==f;){if(d=As(f),null===d)return qa;if(u++,f=f[Do],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return qa}function os(s,a,u){!function Ed(s,a,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Ot)&&(d=u[Ot]),null==d&&(d=u[Ot]=$c++);const f=d&zc;a.data[s+(f>>Vl)]|=1<<f}(s,a,u)}function xd(s,a,u){if(u&ct.Optional||void 0!==s)return s;$e()}function Qa(s,a,u,d){if(u&ct.Optional&&void 0===d&&(d=null),!(u&(ct.Self|ct.Host))){const f=s[Na],m=Gn(void 0);try{return f?f.get(a,d,u&ct.Optional):Vi(a,d,u&ct.Optional)}finally{Gn(m)}}return xd(d,0,u)}function Dd(s,a,u,d=ct.Default,f){if(null!==s){if(1024&a[Qt]){const y=function pf(s,a,u,d,f){let m=s,y=a;for(;null!==m&&null!==y&&1024&y[Qt]&&!(256&y[Qt]);){const C=Hl(m,y,u,d|ct.Self,rr);if(C!==rr)return C;let I=m.parent;if(!I){const T=y[Ei];if(T){const k=T.get(u,rr,d);if(k!==rr)return k}I=As(y),y=y[Do]}m=I}return f}(s,a,u,d,rr);if(y!==rr)return y}const m=Hl(s,a,u,d,rr);if(m!==rr)return m}return Qa(a,u,d,f)}function Hl(s,a,u,d,f){const m=function ff(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Ot)?s[Ot]:void 0;return"number"==typeof a?a>=0?a&zc:qc:a}(u);if("function"==typeof m){if(!fd(a,s,d))return d&ct.Host?xd(f,0,d):Qa(a,u,d,f);try{const y=m(d);if(null!=y||d&ct.Optional)return y;$e()}finally{Pl()}}else if("number"==typeof m){let y=null,C=Cd(s,a),I=qa,T=d&ct.Host?a[ai][wi]:null;for((-1===C||d&ct.SkipSelf)&&(I=-1===C?Qn(s,a):a[C+8],I!==qa&&jl(d,!1)?(y=a[tt],C=da(I),a=Ya(I,a)):C=-1);-1!==C;){const k=a[tt];if(ss(m,C,k.data)){const H=ci(C,a,u,y,d,T);if(H!==rr)return H}I=a[C+8],I!==qa&&jl(d,a[tt].data[C+8]===T)&&ss(m,C,a)?(y=k,C=da(I),a=Ya(I,a)):C=-1}}return f}function ci(s,a,u,d,f,m){const y=a[tt],C=y.data[s+8],k=ha(C,y,u,null==d?Dl(C)&&jc:d!=y&&0!=(3&C.type),f&ct.Host&&m===C);return null!==k?Nn(a,y,k,C):rr}function ha(s,a,u,d,f){const m=s.providerIndexes,y=a.data,C=1048575&m,I=s.directiveStart,k=m>>20,X=f?C+k:s.directiveEnd;for(let le=d?C:C+k;le<X;le++){const Se=y[le];if(le<I&&u===Se||le>=I&&Se.type===u)return le}if(f){const le=y[I];if(le&&fr(le)&&le.type===u)return I}return null}function Nn(s,a,u,d){let f=s[u];const m=a.data;if(function Rm(s){return s instanceof Ao}(f)){const y=f;y.resolving&&function Ae(s,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new we(-200,`Circular dependency in DI detected for ${s}${u}`)}(function He(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Le(s)}(m[u]));const C=Ka(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?Gn(y.injectImpl):null;fd(s,d,ct.Default);try{f=s[u]=y.factory(void 0,m,s,d),a.firstCreatePass&&u>=d.directiveStart&&function Mm(s,a,u){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(d){const y=Il(a);(u.preOrderHooks??(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,y)}f&&(u.preOrderHooks??(u.preOrderHooks=[])).push(0-s,f),m&&((u.preOrderHooks??(u.preOrderHooks=[])).push(s,m),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,m))}(u,m[u],a)}finally{null!==I&&Gn(I),Ka(C),y.resolving=!1,Pl()}}return f}function ss(s,a,u){return!!(u[a+(s>>Vl)]&1<<s)}function jl(s,a){return!(s&ct.Self||s&ct.Host&&a)}class fa{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,d){return Dd(this._tNode,this._lView,a,Ti(d),u)}}function qc(){return new fa(Yn(),ve())}function Wc(s){return $(()=>{const a=s.prototype.constructor,u=a[Kt]||as(a),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const m=f[Kt]||as(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function as(s){return ze(s)?()=>{const a=as(ie(s));return a&&a()}:Io(s)}function As(s){const a=s[tt],u=a.type;return 2===u?a.declTNode:1===u?s[wi]:null}function Xa(s){return function Ul(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const d=u.length;let f=0;for(;f<d;){const m=u[f];if(wd(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof u[f];)f++;else{if(m===a)return u[f+1];f+=2}}}return null}(Yn(),s)}const Rs="__parameters__";function ks(s,a,u){return $(()=>{const d=function Id(s){return function(...u){if(s){const d=s(...u);for(const f in d)this[f]=d[f]}}}(a);function f(...m){if(this instanceof f)return d.apply(this,m),this;const y=new f(...m);return C.annotation=y,C;function C(I,T,k){const H=I.hasOwnProperty(Rs)?I[Rs]:Object.defineProperty(I,Rs,{value:[]})[Rs];for(;H.length<=k;)H.push(null);return(H[k]=H[k]||[]).push(y),I}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class pn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=xe({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ls(s,a){s.forEach(u=>Array.isArray(u)?ls(u,a):a(u))}function Jc(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function Ja(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function pa(s,a){const u=[];for(let d=0;d<s;d++)u.push(a);return u}function Pr(s,a,u){let d=Ft(s,a);return d>=0?s[1|d]=u:(d=~d,function el(s,a,u,d){let f=s.length;if(f==a)s.push(u,d);else if(1===f)s.push(d,s[0]),s[0]=u;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=u,s[a+1]=d}}(s,d,a,u)),d}function Ro(s,a){const u=Ft(s,a);if(u>=0)return s[1|u]}function Ft(s,a){return function Ln(s,a,u){let d=0,f=s.length>>u;for(;f!==d;){const m=d+(f-d>>1),y=s[m<<u];if(a===y)return m<<u;y>a?f=m:d=m+1}return~(f<<u)}(s,a,1)}const Oo=Ji(ks("Inject",s=>({token:s})),-1),cs=Ji(ks("Optional"),8),us=Ji(ks("SkipSelf"),4);var Po=(()=>((Po=Po||{})[Po.Important=1]="Important",Po[Po.DashCase=2]="DashCase",Po))();const Bd=new Map;let py=0;const K="__ngContext__";function J(s,a){nr(a)?(s[K]=a[bs],function Lm(s){Bd.set(s[bs],s)}(a)):s[K]=a}let Fr;function Wr(s,a){return Fr(s,a)}function Mf(s){const a=s[Rn];return Gr(a)?a[Rn]:a}function au(s){return Bm(s[Rr])}function kf(s){return Bm(s[bn])}function Bm(s){for(;null!==s&&!Gr(s);)s=s[bn];return s}function lu(s,a,u,d,f){if(null!=d){let m,y=!1;Gr(d)?m=d:nr(d)&&(y=!0,d=d[bi]);const C=li(d);0===s&&null!==u?null==f?Nr(a,u,C):tn(a,u,C,f||null,!0):1===s&&null!==u?tn(a,u,C,f||null,!0):2===s?function X0(s,a,u){const d=cu(s,a);d&&function Of(s,a,u,d){s.removeChild(a,u,d)}(s,d,a,u)}(a,C,y):3===s&&a.destroyNode(C),null!=m&&function sP(s,a,u,d,f){const m=u[Js];m!==li(u)&&lu(a,s,d,m,f);for(let C=Ai;C<u.length;C++){const I=u[C];$m(I[tt],I,s,a,d,m)}}(a,s,m,u,f)}}function Um(s,a,u){return s.createElement(a,u)}function E(s,a){const u=s[ws],d=u.indexOf(a),f=a[Rn];512&a[Qt]&&(a[Qt]&=-513,ia(f,-1)),u.splice(d,1)}function R(s,a){if(s.length<=Ai)return;const u=Ai+a,d=s[u];if(d){const f=d[ys];null!==f&&f!==s&&E(f,d),a>0&&(s[u-1][bn]=d[bn]);const m=Ja(s,Ai+a);!function _y(s,a){$m(s,a,a[qt],2,null,null),a[bi]=null,a[wi]=null}(d[tt],d);const y=m[yr];null!==y&&y.detachView(m[tt]),d[Rn]=null,d[bn]=null,d[Qt]&=-65}return d}function F(s,a){if(!(128&a[Qt])){const u=a[qt];u.destroyNode&&$m(s,a,u,3,null,null),function b(s){let a=s[Rr];if(!a)return te(s[tt],s);for(;a;){let u=null;if(nr(a))u=a[Rr];else{const d=a[Ai];d&&(u=d)}if(!u){for(;a&&!a[bn]&&a!==s;)nr(a)&&te(a[tt],a),a=a[Rn];null===a&&(a=s),nr(a)&&te(a[tt],a),u=a&&a[bn]}a=u}}(a)}}function te(s,a){if(!(128&a[Qt])){a[Qt]&=-65,a[Qt]|=128,function qe(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const f=a[u[d]];if(!(f instanceof Ao)){const m=u[d+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const C=f[m[y]],I=m[y+1];Fn(4,C,I);try{I.call(C)}finally{Fn(5,C,I)}}else{Fn(4,f,m);try{m.call(f)}finally{Fn(5,f,m)}}}}}(s,a),function pe(s,a){const u=s.cleanup,d=a[Yo];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const y=u[m+3];y>=0?d[f=y]():d[f=-y].unsubscribe(),m+=2}else{const y=d[f=u[m+1]];u[m].call(y)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();a[Yo]=null}}(s,a),1===a[tt].type&&a[qt].destroy();const u=a[ys];if(null!==u&&Gr(a[Rn])){u!==a[Rn]&&E(u,a);const d=a[yr];null!==d&&d.detachView(s)}!function Vd(s){Bd.delete(s[bs])}(a)}}function it(s,a,u){return function wt(s,a,u){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return u[bi];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:m}=s.data[d.directiveStart+f];if(m===L.None||m===L.Emulated)return null}return Mi(d,u)}}(s,a.parent,u)}function tn(s,a,u,d,f){s.insertBefore(a,u,d,f)}function Nr(s,a,u){s.appendChild(a,u)}function ba(s,a,u,d,f){null!==d?tn(s,a,u,d,f):Nr(s,a,u)}function cu(s,a){return s.parentNode(a)}function Hm(s,a,u){return jm(s,a,u)}let Ff,vy,Gi,xi,jm=function Pf(s,a,u){return 40&s.type?Mi(s,u):null};function Hd(s,a,u,d){const f=it(s,d,a),m=a[qt],C=Hm(d.parent||a[wi],d,a);if(null!=f)if(Array.isArray(u))for(let I=0;I<u.length;I++)ba(m,f,u[I],C,!1);else ba(m,f,u,C,!1);void 0!==Ff&&Ff(m,d,a,u,f)}function Lf(s,a){if(null!==a){const u=a.type;if(3&u)return Mi(a,s);if(4&u)return zm(-1,s[a.index]);if(8&u){const d=a.child;if(null!==d)return Lf(s,d);{const f=s[a.index];return Gr(f)?zm(-1,f):li(f)}}if(32&u)return Wr(a,s)()||li(s[a.index]);{const d=Bf(s,a);return null!==d?Array.isArray(d)?d[0]:Lf(Mf(s[ai]),d):Lf(s,a.next)}}return null}function Bf(s,a){return null!==a?s[ai][wi].projection[a.projection]:null}function zm(s,a){const u=Ai+s+1;if(u<a.length){const d=a[u],f=d[tt].firstChild;if(null!==f)return Lf(d,f)}return a[Js]}function J0(s,a,u,d,f,m,y){for(;null!=u;){const C=d[u.index],I=u.type;if(y&&0===a&&(C&&J(li(C),d),u.flags|=2),32!=(32&u.flags))if(8&I)J0(s,a,u.child,d,f,m,!1),lu(a,s,f,C,m);else if(32&I){const T=Wr(u,d);let k;for(;k=T();)lu(a,s,f,k,m);lu(a,s,f,C,m)}else 16&I?ZI(s,a,d,u,f,m):lu(a,s,f,C,m);u=y?u.projectionNext:u.next}}function $m(s,a,u,d,f,m){J0(u,d,s.firstChild,a,f,m,!1)}function ZI(s,a,u,d,f,m){const y=u[ai],I=y[wi].projection[d.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)lu(a,s,f,I[T],m);else J0(s,a,I,y[Rn],f,m,!0)}function YI(s,a,u){""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u)}function KI(s,a,u){const{mergedAttrs:d,classes:f,styles:m}=u;null!==d&&ca(s,a,d),null!==f&&YI(s,a,f),null!==m&&function lP(s,a,u){s.setAttribute(a,"style",u)}(s,a,m)}function Vf(s){return function ew(){if(void 0===vy&&(vy=null,gn.trustedTypes))try{vy=gn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return vy}()?.createHTML(s)||s}function qi(s){Gi=s}function tw(s){return function Gm(){if(void 0===xi&&(xi=null,gn.trustedTypes))try{xi=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return xi}()?.createScriptURL(s)||s}class Fo{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ut})`}}class JI extends Fo{getTypeName(){return"HTML"}}class co extends Fo{getTypeName(){return"Style"}}class No extends Fo{getTypeName(){return"Script"}}class wy extends Fo{getTypeName(){return"URL"}}class eS extends Fo{getTypeName(){return"ResourceURL"}}function ds(s){return s instanceof Fo?s.changingThisBreaksApplicationSecurity:s}function Xn(s,a){const u=function ol(s){return s instanceof Fo&&s.getTypeName()||null}(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see ${ut})`)}return u===a}function uP(s){return new JI(s)}function or(s){return new co(s)}function qm(s){return new No(s)}function Ey(s){return new wy(s)}function nw(s){return new eS(s)}class tS{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(Vf(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class rw{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const u=this.inertDocument.createElement("template");return u.innerHTML=Vf(a),u}}const iS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wm(s){return(s=String(s)).match(iS)?s:"unsafe:"+s}function sl(s){const a={};for(const u of s.split(","))a[u]=!0;return a}function zd(...s){const a={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(a[d]=!0);return a}const ow=sl("area,br,col,hr,img,wbr"),yt=sl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sw=sl("rp,rt"),Cy=zd(ow,zd(yt,sl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zd(sw,sl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zd(sw,yt)),Uf=sl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$d=zd(Uf,sl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sS=sl("script,style,template");class Zm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!Cy.hasOwnProperty(u))return this.sanitizedSomething=!0,!sS.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=a.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),y=m.name,C=y.toLowerCase();if(!$d.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=m.value;Uf[C]&&(I=Wm(I)),this.buf.push(" ",y,'="',xy(I),'"')}return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();Cy.hasOwnProperty(u)&&!ow.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(xy(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const Ql=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fP=/([^\#-~ |!])/g;function xy(s){return s.replace(/&/g,"&amp;").replace(Ql,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(fP,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let al;function lw(s,a){let u=null;try{al=al||function iw(s){const a=new rw(s);return function nS(){try{return!!(new window.DOMParser).parseFromString(Vf(""),"text/html")}catch{return!1}}()?new tS(a):a}(s);let d=a?String(a):"";u=al.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=u.innerHTML,u=al.getInertBodyElement(d)}while(d!==m);return Vf((new Zm).sanitizeChildren(Dy(u)||u))}finally{if(u){const d=Dy(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Dy(s){return"content"in s&&function aS(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var di=(()=>((di=di||{})[di.NONE=0]="NONE",di[di.HTML=1]="HTML",di[di.STYLE=2]="STYLE",di[di.SCRIPT=3]="SCRIPT",di[di.URL=4]="URL",di[di.RESOURCE_URL=5]="RESOURCE_URL",di))();function Ym(s){const a=Km();return a?a.sanitize(di.URL,s)||"":Xn(s,"URL")?ds(s):Wm(Le(s))}function cS(s){const a=Km();if(a)return tw(a.sanitize(di.RESOURCE_URL,s)||"");if(Xn(s,"ResourceURL"))return tw(ds(s));throw new we(904,!1)}function dS(s,a,u){return function uS(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?cS:Ym}(a,u)(s)}function Km(){const s=ve();return s&&s[xl]}const dw=new pn("ENVIRONMENT_INITIALIZER"),hS=new pn("INJECTOR",-1),fS=new pn("INJECTOR_DEF_TYPES");class pS{get(a,u=qn){if(u===qn){const d=new Error(`NullInjectorError: No provider for ${be(a)}!`);throw d.name="NullInjectorError",d}return u}}function Qm(...s){return{\u0275providers:hw(0,s),\u0275fromNgModule:!0}}function hw(s,...a){const u=[],d=new Set;let f;return ls(a,m=>{const y=m;Iy(y,u,[],d)&&(f||(f=[]),f.push(y))}),void 0!==f&&fw(f,u),u}function fw(s,a){for(let u=0;u<s.length;u++){const{providers:f}=s[u];Sy(f,m=>{a.push(m)})}}function Iy(s,a,u,d){if(!(s=ie(s)))return!1;let f=null,m=ti(s);const y=!m&&bt(s);if(m||y){if(y&&!y.standalone)return!1;f=s}else{const I=s.ngModule;if(m=ti(I),!m)return!1;f=I}const C=d.has(f);if(y){if(C)return!1;if(d.add(f),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of I)Iy(T,a,u,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let T;d.add(f);try{ls(m.imports,k=>{Iy(k,a,u,d)&&(T||(T=[]),T.push(k))})}finally{}void 0!==T&&fw(T,a)}if(!C){const T=Io(f)||(()=>new f);a.push({provide:f,useFactory:T,deps:Q},{provide:fS,useValue:f,multi:!0},{provide:dw,useValue:()=>jt(f),multi:!0})}const I=m.providers;null==I||C||Sy(I,k=>{a.push(k)})}}return f!==s&&void 0!==s.providers}function Sy(s,a){for(let u of s)ke(u)&&(u=u.\u0275providers),Array.isArray(u)?Sy(u,a):a(u)}const mS=re({provide:String,useValue:re});function Ty(s){return null!==s&&"object"==typeof s&&mS in s}function uu(s){return"function"==typeof s}const Ry=new pn("Set Injector scope."),Xm={},ky={};let pw;function Oy(){return void 0===pw&&(pw=new pS),pw}class Gd{}class _S extends Gd{get destroyed(){return this._destroyed}constructor(a,u,d,f){super(),this.parent=u,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fy(a,y=>this.processProvider(y)),this.records.set(hS,qd(void 0,this)),f.has("environment")&&this.records.set(Gd,qd(void 0,this));const m=this.records.get(Ry);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(fS.multi,Q,ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=sn(this),d=Gn(void 0);try{return a()}finally{sn(u),Gn(d)}}get(a,u=qn,d=ct.Default){this.assertNotDestroyed(),d=Ti(d);const f=sn(this),m=Gn(void 0);try{if(!(d&ct.SkipSelf)){let C=this.records.get(a);if(void 0===C){const I=function Wd(s){return"function"==typeof s||"object"==typeof s&&s instanceof pn}(a)&&_n(a);C=I&&this.injectableDefInScope(I)?qd(mw(a),Xm):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&ct.Self?Oy():this.parent).get(a,u=d&ct.Optional&&u===qn?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[Hn]=y[Hn]||[]).unshift(be(a)),f)throw y;return function er(s,a,u,d){const f=s[Hn];throw a[Jt]&&f.unshift(a[Jt]),s.message=function G(s,a,u,d=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==_i?s.slice(2):s;let f=be(a);if(Array.isArray(a))f=a.map(be).join(" -> ");else if("object"==typeof a){let m=[];for(let y in a)if(a.hasOwnProperty(y)){let C=a[y];m.push(y+":"+("string"==typeof C?JSON.stringify(C):be(C)))}f=`{${m.join(", ")}}`}return`${u}${d?"("+d+")":""}[${f}]: ${s.replace(jn,"\n  ")}`}("\n"+s.message,f,u,d),s[dr]=f,s[Hn]=null,s}(y,a,"R3InjectorError",this.source)}throw y}finally{Gn(m),sn(f)}}resolveInjectorInitializers(){const a=sn(this),u=Gn(void 0);try{const d=this.get(dw.multi,Q,ct.Self);for(const f of d)f()}finally{sn(a),Gn(u)}}toString(){const a=[],u=this.records;for(const d of u.keys())a.push(be(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(a){let u=uu(a=ie(a))?a:ie(a&&a.provide);const d=function gw(s){return Ty(s)?qd(void 0,s.useValue):qd(Py(s),Xm)}(a);if(uu(a)||!0!==a.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=qd(void 0,Xm,!0),f.factory=()=>Zn(f.multi),this.records.set(u,f)),u=a,f.multi.push(a)}this.records.set(u,d)}hydrate(a,u){return u.value===Xm&&(u.value=ky,u.value=u.factory()),"object"==typeof u.value&&u.value&&function _w(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=ie(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function mw(s){const a=_n(s),u=null!==a?a.factory:Io(s);if(null!==u)return u;if(s instanceof pn)throw new we(204,!1);if(s instanceof Function)return function yP(s){const a=s.length;if(a>0)throw pa(a,"?"),new we(204,!1);const u=function An(s){return s&&(s[on]||s[si])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new we(204,!1)}function Py(s,a,u){let d;if(uu(s)){const f=ie(s);return Io(f)||mw(f)}if(Ty(s))d=()=>ie(s.useValue);else if(function My(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Zn(s.deps||[]));else if(function Ay(s){return!(!s||!s.useExisting)}(s))d=()=>jt(ie(s.useExisting));else{const f=ie(s&&(s.useClass||s.provide));if(!function yS(s){return!!s.deps}(s))return Io(f)||mw(f);d=()=>new f(...Zn(s.deps))}return d}function qd(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function Fy(s,a){for(const u of s)Array.isArray(u)?Fy(u,a):u&&ke(u)?Fy(u.\u0275providers,a):a(u)}class vS{}class yw{}class vP{resolveComponentFactory(a){throw function bS(s){const a=Error(`No component factory found for ${be(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Hf=(()=>{class s{}return s.NULL=new vP,s})();function Jm(){return ll(Yn(),ve())}function ll(s,a){return new eg(Mi(s,a))}let eg=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=Jm,s})();function bw(s){return s instanceof eg?s.nativeElement:s}class Ny{}let Ly=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function ww(){const s=ve(),u=Ci(Yn().index,s);return(nr(u)?u:s)[qt]}(),s})(),ES=(()=>{class s{}return s.\u0275prov=xe({token:s,providedIn:"root",factory:()=>null}),s})();class Ew{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Cw=new Ew("15.2.10"),By={},Vy="ngOriginalError";function xw(s){return s[Vy]}class cl{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&xw(a);for(;u&&xw(u);)u=xw(u);return u||null}}function Jl(s){return s instanceof Function?s():s}function CS(s,a,u){let d=s.length;for(;;){const f=s.indexOf(a,u);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const m=a.length;if(f+m===d||s.charCodeAt(f+m)<=32)return f}u=f+1}}const xS="ng-template";function TP(s,a,u){let d=0,f=!0;for(;d<s.length;){let m=s[d++];if("string"==typeof m&&f){const y=s[d++];if(u&&"class"===m&&-1!==CS(y.toLowerCase(),a,0))return!0}else{if(1===m){for(;d<s.length&&"string"==typeof(m=s[d++]);)if(m.toLowerCase()===a)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function Tw(s){return 4===s.type&&s.value!==xS}function Aw(s,a,u){return a===(4!==s.type||u?s.value:xS)}function DS(s,a,u){let d=4;const f=s.attrs||[],m=function TS(s){for(let a=0;a<s.length;a++)if(wd(s[a]))return a;return s.length}(f);let y=!1;for(let C=0;C<a.length;C++){const I=a[C];if("number"!=typeof I){if(!y)if(4&d){if(d=2|1&d,""!==I&&!Aw(s,I,u)||""===I&&1===a.length){if(wa(d))return!1;y=!0}}else{const T=8&d?I:a[++C];if(8&d&&null!==s.attrs){if(!TP(s.attrs,T,u)){if(wa(d))return!1;y=!0}continue}const H=IS(8&d?"class":I,f,Tw(s),u);if(-1===H){if(wa(d))return!1;y=!0;continue}if(""!==T){let X;X=H>m?"":f[H+1].toLowerCase();const le=8&d?X:null;if(le&&-1!==CS(le,T,0)||2&d&&T!==X){if(wa(d))return!1;y=!0}}}}else{if(!y&&!wa(d)&&!wa(I))return!1;if(y&&wa(I))continue;y=!1,d=I|1&d}}return wa(d)||y}function wa(s){return 0==(1&s)}function IS(s,a,u,d){if(null===a)return-1;let f=0;if(d||!u){let m=!1;for(;f<a.length;){const y=a[f];if(y===s)return f;if(3===y||6===y)m=!0;else{if(1===y||2===y){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=m?1:2}return-1}return function MP(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===a)return u;u++}return-1}(a,s)}function SS(s,a,u=!1){for(let d=0;d<a.length;d++)if(DS(s,a[d],u))return!0;return!1}function RP(s,a){e:for(let u=0;u<a.length;u++){const d=a[u];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function AS(s,a){return s?":not("+a.trim()+")":a}function kP(s){let a=s[0],u=1,d=2,f="",m=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&d){const C=s[++u];f+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!wa(y)&&(a+=AS(m,f),f=""),d=y,m=m||!wa(d);u++}return""!==f&&(a+=AS(m,f)),a}const an={};function MS(s){RS(Ht(),ve(),ji()+s,!1)}function RS(s,a,u,d){if(!d)if(3==(3&a[Qt])){const m=s.preOrderCheckHooks;null!==m&&Uc(a,m,u)}else{const m=s.preOrderHooks;null!==m&&yd(a,m,0,u)}oo(u)}function Ow(s,a=null,u=null,d){const f=Uy(s,a,u,d);return f.resolveInjectorInitializers(),f}function Uy(s,a=null,u=null,d,f=new Set){const m=[u||Q,Qm(s)];return d=d||("object"==typeof s?void 0:be(s)),new _S(m,a||Oy(),d||null,f)}let ec=(()=>{class s{static create(u,d){if(Array.isArray(u))return Ow({name:""},d,u,"");{const f=u.name??"";return Ow({name:f},u.parent,u.providers,f)}}}return s.THROW_IF_NOT_FOUND=qn,s.NULL=new pS,s.\u0275prov=xe({token:s,providedIn:"any",factory:()=>jt(hS)}),s.__NG_ELEMENT_ID__=-1,s})();function $f(s,a=ct.Default){const u=ve();return null===u?jt(s,a):Dd(Yn(),u,ie(s),a)}function VS(){throw new Error("invalid")}function Uw(s,a){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const m=u[d+1];if(-1!==m){const y=s.data[m];hd(u[d]),y.contentQueries(2,a[m],m)}}}function tg(s,a,u,d,f,m,y,C,I,T,k){const H=a.blueprint.slice();return H[bi]=f,H[Qt]=76|d,(null!==k||s&&1024&s[Qt])&&(H[Qt]|=1024),ja(H),H[Rn]=H[Do]=s,H[zn]=u,H[tr]=y||s&&s[tr],H[qt]=C||s&&s[qt],H[xl]=I||s&&s[xl]||null,H[Na]=T||s&&s[Na]||null,H[wi]=m,H[bs]=function Sf(){return py++}(),H[Ei]=k,H[ai]=2==a.type?s[ai]:H,H}function Gf(s,a,u,d,f){let m=s.data[a];if(null===m)m=function Wy(s,a,u,d,f){const m=ad(),y=Rl(),I=s.data[a]=function qw(s,a,u,d,f,m){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,u,a,d,f);return null===s.firstChild&&(s.firstChild=I),null!==m&&(y?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I,I.prev=m)),I}(s,a,u,d,f),function ud(){return Pt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=u,m.value=d,m.attrs=f;const y=function ra(){const s=Pt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return Or(m,!0),m}function Yd(s,a,u,d){if(0===u)return-1;const f=a.length;for(let m=0;m<u;m++)a.push(d),s.blueprint.push(d),s.data.push(null);return f}function Zy(s,a,u){sa(a);try{const d=s.viewQuery;null!==d&&eE(1,d,u);const f=s.template;null!==f&&Hw(s,a,f,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Uw(s,a),s.staticViewQueries&&eE(2,s.viewQuery,u);const m=s.components;null!==m&&function qy(s,a){for(let u=0;u<a.length;u++)nF(s,a[u])}(a,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[Qt]&=-5,pd()}}function Yy(s,a,u,d){const f=a[Qt];if(128!=(128&f)){sa(a);try{ja(a),function is(s){return Pt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Hw(s,a,u,2,d);const y=3==(3&f);if(y){const T=s.preOrderCheckHooks;null!==T&&Uc(a,T,null)}else{const T=s.preOrderHooks;null!==T&&yd(a,T,0,null),vd(a,0)}if(function Jy(s){for(let a=au(s);null!==a;a=kf(a)){if(!a[La])continue;const u=a[ws];for(let d=0;d<u.length;d++){const f=u[d];512&f[Qt]||ia(f[Rn],1),f[Qt]|=512}}}(a),function Zf(s){for(let a=au(s);null!==a;a=kf(a))for(let u=Ai;u<a.length;u++){const d=a[u],f=d[tt];ts(d)&&Yy(f,d,f.template,d[zn])}}(a),null!==s.contentQueries&&Uw(s,a),y){const T=s.contentCheckHooks;null!==T&&Uc(a,T)}else{const T=s.contentHooks;null!==T&&yd(a,T,1),vd(a,1)}!function ZP(s,a){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const f=u[d];if(f<0)oo(~f);else{const m=f,y=u[++d],C=u[++d];dd(y,m),C(2,a[m])}}}finally{oo(-1)}}(s,a);const C=s.components;null!==C&&function US(s,a){for(let u=0;u<a.length;u++)qS(s,a[u])}(a,C);const I=s.viewQuery;if(null!==I&&eE(2,I,d),y){const T=s.viewCheckHooks;null!==T&&Uc(a,T)}else{const T=s.viewHooks;null!==T&&yd(a,T,2),vd(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[Qt]&=-41,512&a[Qt]&&(a[Qt]&=-513,ia(a[Rn],-1))}finally{pd()}}}function Hw(s,a,u,d,f){const m=ji(),y=2&d;try{oo(-1),y&&a.length>In&&RS(s,a,In,!1),Fn(y?2:0,f),u(d,f)}finally{oo(m),Fn(y?3:1,f)}}function jw(s,a,u){if(Es(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const y=s.data[m];y.contentQueries&&y.contentQueries(1,u[m],m)}}}function zw(s,a,u){od()&&(function Kw(s,a,u,d){const f=u.directiveStart,m=u.directiveEnd;Dl(u)&&function JP(s,a,u){const d=Mi(a,s),f=HS(u),m=s[tr],y=ev(s,tg(s,f,null,u.onPush?32:16,d,a,m,m.createRenderer(d,u),null,null,null));s[a.index]=y}(a,u,s.data[f+u.componentOffset]),s.firstCreatePass||Gc(u,a),J(d,a);const y=u.initialInputs;for(let C=f;C<m;C++){const I=s.data[C],T=Nn(a,s,C,u);J(T,a),null!==y&&eF(0,C-f,T,I,0,y),fr(I)&&(Ci(u.index,a)[zn]=Nn(a,s,C,u))}}(s,a,u,Mi(u,a)),64==(64&u.flags)&&GS(s,a,u))}function $w(s,a,u=Mi){const d=a.localNames;if(null!==d){let f=a.index+1;for(let m=0;m<d.length;m+=2){const y=d[m+1],C=-1===y?u(a,s):s[y];s[f++]=C}}}function HS(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Gw(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Gw(s,a,u,d,f,m,y,C,I,T){const k=In+d,H=k+f,X=function YP(s,a){const u=[];for(let d=0;d<a;d++)u.push(d<s?null:an);return u}(k,H),le="function"==typeof T?T():T;return X[tt]={type:s,blueprint:X,template:u,queries:null,viewQuery:C,declTNode:a,data:X.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:le,incompleteFirstPass:!1}}function zS(s,a,u,d){const f=ZS(a);null===u?f.push(d):(f.push(u),s.firstCreatePass&&xr(s).push(d,f.length-1))}function Ky(s,a,u,d){for(let f in s)if(s.hasOwnProperty(f)){u=null===u?{}:u;const m=s[f];null===d?Ww(u,a,f,m):d.hasOwnProperty(f)&&Ww(u,a,d[f],m)}return u}function Ww(s,a,u,d){s.hasOwnProperty(u)?s[u].push(a,d):s[u]=[a,d]}function Cr(s,a,u,d,f,m,y,C){const I=Mi(a,u);let k,T=a.inputs;!C&&null!=T&&(k=T[d])?(iv(s,u,k,d,f),Dl(a)&&function Zw(s,a){const u=Ci(a,s);16&u[Qt]||(u[Qt]|=32)}(u,a.index)):3&a.type&&(d=function Qy(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=y?y(f,a.value||"",d):f,m.setProperty(I,d,f))}function hu(s,a,u,d){if(od()){const f=null===d?null:{"":-1},m=function QP(s,a){const u=s.directiveRegistry;let d=null,f=null;if(u)for(let m=0;m<u.length;m++){const y=u[m];if(SS(a,y.selectors,!1))if(d||(d=[]),fr(y))if(null!==y.findHostDirectiveDefs){const C=[];f=f||new Map,y.findHostDirectiveDefs(y,C,f),d.unshift(...C,y),ng(s,a,C.length)}else d.unshift(y),ng(s,a,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,d,f),d.push(y)}return null===d?null:[d,f]}(s,u);let y,C;null===m?y=C=null:[y,C]=m,null!==y&&$S(s,a,u,y,f,C),f&&function Wf(s,a,u){if(a){const d=s.localNames=[];for(let f=0;f<a.length;f+=2){const m=u[a[f+1]];if(null==m)throw new we(-301,!1);d.push(a[f],m)}}}(u,d,f)}u.mergedAttrs=Ss(u.mergedAttrs,u.attrs)}function $S(s,a,u,d,f,m){for(let T=0;T<d.length;T++)os(Gc(u,a),s,d[T].type);!function Xy(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}(u,s.data.length,d.length);for(let T=0;T<d.length;T++){const k=d[T];k.providersResolver&&k.providersResolver(k)}let y=!1,C=!1,I=Yd(s,a,d.length,null);for(let T=0;T<d.length;T++){const k=d[T];u.mergedAttrs=Ss(u.mergedAttrs,k.hostAttrs),XP(s,u,a,I,k),Xw(I,k,f),null!==k.contentQueries&&(u.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(u.flags|=64);const H=k.type.prototype;!y&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(u.index),y=!0),!C&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(u.index),C=!0),I++}!function ul(s,a,u){const f=a.directiveEnd,m=s.data,y=a.attrs,C=[];let I=null,T=null;for(let k=a.directiveStart;k<f;k++){const H=m[k],X=u?u.get(H):null,Se=X?X.outputs:null;I=Ky(H.inputs,k,I,X?X.inputs:null),T=Ky(H.outputs,k,T,Se);const Ge=null===I||null===y||Tw(a)?null:tF(I,k,y);C.push(Ge)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=8),I.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=C,a.inputs=I,a.outputs=T}(s,u,m)}function GS(s,a,u){const d=u.directiveStart,f=u.directiveEnd,m=u.index,y=function Tm(){return Pt.lFrame.currentDirectiveIndex}();try{oo(m);for(let C=d;C<f;C++){const I=s.data[C],T=a[C];Kn(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Qw(I,T)}}finally{oo(-1),Kn(y)}}function Qw(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function ng(s,a,u){a.componentOffset=u,(s.components??(s.components=[])).push(a.index)}function Xw(s,a,u){if(u){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)u[a.exportAs[d]]=s;fr(a)&&(u[""]=s)}}function XP(s,a,u,d,f){s.data[d]=f;const m=f.factory||(f.factory=Io(f.type)),y=new Ao(m,fr(f),$f);s.blueprint[d]=y,u[d]=y,function qf(s,a,u,d,f){const m=f.hostBindings;if(m){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const C=~a.index;(function KP(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(y)!=C&&y.push(C),y.push(u,d,m)}}(s,a,d,Yd(s,u,f.hostVars,an),f)}function dl(s,a,u,d,f,m){const y=Mi(s,a);!function Jw(s,a,u,d,f,m,y){if(null==m)s.removeAttribute(a,f,u);else{const C=null==y?Le(m):y(m,d||"",f);s.setAttribute(a,f,C,u)}}(a[qt],y,m,s.value,u,d,f)}function eF(s,a,u,d,f,m){const y=m[a];if(null!==y){const C=d.setInput;for(let I=0;I<y.length;){const T=y[I++],k=y[I++],H=y[I++];null!==C?d.setInput(u,H,T,k):u[k]=H}}}function tF(s,a,u){let d=null,f=0;for(;f<u.length;){const m=u[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(s.hasOwnProperty(m)){null===d&&(d=[]);const y=s[m];for(let C=0;C<y.length;C+=2)if(y[C]===a){d.push(m,y[C+1],u[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function ig(s,a,u,d){return[s,!0,!1,a,null,0,d,u,null,null]}function qS(s,a){const u=Ci(a,s);if(ts(u)){const d=u[tt];48&u[Qt]?Yy(d,u,d.template,u[zn]):u[Zo]>0&&Kd(u)}}function Kd(s){for(let d=au(s);null!==d;d=kf(d))for(let f=Ai;f<d.length;f++){const m=d[f];if(ts(m))if(512&m[Qt]){const y=m[tt];Yy(y,m,y.template,m[zn])}else m[Zo]>0&&Kd(m)}const u=s[tt].components;if(null!==u)for(let d=0;d<u.length;d++){const f=Ci(u[d],s);ts(f)&&f[Zo]>0&&Kd(f)}}function nF(s,a){const u=Ci(a,s),d=u[tt];(function WS(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])})(d,u),Zy(d,u,u[zn])}function ev(s,a){return s[Rr]?s[Xs][bn]=a:s[Rr]=a,s[Xs]=a,a}function tv(s){for(;s;){s[Qt]|=32;const a=Mf(s);if(Qo(s)&&!a)return s;s=a}return null}function nv(s,a,u,d=!0){const f=a[tr];f.begin&&f.begin();try{Yy(s,a,s.template,u)}catch(y){throw d&&Lo(a,y),y}finally{f.end&&f.end()}}function eE(s,a,u){hd(0),a(s,u)}function ZS(s){return s[Yo]||(s[Yo]=[])}function xr(s){return s.cleanup||(s.cleanup=[])}function tE(s,a,u){return(null===s||fr(s))&&(u=function xs(s){for(;Array.isArray(s);){if("object"==typeof s[Mc])return s;s=s[bi]}return null}(u[a.index])),u[qt]}function Lo(s,a){const u=s[Na],d=u?u.get(cl,null):null;d&&d.handleError(a)}function iv(s,a,u,d,f){for(let m=0;m<u.length;){const y=u[m++],C=u[m++],I=a[y],T=s.data[y];null!==T.setInput?T.setInput(I,f,d,C):I[C]=f}}function hl(s,a,u){const d=Ds(a,s);!function gy(s,a,u){s.setValue(a,u)}(s[qt],d,u)}function sg(s,a,u){let d=u?s.styles:null,f=u?s.classes:null,m=0;if(null!==a)for(let y=0;y<a.length;y++){const C=a[y];"number"==typeof C?m=C:1==m?f=Ee(f,C):2==m&&(d=Ee(d,C+": "+a[++y]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=f:s.classesWithoutHost=f}function fu(s,a,u,d,f=!1){for(;null!==u;){const m=a[u.index];if(null!==m&&d.push(li(m)),Gr(m))for(let C=Ai;C<m.length;C++){const I=m[C],T=I[tt].firstChild;null!==T&&fu(I[tt],I,T,d)}const y=u.type;if(8&y)fu(s,a,u.child,d);else if(32&y){const C=Wr(u,a);let I;for(;I=C();)d.push(I)}else if(16&y){const C=Bf(a,u);if(Array.isArray(C))d.push(...C);else{const I=Mf(a[ai]);fu(I[tt],I,C,d,!0)}}u=f?u.projectionNext:u.next}return d}class Qd{get rootNodes(){const a=this._lView,u=a[tt];return fu(u,a,u.firstChild,[])}constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zn]}set context(a){this._lView[zn]=a}get destroyed(){return 128==(128&this._lView[Qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Rn];if(Gr(a)){const u=a[Ko],d=u?u.indexOf(this):-1;d>-1&&(R(a,d),Ja(u,d))}this._attachedToViewContainer=!1}F(this._lView[tt],this._lView)}onDestroy(a){zS(this._lView[tt],this._lView,null,a)}markForCheck(){tv(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qt]&=-65}reattach(){this._lView[Qt]|=64}detectChanges(){nv(this._lView[tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function K0(s,a){$m(s,a,a[qt],2,null,null)}(this._lView[tt],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=a}}class YS extends Qd{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;nv(a[tt],a,a[zn],!1)}checkNoChanges(){}get context(){return null}}class nE extends Hf{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=bt(a);return new fl(u,this.ngModule)}}function iE(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}class tc{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,d){d=Ti(d);const f=this.injector.get(a,By,d);return f!==By||u===By?f:this.parentInjector.get(a,u,d)}}class fl extends yw{get inputs(){return iE(this.componentDef.inputs)}get outputs(){return iE(this.componentDef.outputs)}constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function OP(s){return s.map(kP).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}create(a,u,d,f){let m=(f=f||this.ngModule)instanceof Gd?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new tc(a,m):a,C=y.get(Ny,null);if(null===C)throw new we(407,!1);const I=y.get(ES,null),T=C.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",H=d?function jS(s,a,u){return s.selectRootElement(a,u===L.ShadowDom)}(T,d,this.componentDef.encapsulation):Um(T,k,function rE(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(k)),X=this.componentDef.onPush?288:272,le=Gw(0,null,null,1,0,null,null,null,null,null),Se=tg(null,le,null,X,null,null,C,T,I,y,null);let Ge,Je;sa(Se);try{const ht=this.componentDef;let kt,Ne=null;ht.findHostDirectiveDefs?(kt=[],Ne=new Map,ht.findHostDirectiveDefs(ht,kt,Ne),kt.push(ht)):kt=[ht];const Wt=function XS(s,a){const u=s[tt],d=In;return s[d]=a,Gf(u,d,2,"#host",null)}(Se,H),On=function JS(s,a,u,d,f,m,y,C){const I=f[tt];!function iF(s,a,u,d){for(const f of s)a.mergedAttrs=Ss(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(sg(a,a.mergedAttrs,!0),null!==u&&KI(d,u,a))}(d,s,a,y);const T=m.createRenderer(a,u),k=tg(f,HS(u),null,u.onPush?32:16,f[s.index],s,m,T,C||null,null,null);return I.firstCreatePass&&ng(I,s,d.length-1),ev(f,k),f[s.index]=k}(Wt,H,ht,kt,Se,C,T);Je=Al(le,In),H&&function rv(s,a,u,d){if(d)ca(s,u,["ng-version",Cw.full]);else{const{attrs:f,classes:m}=function PP(s){const a=[],u=[];let d=1,f=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===f?""!==m&&a.push(m,s[++d]):8===f&&u.push(m);else{if(!wa(f))break;f=m}d++}return{attrs:a,classes:u}}(a.selectors[0]);f&&ca(s,u,f),m&&m.length>0&&YI(s,u,m.join(" "))}}(T,ht,H,d),void 0!==u&&function ag(s,a,u){const d=s.projection=[];for(let f=0;f<a.length;f++){const m=u[f];d.push(null!=m?Array.from(m):null)}}(Je,this.ngContentSelectors,u),Ge=function eT(s,a,u,d,f,m){const y=Yn(),C=f[tt],I=Mi(y,f);$S(C,f,y,u,null,d);for(let k=0;k<u.length;k++)J(Nn(f,C,y.directiveStart+k,y),f);GS(C,f,y),I&&J(I,f);const T=Nn(f,C,y.directiveStart+y.componentOffset,y);if(s[zn]=f[zn]=T,null!==m)for(const k of m)k(T,a);return jw(C,y,s),T}(On,ht,kt,Ne,Se,[oE]),Zy(le,Se,null)}finally{pd()}return new KS(this.componentType,Ge,ll(Je,Se),Se,Je)}}class KS extends vS{constructor(a,u,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new YS(f),this.componentType=a}setInput(a,u){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const m=this._rootLView;iv(m[tt],m,f,a,u),tv(Ci(this._tNode.index,m))}}get injector(){return new fa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function oE(){const s=Yn();Fl(ve()[tt],s)}function aE(s){let a=function sE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;a;){let f;if(fr(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new we(903,!1);f=a.\u0275dir}if(f){if(u){d.push(f);const y=s;y.inputs=ov(s.inputs),y.declaredInputs=ov(s.declaredInputs),y.outputs=ov(s.outputs);const C=f.hostBindings;C&&iT(s,C);const I=f.viewQuery,T=f.contentQueries;if(I&&lg(s,I),T&&nT(s,T),De(s.inputs,f.inputs),De(s.declaredInputs,f.declaredInputs),De(s.outputs,f.outputs),fr(f)&&f.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let y=0;y<m.length;y++){const C=m[y];C&&C.ngInherit&&C(s),C===aE&&(u=!1)}}a=Object.getPrototypeOf(a)}!function tT(s){let a=0,u=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=a+=f.hostVars,f.hostAttrs=Ss(f.hostAttrs,u=Ss(u,f.hostAttrs))}}(d)}function ov(s){return s===O?{}:s===Q?[]:s}function lg(s,a){const u=s.viewQuery;s.viewQuery=u?(d,f)=>{a(d,f),u(d,f)}:a}function nT(s,a){const u=s.contentQueries;s.contentQueries=u?(d,f,m)=>{a(d,f,m),u(d,f,m)}:a}function iT(s,a){const u=s.hostBindings;s.hostBindings=u?(d,f)=>{a(d,f),u(d,f)}:a}function av(s){return!!lv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function lv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Vs(s,a,u){return s[a]=u}function sr(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}function cv(s,a,u,d){const f=ve();return sr(f,To(),a)&&(Ht(),dl(kn(),f,s,a,u,d)),cv}function Kf(s,a,u,d){return sr(s,To(),u)?a+Le(u)+d:an}function Qf(s,a,u,d,f,m){const C=function nc(s,a,u,d){const f=sr(s,a,u);return sr(s,a+1,d)||f}(s,function pr(){return Pt.lFrame.bindingIndex}(),u,f);return ro(2),C?a+Le(u)+d+Le(f)+m:an}function mE(s,a,u,d,f,m,y,C){const I=ve(),T=Ht(),k=s+In,H=T.firstCreatePass?function uF(s,a,u,d,f,m,y,C,I){const T=a.consts,k=Gf(a,s,4,y||null,So(T,C));hu(a,u,k,So(T,I)),Fl(a,k);const H=k.tView=Gw(2,k,d,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,T);return null!==a.queries&&(a.queries.template(a,k),H.queries=a.queries.embeddedTView(k)),k}(k,T,I,a,u,d,f,m,y):T.data[k];Or(H,!1);const X=I[qt].createComment("");Hd(T,I,X,H),J(X,I),ev(I,I[k]=ig(X,I,X,H)),Ba(H)&&zw(T,I,H),null!=y&&$w(I,H,C)}function lT(s){return ir(function cd(){return Pt.lFrame.contextLView}(),In+s)}function fg(s,a,u){const d=ve();return sr(d,To(),a)&&Cr(Ht(),kn(),d,s,a,d[qt],u,!1),fg}function hv(s,a,u,d,f){const y=f?"class":"style";iv(s,u,a.inputs[y],y,d)}function gu(s,a,u,d){const f=ve(),m=Ht(),y=In+s,C=f[qt],I=m.firstCreatePass?function cT(s,a,u,d,f,m){const y=a.consts,I=Gf(a,s,2,d,So(y,f));return hu(a,u,I,So(y,m)),null!==I.attrs&&sg(I,I.attrs,!1),null!==I.mergedAttrs&&sg(I,I.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,I),I}(y,m,f,a,u,d):m.data[y],T=f[y]=Um(C,a,function _d(){return Pt.lFrame.currentNamespace}()),k=Ba(I);return Or(I,!0),KI(C,T,I),32!=(32&I.flags)&&Hd(m,f,T,I),0===function kc(){return Pt.lFrame.elementDepthCount}()&&J(T,f),function Oc(){Pt.lFrame.elementDepthCount++}(),k&&(zw(m,f,I),jw(m,I,f)),null!==d&&$w(f,I),gu}function rc(){let s=Yn();Rl()?ld():(s=s.parent,Or(s,!1));const a=s;!function Pc(){Pt.lFrame.elementDepthCount--}();const u=Ht();return u.firstCreatePass&&(Fl(u,s),Es(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Mo(s){return 0!=(8&s.flags)}(a)&&hv(u,a,ve(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Hc(s){return 0!=(16&s.flags)}(a)&&hv(u,a,ve(),a.stylesWithoutHost,!1),rc}function pg(s,a,u,d){return gu(s,a,u,d),rc(),pg}function mg(s,a,u){const d=ve(),f=Ht(),m=s+In,y=f.firstCreatePass?function uT(s,a,u,d,f){const m=a.consts,y=So(m,d),C=Gf(a,s,8,"ng-container",y);return null!==y&&sg(C,y,!0),hu(a,u,C,So(m,f)),null!==a.queries&&a.queries.elementStart(a,C),C}(m,f,d,a,u):f.data[m];Or(y,!0);const C=d[m]=d[qt].createComment("");return Hd(f,d,C,y),J(C,d),Ba(y)&&(zw(f,d,y),jw(f,y,d)),null!=u&&$w(d,y),mg}function Ca(){let s=Yn();const a=Ht();return Rl()?ld():(s=s.parent,Or(s,!1)),a.firstCreatePass&&(Fl(a,s),Es(s)&&a.queries.elementEnd(s)),Ca}function gg(s,a,u){return mg(s,a,u),Ca(),gg}function fv(){return ve()}function gE(s){return!!s&&"function"==typeof s.then}function dT(s){return!!s&&"function"==typeof s.subscribe}const pv=dT;function mv(s,a,u,d){const f=ve(),m=Ht(),y=Yn();return ml(m,f,f[qt],y,s,a,d),mv}function gv(s,a){const u=Yn(),d=ve(),f=Ht();return ml(f,d,tE(kl(f.data),u,d),u,s,a),gv}function ml(s,a,u,d,f,m,y){const C=Ba(d),T=s.firstCreatePass&&xr(s),k=a[zn],H=ZS(a);let X=!0;if(3&d.type||y){const Ge=Mi(d,a),Je=y?y(Ge):Ge,ht=H.length,kt=y?Wt=>y(li(Wt[d.index])):d.index;let Ne=null;if(!y&&C&&(Ne=function hT(s,a,u,d){const f=s.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const y=f[m];if(y===u&&f[m+1]===d){const C=a[Yo],I=f[m+2];return C.length>I?C[I]:null}"string"==typeof y&&(m+=2)}return null}(s,a,f,d.index)),null!==Ne)(Ne.__ngLastListenerFn__||Ne).__ngNextListenerFn__=m,Ne.__ngLastListenerFn__=m,X=!1;else{m=_E(d,a,k,m,!1);const Wt=u.listen(Je,f,m);H.push(m,Wt),T&&T.push(f,kt,ht,ht+1)}}else m=_E(d,a,k,m,!1);const le=d.outputs;let Se;if(X&&null!==le&&(Se=le[f])){const Ge=Se.length;if(Ge)for(let Je=0;Je<Ge;Je+=2){const On=a[Se[Je]][Se[Je+1]].subscribe(m),ei=H.length;H.push(m,On),T&&T.push(f,d.index,ei,-(ei+1))}}}function fT(s,a,u,d){try{return Fn(6,a,u),!1!==u(d)}catch(f){return Lo(s,f),!1}finally{Fn(7,a,u)}}function _E(s,a,u,d,f){return function m(y){if(y===Function)return d;tv(s.componentOffset>-1?Ci(s.index,a):a);let I=fT(a,u,d,y),T=m.__ngNextListenerFn__;for(;T;)I=fT(a,u,T,y)&&I,T=T.__ngNextListenerFn__;return f&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function pT(s=1){return function Bc(s){return(Pt.lFrame.contextLView=function md(s,a){for(;s>0;)a=a[Do],s--;return a}(s,Pt.lFrame.contextLView))[zn]}(s)}function hF(s,a){let u=null;const d=function AP(s){const a=s.attrs;if(null!=a){const u=a.indexOf(5);if(!(1&u))return a[u+1]}return null}(s);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===d?SS(s,m,!0):RP(d,m))return f}else u=f}return u}function yE(s){const a=ve()[ai][wi];if(!a.projection){const d=a.projection=pa(s?s.length:1,null),f=d.slice();let m=a.child;for(;null!==m;){const y=s?hF(m,s):0;null!==y&&(f[y]?f[y].projectionNext=m:d[y]=m,f[y]=m),m=m.next}}}function vE(s,a=0,u){const d=ve(),f=Ht(),m=Gf(f,In+s,16,null,u||null);null===m.projection&&(m.projection=a),ld(),32!=(32&m.flags)&&function oP(s,a,u){ZI(a[qt],0,a,u,it(s,u,a),Hm(u.parent||a[wi],u,a))}(f,d,m)}function ep(s,a,u){return _v(s,"",a,"",u),ep}function _v(s,a,u,d,f){const m=ve(),y=Kf(m,a,u,d);return y!==an&&Cr(Ht(),kn(),m,s,y,m[qt],f,!1),_v}function yg(s,a){return s<<17|a<<2}function oc(s){return s>>17&32767}function vv(s){return 2|s}function _u(s){return(131068&s)>>2}function bv(s,a){return-131069&s|a<<2}function wv(s){return 1|s}function np(s,a,u,d,f){const m=s[u+1],y=null===a;let C=d?oc(m):_u(m),I=!1;for(;0!==C&&(!1===I||y);){const k=s[C+1];vg(s[C],a)&&(I=!0,s[C+1]=d?wv(k):vv(k)),C=d?oc(k):_u(k)}I&&(s[u+1]=d?vv(m):wv(m))}function vg(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Ft(s,a)>=0}function wg(s,a,u){return Us(s,a,u,!1),wg}function Dv(s,a){return Us(s,a,null,!0),Dv}function Us(s,a,u,d){const f=ve(),m=Ht(),y=ro(2);m.firstUpdatePass&&function ME(s,a,u,d){const f=s.data;if(null===f[u+1]){const m=f[ji()],y=function AE(s,a){return a>=s.expandoStartIndex}(s,u);(function Sv(s,a){return 0!=(s.flags&(a?8:16))})(m,d)&&null===a&&!y&&(a=!1),a=function Ia(s,a,u,d){const f=kl(s);let m=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(u=Pi(u=PE(null,s,a,u,d),a.attrs,d),m=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==f)if(u=PE(f,s,a,u,d),null===m){let I=function RE(s,a,u){const d=u?a.classBindings:a.styleBindings;if(0!==_u(d))return s[oc(d)]}(s,a,d);void 0!==I&&Array.isArray(I)&&(I=PE(null,s,a,I[1],d),I=Pi(I,a.attrs,d),function kE(s,a,u,d){s[oc(u?a.classBindings:a.styleBindings)]=d}(s,a,d,I))}else m=function OE(s,a,u){let d;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)d=Pi(d,s[m].hostAttrs,u);return Pi(d,a.attrs,u)}(s,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),u}(f,m,a,d),function IE(s,a,u,d,f,m){let y=m?a.classBindings:a.styleBindings,C=oc(y),I=_u(y);s[d]=u;let k,T=!1;if(Array.isArray(u)?(k=u[1],(null===k||Ft(u,k)>0)&&(T=!0)):k=u,f)if(0!==I){const X=oc(s[C+1]);s[d+1]=yg(X,C),0!==X&&(s[X+1]=bv(s[X+1],d)),s[C+1]=function gT(s,a){return 131071&s|a<<17}(s[C+1],d)}else s[d+1]=yg(C,0),0!==C&&(s[C+1]=bv(s[C+1],d)),C=d;else s[d+1]=yg(I,0),0===C?C=d:s[I+1]=bv(s[I+1],d),I=d;T&&(s[d+1]=vv(s[d+1])),np(s,k,d,!0),np(s,k,d,!1),function yT(s,a,u,d,f){const m=f?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof a&&Ft(m,a)>=0&&(u[d+1]=wv(u[d+1]))}(a,k,s,d,m),y=yg(C,I),m?a.classBindings=y:a.styleBindings=y}(f,m,a,u,y,d)}}(m,s,y,d),a!==an&&sr(f,y,a)&&function Iv(s,a,u,d,f,m,y,C){if(!(3&a.type))return;const I=s.data,T=I[C+1],k=function DE(s){return 1==(1&s)}(T)?NE(I,a,u,f,_u(T),y):void 0;rp(k)||(rp(m)||function mT(s){return 2==(2&s)}(T)&&(m=NE(I,null,u,f,C,y)),function aP(s,a,u,d,f){if(a)f?s.addClass(u,d):s.removeClass(u,d);else{let m=-1===d.indexOf("-")?void 0:Po.DashCase;null==f?s.removeStyle(u,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Po.Important),s.setStyle(u,d,f,m))}}(d,y,Ds(ji(),u),f,m))}(m,m.data[ji()],f,f[qt],s,f[y+1]=function wT(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=be(ds(s)))),s}(a,u),d,y)}function PE(s,a,u,d,f){let m=null;const y=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<y&&(m=a[C],d=Pi(d,m.hostAttrs,f),m!==s);)C++;return null!==s&&(u.directiveStylingLast=C),d}function Pi(s,a,u){const d=u?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const y=a[m];"number"==typeof y?f=y:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Pr(s,y,!!u||a[++m]))}return void 0===s?null:s}function NE(s,a,u,d,f,m){const y=null===a;let C;for(;f>0;){const I=s[f],T=Array.isArray(I),k=T?I[1]:I,H=null===k;let X=u[f+1];X===an&&(X=H?Q:void 0);let le=H?Ro(X,d):k===d?X:void 0;if(T&&!rp(le)&&(le=Ro(I,d)),rp(le)&&(C=le,y))return C;const Se=s[f+1];f=y?oc(Se):_u(Se)}if(null!==a){let I=m?a.residualClasses:a.residualStyles;null!=I&&(C=Ro(I,d))}return C}function rp(s){return void 0!==s}function Tv(s,a=""){const u=ve(),d=Ht(),f=s+In,m=d.firstCreatePass?Gf(d,f,1,a,null):d.data[f],y=u[f]=function Vm(s,a){return s.createText(a)}(u[qt],a);Hd(d,u,y,m),Or(m,!1)}function eh(s){return Hs("",s,""),eh}function Hs(s,a,u){const d=ve(),f=Kf(d,s,a,u);return f!==an&&hl(d,ji(),f),Hs}function un(s,a,u,d,f){const m=ve(),y=Qf(m,s,a,u,d,f);return y!==an&&hl(m,ji(),y),un}function vu(s,a,u){const d=ve();return sr(d,To(),a)&&Cr(Ht(),kn(),d,s,a,d[qt],u,!0),vu}function bu(s,a,u){const d=ve();if(sr(d,To(),a)){const m=Ht(),y=kn();Cr(m,y,d,s,a,tE(kl(m.data),y,d),u,!0)}return bu}const fs=void 0;var qE=["en",[["a","p"],["AM","PM"],fs],[["AM","PM"],fs,fs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fs,"{1} 'at' {0}",fs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function GE(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let wu={};function kv(s){const a=function kT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=WE(a);if(u)return u;const d=a.split("-")[0];if(u=WE(d),u)return u;if("en"===d)return qE;throw new we(701,!1)}function Ov(s){return kv(s)[Dt.PluralCase]}function WE(s){return s in wu||(wu[s]=gn.ng&&gn.ng.common&&gn.ng.common.locales&&gn.ng.common.locales[s]),wu[s]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const Eu="en-US";let lp=Eu;function gC(s,a,u,d,f){if(s=ie(s),Array.isArray(s))for(let m=0;m<s.length;m++)gC(s[m],a,u,d,f);else{const m=Ht(),y=ve();let C=uu(s)?s:ie(s.provide),I=Py(s);const T=Yn(),k=1048575&T.providerIndexes,H=T.directiveStart,X=T.providerIndexes>>20;if(uu(s)||!s.multi){const le=new Ao(I,f,$f),Se=ch(C,a,f?k:k+X,H);-1===Se?(os(Gc(T,y),m,C),$v(m,s,a.length),a.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),u.push(le),y.push(le)):(u[Se]=le,y[Se]=le)}else{const le=ch(C,a,k+X,H),Se=ch(C,a,k,k+X),Je=Se>=0&&u[Se];if(f&&!Je||!f&&!(le>=0&&u[le])){os(Gc(T,y),m,C);const ht=function cA(s,a,u,d,f){const m=new Ao(s,u,$f);return m.multi=[],m.index=a,m.componentProviders=0,Pg(m,f,d&&!u),m}(f?lA:uh,u.length,f,d,I);!f&&Je&&(u[Se].providerFactory=ht),$v(m,s,a.length,0),a.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),u.push(ht),y.push(ht)}else $v(m,s,le>-1?le:Se,Pg(u[f?Se:le],I,!f&&d));!f&&d&&Je&&u[Se].componentProviders++}}}function $v(s,a,u,d){const f=uu(a),m=function gS(s){return!!s.useClass}(a);if(f||m){const I=(m?ie(a.useClass):a).prototype.ngOnDestroy;if(I){const T=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const k=T.indexOf(u);-1===k?T.push(u,[d,I]):T[k+1].push(d,I)}else T.push(u,I)}}}function Pg(s,a,u){return u&&s.componentProviders++,s.multi.push(a)-1}function ch(s,a,u,d){for(let f=u;f<d;f++)if(a[f]===s)return f;return-1}function uh(s,a,u,d){return Gv(this.multi,[])}function lA(s,a,u,d){const f=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Nn(u,u[tt],this.providerFactory.index,d);m=C.slice(0,y),Gv(f,m);for(let I=y;I<C.length;I++)m.push(C[I])}else m=[],Gv(f,m);return m}function Gv(s,a){for(let u=0;u<s.length;u++)a.push((0,s[u])());return a}function _C(s,a=[]){return u=>{u.providersResolver=(d,f)=>function aA(s,a,u){const d=Ht();if(d.firstCreatePass){const f=fr(s);gC(u,d.data,d.blueprint,f,!0),gC(a,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,a)}}class dh{}class yC{}function uA(s,a){return new vC(s,a??null)}class vC extends dh{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nE(this);const d=vi(a);this._bootstrapComponents=Jl(d.bootstrap),this._r3Injector=Uy(a,u,[{provide:dh,useValue:this},{provide:Hf,useValue:this.componentFactoryResolver}],be(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Fg extends yC{constructor(a){super(),this.moduleType=a}create(a){return new vC(this.moduleType,a)}}class dA extends dh{constructor(a,u,d){super(),this.componentFactoryResolver=new nE(this),this.instance=null;const f=new _S([...a,{provide:dh,useValue:this},{provide:Hf,useValue:this.componentFactoryResolver}],u||Oy(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function yp(s,a,u=null){return new dA(s,a,u).injector}let bC=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=hw(0,u.type),f=d.length>0?yp([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=xe({token:s,providedIn:"environment",factory:()=>new s(jt(Gd))}),s})();function Ng(s){s.getStandaloneInjector=a=>a.get(bC).getOrCreateStandaloneInjector(s)}function TC(s,a,u){const d=Ri()+s,f=ve();return f[d]===an?Vs(f,d,u?a.call(u):a()):function Yf(s,a){return s[a]}(f,d)}function qv(s,a,u,d,f,m){const y=a+u;return sr(s,y,f)?Vs(s,y+1,m?d.call(m,f):d(f)):function bp(s,a){const u=s[a];return u===an?void 0:u}(s,y+1)}function RC(s,a){const u=Ht();let d;const f=s+In;u.firstCreatePass?(d=function xA(s,a){if(a)for(let u=a.length-1;u>=0;u--){const d=a[u];if(s===d.name)return d}}(a,u.pipeRegistry),u.data[f]=d,d.onDestroy&&(u.destroyHooks??(u.destroyHooks=[])).push(f,d.onDestroy)):d=u.data[f];const m=d.factory||(d.factory=Io(d.type)),y=Gn($f);try{const C=Ka(!1),I=m();return Ka(C),function dF(s,a,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),a[u]=d}(u,ve(),f,I),I}finally{Gn(y)}}function kC(s,a,u){const d=s+In,f=ve(),m=ir(f,d);return function ph(s,a){return s[tt].data[a].pure}(f,d)?qv(f,Ri(),a,m.transform,u,m):m.transform(u)}function wp(s){return a=>{setTimeout(s,void 0,a)}}const Ta=class mh extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,d){let f=a,m=u||(()=>null),y=d;if(a&&"object"==typeof a){const I=a;f=I.next?.bind(I),m=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(m=wp(m),f&&(f=wp(f)),y&&(y=wp(y)));const C=super.subscribe({next:f,error:m,complete:y});return a instanceof z.w0&&a.add(C),C}};function PC(){return this._results[Symbol.iterator]()}class gh{get changes(){return this._changes||(this._changes=new Ta)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=gh.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=PC)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const d=this;d.dirty=!1;const f=function vr(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Xc(s,a,u){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],m=a[d];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(d._results,f,u))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let dc=(()=>{class s{}return s.__NG_ELEMENT_ID__=SA,s})();const FC=dc,NC=class extends FC{constructor(a,u,d){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(a,u){const d=this._declarationTContainer.tView,f=tg(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,u||null);f[ys]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[yr];return null!==y&&(f[yr]=y.createEmbeddedView(d)),Zy(d,f,a),new Qd(f)}};function SA(){return Vg(Yn(),ve())}function Vg(s,a){return 4&s.type?new NC(a,s,ll(s,a)):null}let Ug=(()=>{class s{}return s.__NG_ELEMENT_ID__=TA,s})();function TA(){return Hg(Yn(),ve())}const AA=Ug,Ep=class extends AA{constructor(a,u,d){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=d}get element(){return ll(this._hostTNode,this._hostLView)}get injector(){return new fa(this._hostTNode,this._hostLView)}get parentInjector(){const a=Qn(this._hostTNode,this._hostLView);if(Ts(a)){const u=Ya(a,this._hostLView),d=da(a);return new fa(u[tt].data[d+8],u)}return new fa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=LC(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-Ai}createEmbeddedView(a,u,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const y=a.createEmbeddedView(u||{},m);return this.insert(y,f),y}createComponent(a,u,d,f,m){const y=a&&!function Gl(s){return"function"==typeof s}(a);let C;if(y)C=u;else{const H=u||{};C=H.index,d=H.injector,f=H.projectableNodes,m=H.environmentInjector||H.ngModuleRef}const I=y?a:new fl(bt(a)),T=d||this.parentInjector;if(!m&&null==I.ngModule){const X=(y?T:this.parentInjector).get(Gd,null);X&&(m=X)}const k=I.create(T,f,void 0,m);return this.insert(k.hostView,C),k}insert(a,u){const d=a._lView,f=d[tt];if(function rd(s){return Gr(s[Rn])}(d)){const k=this.indexOf(a);if(-1!==k)this.detach(k);else{const H=d[Rn],X=new Ep(H,H[wi],H[Rn]);X.detach(X.indexOf(a))}}const m=this._adjustIndex(u),y=this._lContainer;!function p(s,a,u,d){const f=Ai+d,m=u.length;d>0&&(u[f-1][bn]=a),d<m-Ai?(a[bn]=u[f],Jc(u,Ai+d,a)):(u.push(a),a[bn]=null),a[Rn]=u;const y=a[ys];null!==y&&u!==y&&function _(s,a){const u=s[ws];a[ai]!==a[Rn][Rn][ai]&&(s[La]=!0),null===u?s[ws]=[a]:u.push(a)}(y,a);const C=a[yr];null!==C&&C.insertView(s),a[Qt]|=64}(f,d,y,m);const C=zm(m,y),I=d[qt],T=cu(I,y[Js]);return null!==T&&function Y0(s,a,u,d,f,m){d[bi]=f,d[wi]=a,$m(s,d,u,1,f,m)}(f,y[wi],I,d,T,C),a.attachToViewContainerRef(),Jc(Qv(y),m,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=LC(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),d=R(this._lContainer,u);d&&(Ja(Qv(this._lContainer),u),F(d[tt],d))}detach(a){const u=this._adjustIndex(a,-1),d=R(this._lContainer,u);return d&&null!=Ja(Qv(this._lContainer),u)?new Qd(d):null}_adjustIndex(a,u=0){return a??this.length+u}};function LC(s){return s[Ko]}function Qv(s){return s[Ko]||(s[Ko]=[])}function Hg(s,a){let u;const d=a[s.index];if(Gr(d))u=d;else{let f;if(8&s.type)f=li(d);else{const m=a[qt];f=m.createComment("");const y=Mi(s,a);tn(m,cu(m,y),f,function yy(s,a){return s.nextSibling(a)}(m,y),!1)}a[s.index]=u=ig(d,a,f,s),ev(a,u)}return new Ep(u,s,a)}class Xv{constructor(a){this.queryList=a,this.matches=null}clone(){return new Xv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jv{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const d=null!==a.contentQueries?a.contentQueries[0]:u.length,f=[];for(let m=0;m<d;m++){const y=u.getByIndex(m);f.push(this.queries[y.indexInDeclarationView].clone())}return new Jv(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==ib(a,u).matches&&this.queries[u].setDirty()}}class BC{constructor(a,u,d=null){this.predicate=a,this.flags=u,this.read=d}}class eb{constructor(a=[]){this.queries=a}elementStart(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let d=0;d<this.length;d++){const f=null!==u?u.length:0,m=this.getByIndex(d).embeddedTView(a,f);m&&(m.indexInDeclarationView=d,null!==u?u.push(m):u=[m])}return null!==u?new eb(u):null}template(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Fi{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new Fi(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(a,u,MA(u,m)),this.matchTNodeWithReadOption(a,u,ha(u,a,m,!1,!1))}else d===dc?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,ha(u,a,d,!1,!1))}matchTNodeWithReadOption(a,u,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===eg||f===Ug||f===dc&&4&u.type)this.addMatch(u.index,-2);else{const m=ha(u,a,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,d)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function MA(s,a){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===a)return u[d+1];return null}function RA(s,a,u,d){return-1===u?function Aa(s,a){return 11&s.type?ll(s,a):4&s.type?Vg(s,a):null}(a,s):-2===u?function kA(s,a,u){return u===eg?ll(a,s):u===dc?Vg(a,s):u===Ug?Hg(a,s):void 0}(s,a,d):Nn(s,s[tt],u,a)}function tb(s,a,u,d){const f=a[yr].queries[d];if(null===f.matches){const m=s.data,y=u.matches,C=[];for(let I=0;I<y.length;I+=2){const T=y[I];C.push(T<0?null:RA(a,m[T],y[I+1],u.metadata.read))}f.matches=C}return f.matches}function VC(s,a,u,d){const f=s.queries.getByIndex(u),m=f.matches;if(null!==m){const y=tb(s,a,f,u);for(let C=0;C<m.length;C+=2){const I=m[C];if(I>0)d.push(y[C/2]);else{const T=m[C+1],k=a[-I];for(let H=Ai;H<k.length;H++){const X=k[H];X[ys]===X[Rn]&&VC(X[tt],X,T,d)}if(null!==k[ws]){const H=k[ws];for(let X=0;X<H.length;X++){const le=H[X];VC(le[tt],le,T,d)}}}}}return d}function OA(s){const a=ve(),u=Ht(),d=$a();hd(d+1);const f=ib(u,d);if(s.dirty&&function Ha(s){return 4==(4&s[Qt])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const m=f.crossesNgTemplate?VC(u,a,d,[]):tb(u,a,f,d);s.reset(m,bw),s.notifyOnChanges()}return!0}return!1}function UC(s,a,u){const d=Ht();d.firstCreatePass&&(Iu(d,new BC(s,a,u),-1),2==(2&a)&&(d.staticViewQueries=!0)),HC(d,ve(),a)}function jg(s,a,u,d){const f=Ht();if(f.firstCreatePass){const m=Yn();Iu(f,new BC(a,u,d),m.index),function bF(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(f,s),2==(2&u)&&(f.staticContentQueries=!0)}HC(f,ve(),u)}function nb(){return function Vo(s,a){return s[yr].queries[a].queryList}(ve(),$a())}function HC(s,a,u){const d=new gh(4==(4&u));zS(s,a,d,d.destroy),null===a[yr]&&(a[yr]=new Jv),a[yr].queries.push(new Xv(d))}function Iu(s,a,u){null===s.queries&&(s.queries=new eb),s.queries.track(new Fi(a,u))}function ib(s,a){return s.queries.getByIndex(a)}function _l(s,a){return Vg(s,a)}function rb(s){return!!vi(s)}function Yg(...s){}const Ip=new pn("Application Initializer");let Uo=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Yg,this.reject=Yg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(gE(m))u.push(m);else if(pv(m)){const y=new Promise((C,I)=>{m.subscribe({complete:C,error:I})});u.push(y)}}Promise.all(u).then(()=>{d()}).catch(f=>{this.reject(f)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(jt(Ip,8))},s.\u0275prov=xe({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Qg=new pn("AppId",{providedIn:"root",factory:function JC(){return`${fc()}${fc()}${fc()}`}});function fc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lb=new pn("Platform Initializer"),cb=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),GA=new pn("AnimationModuleType");let ex=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=xe({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const bh=new pn("LocaleId",{providedIn:"root",factory:()=>Pn(bh,ct.Optional|ct.SkipSelf)||function ub(){return typeof $localize<"u"&&$localize.locale||Eu}()}),db=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WA{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let Sp=(()=>{class s{compileModuleSync(u){return new Fg(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),m=Jl(vi(u).declarations).reduce((y,C)=>{const I=bt(C);return I&&y.push(new fl(I)),y},[]);return new WA(d,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=xe({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ox=(()=>Promise.resolve(0))();function Jg(s){typeof Zone>"u"?ox.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class po{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ta(!1),this.onMicrotaskEmpty=new Ta(!1),this.onStable=new Ta(!1),this.onError=new Ta(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&u,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function sx(){let s=gn.requestAnimationFrame,a=gn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function ax(s){const a=()=>{!function pb(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(gn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,e_(s),s.isCheckStableRunning=!0,Ap(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),e_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,f,m,y,C)=>{try{return lx(s),u.invokeTask(f,m,y,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&a(),mb(s)}},onInvoke:(u,d,f,m,y,C,I)=>{try{return lx(s),u.invoke(f,m,y,C,I)}finally{s.shouldCoalesceRunChangeDetection&&a(),mb(s)}},onHasTask:(u,d,f,m)=>{u.hasTask(f,m),d===f&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,e_(s),Ap(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,d,f,m)=>(u.handleError(f,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!po.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(po.isInAngularZone())throw new we(909,!1)}run(a,u,d){return this._inner.run(a,u,d)}runTask(a,u,d,f){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+f,a,fb,Yg,Yg);try{return m.runTask(y,u,d)}finally{m.cancelTask(y)}}runGuarded(a,u,d){return this._inner.runGuarded(a,u,d)}runOutsideAngular(a){return this._outer.run(a)}}const fb={};function Ap(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function e_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function lx(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function mb(s){s._nesting--,Ap(s)}class cx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ta,this.onMicrotaskEmpty=new Ta,this.onStable=new Ta,this.onError=new Ta}run(a,u,d){return a.apply(u,d)}runGuarded(a,u,d){return a.apply(u,d)}runOutsideAngular(a){return a()}runTask(a,u,d,f){return a.apply(u,d)}}const t_=new pn(""),gb=new pn("");let Mp,KA=(()=>{class s{constructor(u,d,f){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Mp||(function _b(s){Mp=s}(f),f.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{po.assertNotInAngularZone(),Jg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jg(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,f){return[]}}return s.\u0275fac=function(u){return new(u||s)(jt(po),jt(n_),jt(gb))},s.\u0275prov=xe({token:s,factory:s.\u0275fac}),s})(),n_=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return Mp?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=xe({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const $n=!1;let ii=null;const Rp=new pn("AllowMultipleToken"),kp=new pn("PlatformDestroyListeners"),ux=new pn("appBootstrapListener");class XA{constructor(a,u){this.name=a,this.token=u}}function r_(s,a,u=[]){const d=`Platform: ${a}`,f=new pn(d);return(m=[])=>{let y=Op();if(!y||y.injector.get(Rp,!1)){const C=[...u,...m,{provide:f,useValue:!0}];s?s(C):function JA(s){if(ii&&!ii.get(Rp,!1))throw new we(400,!1);ii=s;const a=s.get(o_);(function wh(s){const a=s.get(lb,null);a&&a.forEach(u=>u())})(s)}(function fx(s=[],a){return ec.create({name:a,providers:[{provide:Ry,useValue:"platform"},{provide:kp,useValue:new Set([()=>ii=null])},...s]})}(C,d))}return function hx(s){const a=Op();if(!a)throw new we(401,!1);return a}()}}function Op(){return ii?.get(o_)??null}let o_=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const f=function px(s,a){let u;return u="noop"===s?new cx:("zone.js"===s?void 0:s)||new po(a),u}(d?.ngZone,function vb(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:po,useValue:f}];return f.run(()=>{const y=ec.create({providers:m,parent:this.injector,name:u.moduleType.name}),C=u.create(y),I=C.injector.get(cl,null);if(!I)throw new we(402,!1);return f.runOutsideAngular(()=>{const T=f.onError.subscribe({next:k=>{I.handleError(k)}});C.onDestroy(()=>{Fp(this._modules,C),T.unsubscribe()})}),function Eh(s,a,u){try{const d=u();return gE(d)?d.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(I,f,()=>{const T=C.injector.get(Uo);return T.runInitializers(),T.donePromise.then(()=>(function cp(s){ae(s,"Expected localeId to be defined"),"string"==typeof s&&(lp=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(bh,Eu)||Eu),this._moduleDoBootstrap(C),C))})})}bootstrapModule(u,d=[]){const f=bb({},d);return function QA(s,a,u){const d=new Fg(u);return Promise.resolve(d)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const d=u.injector.get(Pp);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new we(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(kp,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(jt(ec))},s.\u0275prov=xe({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function bb(s,a){return Array.isArray(a)?a.reduce(bb,s):{...s,...a}}let Pp=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,d,f){this._zone=u,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new P.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),y=new P.y(C=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{po.assertNotInAngularZone(),Jg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{po.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{I.unsubscribe(),T.unsubscribe()}});this.isStable=(0,se.T)(m,y.pipe((0,fe.B)()))}bootstrap(u,d){const f=u instanceof yw;if(!this._injector.get(Uo).done){!f&&Hi(u);throw new we(405,$n)}let y;y=f?u:this._injector.get(Hf).resolveComponentFactory(u),this.componentTypes.push(y.componentType);const C=function dx(s){return s.isBoundToModule}(y)?void 0:this._injector.get(dh),T=y.create(ec.NULL,[],d||y.selector,C),k=T.location.nativeElement,H=T.injector.get(t_,null);return H?.registerApplication(k),T.onDestroy(()=>{this.detachView(T.hostView),Fp(this.components,T),H?.unregisterApplication(k)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Fp(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(ux,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Fp(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new we(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(jt(po),jt(Gd),jt(cl))},s.\u0275prov=xe({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Fp(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}function nM(){return!1}function Ch(){}let mx=(()=>{class s{}return s.__NG_ELEMENT_ID__=s_,s})();function s_(s){return function gx(s,a,u){if(Dl(s)&&!u){const d=Ci(s.index,a);return new Qd(d,d)}return 47&s.type?new Qd(a[ai],a):null}(Yn(),ve(),16==(16&s))}class xb{constructor(){}supports(a){return av(a)}create(a){return new sM(a)}}const bx=(s,a)=>a;class sM{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||bx}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,d=this._removalsHead,f=0,m=null;for(;u||d;){const y=!d||u&&u.currentIndex<xh(d,f,m)?u:d,C=xh(y,f,m),I=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(u=u._next,null==y.previousIndex)f++;else{m||(m=[]);const T=C-f,k=I-f;if(T!=k){for(let X=0;X<T;X++){const le=X<m.length?m[X]:m[X]=0,Se=le+X;k<=Se&&Se<T&&(m[X]=le+1)}m[y.previousIndex]=k-T}}C!==I&&a(y,C,I)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!av(a))throw new we(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,y,u=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)m=a[C],y=this._trackByFn(C,m),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,m,y,C)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,y,C),d=!0),u=u._next}else f=0,function lF(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[Symbol.iterator]();let d;for(;!(d=u.next()).done;)a(d.value)}}(a,C=>{y=this._trackByFn(f,C),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,C,y,f)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,y,f),d=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,d,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,m,f)):a=this._addAfter(new Up(u,d),m,f),a}_verifyReinsertion(a,u,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,u,d),this._addToMoves(a,d),a}_moveAfter(a,u,d){return this._unlink(a),this._insertAfter(a,u,d),this._addToMoves(a,d),a}_addAfter(a,u,d){return this._insertAfter(a,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,d){const f=null===u?this._itHead:u._next;return a._next=f,a._prev=u,null===f?this._itTail=a:f._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new Hp),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,d=a._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hp),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Up{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wx{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const u=a._prevDup,d=a._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class Hp{constructor(){this.map=new Map}put(a){const u=a.trackById;let d=this.map.get(u);d||(d=new wx,this.map.set(u,d)),d.add(a)}get(a,u){const f=this.map.get(a);return f?f.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xh(s,a,u){const d=s.previousIndex;if(null===d)return d;let f=0;return u&&d<u.length&&(f=u[d]),d+a+f}class mc{constructor(){}supports(a){return a instanceof Map||lv(a)}create(){return new Db}}class Db{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||lv(a)))throw new we(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,d);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const d=a._prev;return u._next=a,u._prev=d,a._prev=u,d&&(d._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,u);const m=f._prev,y=f._next;return m&&(m._next=y),y&&(y._prev=m),f._next=null,f._prev=null,f}const d=new aM(a);return this._records.set(a,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(d=>u(a[d],d))}}class aM{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ex(){return new p_([new xb])}let p_=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const f=d.factories.slice();u=u.concat(f)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||Ex()),deps:[[s,new us,new cs]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(null!=d)return d;throw new we(901,!1)}}return s.\u0275prov=xe({token:s,providedIn:"root",factory:Ex}),s})();function Cx(){return new yl([new mc])}let yl=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const f=d.factories.slice();u=u.concat(f)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||Cx()),deps:[[s,new us,new cs]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(d)return d;throw new we(901,!1)}}return s.\u0275prov=xe({token:s,providedIn:"root",factory:Cx}),s})();const Jn=r_(null,"core",[]);let g_=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(jt(Pp))},s.\u0275mod=ce({type:s}),s.\u0275inj=rn({}),s})();function jp(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(vt,Me,V)=>{V.d(Me,{Z:()=>Qe});var l=V(2090),z=V(4859),P=V(6881),se=V(1877);class fe{constructor(we,Pe){this._delegate=we,this.firebase=Pe,(0,P._addComponent)(we,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(we,Pe=P._DEFAULT_ENTRY_NAME){var Le;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(we);return!He.isInitialized()&&"EXPLICIT"===(null===(Le=He.getComponent())||void 0===Le?void 0:Le.instantiationMode)&&He.initialize(),He.getImmediate({identifier:Pe})}_removeServiceInstance(we,Pe=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Pe)}_addComponent(we){(0,P._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,P._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function Ee(){const ut=function be(ut){const we={},Pe={__esModule:!0,initializeApp:function Ae(Be,he={}){const et=P.initializeApp(Be,he);if((0,l.r3)(we,et.name))return we[et.name];const St=new ut(et,Pe);return we[et.name]=St,St},app:He,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Fe(Be){const he=Be.name,et=he.replace("-compat","");if(P._registerComponent(Be)&&"PUBLIC"===Be.type){const St=(dt=He())=>{if("function"!=typeof dt[et])throw De.create("invalid-app-argument",{appName:he});return dt[et]()};void 0!==Be.serviceProps&&(0,l.ZB)(St,Be.serviceProps),Pe[et]=St,ut.prototype[et]=function(...dt){return this._getService.bind(this,he).apply(this,Be.multipleInstances?dt:[])}}return"PUBLIC"===Be.type?Pe[et]:null},removeApp:function Le(Be){delete we[Be]},useAsService:function $e(Be,he){return"serverAuth"===he?null:he},modularAPIs:P}};function He(Be){if(!(0,l.r3)(we,Be=Be||P._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:Be});return we[Be]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function Te(){return Object.keys(we).map(Be=>we[Be])}}),He.App=ut,Pe}(fe);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function we(Pe){(0,l.ZB)(ut,Pe)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),ut}(),W=new se.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=Y;!function ke(ut){(0,P.registerVersion)("@firebase/app-compat","0.2.13",ut)}()},6881:(vt,Me,V)=>{V.r(Me),V.d(Me,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Mr,_DEFAULT_ENTRY_NAME:()=>Vi,_addComponent:()=>pt,_addOrOverwriteComponent:()=>Bt,_apps:()=>gn,_clearComponents:()=>dr,_components:()=>Yt,_getProvider:()=>Si,_registerComponent:()=>qn,_removeServiceInstance:()=>Hn,deleteApp:()=>Wn,getApp:()=>hr,getApps:()=>jt,initializeApp:()=>sn,onLog:()=>Zn,registerVersion:()=>Ti,setLogLevel:()=>Ji});var l=V(5861),z=V(4859),P=V(1877),se=V(2090);const fe=(ye,ce)=>ce.some(Ve=>ye instanceof Ve);let re,De;const Y=new WeakMap,W=new WeakMap,ie=new WeakMap,ze=new WeakMap,ke=new WeakMap;let we={get(ye,ce,Ve){if(ye instanceof IDBTransaction){if("done"===ce)return W.get(ye);if("objectStoreNames"===ce)return ye.objectStoreNames||ie.get(ye);if("store"===ce)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return Ae(ye[ce])},set:(ye,ce,Ve)=>(ye[ce]=Ve,!0),has:(ye,ce)=>ye instanceof IDBTransaction&&("done"===ce||"store"===ce)||ce in ye};function He(ye){return"function"==typeof ye?function Le(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...ce){return ye.apply(Te(this),ce),Ae(Y.get(this))}:function(...ce){return Ae(ye.apply(Te(this),ce))}:function(ce,...Ve){const _t=ye.call(Te(this),ce,...Ve);return ie.set(_t,ce.sort?ce.sort():[ce]),Ae(_t)}}(ye):(ye instanceof IDBTransaction&&function ut(ye){if(W.has(ye))return;const ce=new Promise((Ve,_t)=>{const Rt=()=>{ye.removeEventListener("complete",en),ye.removeEventListener("error",bt),ye.removeEventListener("abort",bt)},en=()=>{Ve(),Rt()},bt=()=>{_t(ye.error||new DOMException("AbortError","AbortError")),Rt()};ye.addEventListener("complete",en),ye.addEventListener("error",bt),ye.addEventListener("abort",bt)});W.set(ye,ce)}(ye),fe(ye,function be(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,we):ye)}function Ae(ye){if(ye instanceof IDBRequest)return function Qe(ye){const ce=new Promise((Ve,_t)=>{const Rt=()=>{ye.removeEventListener("success",en),ye.removeEventListener("error",bt)},en=()=>{Ve(Ae(ye.result)),Rt()},bt=()=>{_t(ye.error),Rt()};ye.addEventListener("success",en),ye.addEventListener("error",bt)});return ce.then(Ve=>{Ve instanceof IDBCursor&&Y.set(Ve,ye)}).catch(()=>{}),ke.set(ce,ye),ce}(ye);if(ze.has(ye))return ze.get(ye);const ce=He(ye);return ce!==ye&&(ze.set(ye,ce),ke.set(ce,ye)),ce}const Te=ye=>ke.get(ye),Be=["get","getKey","getAll","getAllKeys","count"],he=["put","add","delete","clear"],et=new Map;function St(ye,ce){if(!(ye instanceof IDBDatabase)||ce in ye||"string"!=typeof ce)return;if(et.get(ce))return et.get(ce);const Ve=ce.replace(/FromIndex$/,""),_t=ce!==Ve,Rt=he.includes(Ve);if(!(Ve in(_t?IDBIndex:IDBObjectStore).prototype)||!Rt&&!Be.includes(Ve))return;const en=function(){var bt=(0,l.Z)(function*(vn,...dn){const Hi=this.transaction(vn,Rt?"readwrite":"readonly");let vi=Hi.store;return _t&&(vi=vi.index(dn.shift())),(yield Promise.all([vi[Ve](...dn),Rt&&Hi.done]))[0]});return function(dn){return bt.apply(this,arguments)}}();return et.set(ce,en),en}!function Pe(ye){we=ye(we)}(ye=>({...ye,get:(ce,Ve,_t)=>St(ce,Ve)||ye.get(ce,Ve,_t),has:(ce,Ve)=>!!St(ce,Ve)||ye.has(ce,Ve)}));class dt{constructor(ce){this.container=ce}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function Zt(ye){return"VERSION"===ye.getComponent()?.type}(Ve)){const _t=Ve.getImmediate();return`${_t.library}/${_t.version}`}return null}).filter(Ve=>Ve).join(" ")}}const ft="@firebase/app",gi=new P.Yd("@firebase/app"),Vi="[DEFAULT]",Xi={[ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,Yt=new Map;function pt(ye,ce){try{ye.container.addComponent(ce)}catch(Ve){gi.debug(`Component ${ce.name} failed to register with FirebaseApp ${ye.name}`,Ve)}}function Bt(ye,ce){ye.container.addOrOverwriteComponent(ce)}function qn(ye){const ce=ye.name;if(Yt.has(ce))return gi.debug(`There were multiple attempts to register component ${ce}.`),!1;Yt.set(ce,ye);for(const Ve of gn.values())pt(Ve,ye);return!0}function Si(ye,ce){const Ve=ye.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),ye.container.getProvider(ce)}function Hn(ye,ce,Ve=Vi){Si(ye,ce).clearInstance(Ve)}function dr(){Yt.clear()}const _i=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Jt{constructor(ce,Ve,_t){this._isDeleted=!1,this._options=Object.assign({},ce),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=_t,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ce){this._isDeleted=ce}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}const Mr="9.23.0";function sn(ye,ce={}){let Ve=ye;"object"!=typeof ce&&(ce={name:ce});const _t=Object.assign({name:Vi,automaticDataCollectionEnabled:!1},ce),Rt=_t.name;if("string"!=typeof Rt||!Rt)throw _i.create("bad-app-name",{appName:String(Rt)});if(Ve||(Ve=(0,se.aH)()),!Ve)throw _i.create("no-options");const en=gn.get(Rt);if(en){if((0,se.vZ)(Ve,en.options)&&(0,se.vZ)(_t,en.config))return en;throw _i.create("duplicate-app",{appName:Rt})}const bt=new z.H0(Rt);for(const dn of Yt.values())bt.addComponent(dn);const vn=new Jt(Ve,_t,bt);return gn.set(Rt,vn),vn}function hr(ye=Vi){const ce=gn.get(ye);if(!ce&&ye===Vi&&(0,se.aH)())return sn();if(!ce)throw _i.create("no-app",{appName:ye});return ce}function jt(){return Array.from(gn.values())}function Wn(ye){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,l.Z)(function*(ye){const ce=ye.name;gn.has(ce)&&(gn.delete(ce),yield Promise.all(ye.container.getProviders().map(Ve=>Ve.delete())),ye.isDeleted=!0)})).apply(this,arguments)}function Ti(ye,ce,Ve){var _t;let Rt=null!==(_t=Xi[ye])&&void 0!==_t?_t:ye;Ve&&(Rt+=`-${Ve}`);const en=Rt.match(/\s|\//),bt=ce.match(/\s|\//);if(en||bt){const vn=[`Unable to register library "${Rt}" with version "${ce}":`];return en&&vn.push(`library name "${Rt}" contains illegal characters (whitespace or "/")`),en&&bt&&vn.push("and"),bt&&vn.push(`version name "${ce}" contains illegal characters (whitespace or "/")`),void gi.warn(vn.join(" "))}qn(new z.wA(`${Rt}-version`,()=>({library:Rt,version:ce}),"VERSION"))}function Zn(ye,ce){if(null!==ye&&"function"!=typeof ye)throw _i.create("invalid-log-argument");(0,P.Am)(ye,ce)}function Ji(ye){(0,P.Ub)(ye)}const Ui="firebase-heartbeat-database",er=1,G="firebase-heartbeat-store";let $=null;function N(){return $||($=function Fe(ye,ce,{blocked:Ve,upgrade:_t,blocking:Rt,terminated:en}={}){const bt=indexedDB.open(ye,ce),vn=Ae(bt);return _t&&bt.addEventListener("upgradeneeded",dn=>{_t(Ae(bt.result),dn.oldVersion,dn.newVersion,Ae(bt.transaction),dn)}),Ve&&bt.addEventListener("blocked",dn=>Ve(dn.oldVersion,dn.newVersion,dn)),vn.then(dn=>{en&&dn.addEventListener("close",()=>en()),Rt&&dn.addEventListener("versionchange",Hi=>Rt(Hi.oldVersion,Hi.newVersion,Hi))}).catch(()=>{}),vn}(Ui,er,{upgrade:(ye,ce)=>{0===ce&&ye.createObjectStore(G)}}).catch(ye=>{throw _i.create("idb-open",{originalErrorMessage:ye.message})})),$}function O(){return(O=(0,l.Z)(function*(ye){try{return yield(yield N()).transaction(G).objectStore(G).get(st(ye))}catch(ce){if(ce instanceof se.ZR)gi.warn(ce.message);else{const Ve=_i.create("idb-get",{originalErrorMessage:ce?.message});gi.warn(Ve.message)}}})).apply(this,arguments)}function Q(ye,ce){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,l.Z)(function*(ye,ce){try{const _t=(yield N()).transaction(G,"readwrite");yield _t.objectStore(G).put(ce,st(ye)),yield _t.done}catch(Ve){if(Ve instanceof se.ZR)gi.warn(Ve.message);else{const _t=_i.create("idb-set",{originalErrorMessage:Ve?.message});gi.warn(_t.message)}}})).apply(this,arguments)}function st(ye){return`${ye.name}!${ye.options.appId}`}class Kt{constructor(ce){this.container=ce,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new zt(Ve),this._heartbeatsCachePromise=this._storage.read().then(_t=>(this._heartbeatsCache=_t,_t))}triggerHeartbeat(){var ce=this;return(0,l.Z)(function*(){const _t=ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rt=Ot();if(null===ce._heartbeatsCache&&(ce._heartbeatsCache=yield ce._heartbeatsCachePromise),ce._heartbeatsCache.lastSentHeartbeatDate!==Rt&&!ce._heartbeatsCache.heartbeats.some(en=>en.date===Rt))return ce._heartbeatsCache.heartbeats.push({date:Rt,agent:_t}),ce._heartbeatsCache.heartbeats=ce._heartbeatsCache.heartbeats.filter(en=>{const bt=new Date(en.date).valueOf();return Date.now()-bt<=2592e6}),ce._storage.overwrite(ce._heartbeatsCache)})()}getHeartbeatsHeader(){var ce=this;return(0,l.Z)(function*(){if(null===ce._heartbeatsCache&&(yield ce._heartbeatsCachePromise),null===ce._heartbeatsCache||0===ce._heartbeatsCache.heartbeats.length)return"";const Ve=Ot(),{heartbeatsToSend:_t,unsentEntries:Rt}=function Tn(ye,ce=1024){const Ve=[];let _t=ye.slice();for(const Rt of ye){const en=Ve.find(bt=>bt.agent===Rt.agent);if(en){if(en.dates.push(Rt.date),yi(Ve)>ce){en.dates.pop();break}}else if(Ve.push({agent:Rt.agent,dates:[Rt.date]}),yi(Ve)>ce){Ve.pop();break}_t=_t.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:_t}}(ce._heartbeatsCache.heartbeats),en=(0,se.L)(JSON.stringify({version:2,heartbeats:_t}));return ce._heartbeatsCache.lastSentHeartbeatDate=Ve,Rt.length>0?(ce._heartbeatsCache.heartbeats=Rt,yield ce._storage.overwrite(ce._heartbeatsCache)):(ce._heartbeatsCache.heartbeats=[],ce._storage.overwrite(ce._heartbeatsCache)),en})()}}function Ot(){return(new Date).toISOString().substring(0,10)}class zt{constructor(ce){this.app=ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ce=this;return(0,l.Z)(function*(){return(yield ce._canUseIndexedDBPromise)&&(yield function L(ye){return O.apply(this,arguments)}(ce.app))||{heartbeats:[]}})()}overwrite(ce){var Ve=this;return(0,l.Z)(function*(){var _t;if(yield Ve._canUseIndexedDBPromise){const en=yield Ve.read();return Q(Ve.app,{lastSentHeartbeatDate:null!==(_t=ce.lastSentHeartbeatDate)&&void 0!==_t?_t:en.lastSentHeartbeatDate,heartbeats:ce.heartbeats})}})()}add(ce){var Ve=this;return(0,l.Z)(function*(){var _t;if(yield Ve._canUseIndexedDBPromise){const en=yield Ve.read();return Q(Ve.app,{lastSentHeartbeatDate:null!==(_t=ce.lastSentHeartbeatDate)&&void 0!==_t?_t:en.lastSentHeartbeatDate,heartbeats:[...en.heartbeats,...ce.heartbeats]})}})()}}function yi(ye){return(0,se.L)(JSON.stringify({version:2,heartbeats:ye})).length}!function xo(ye){qn(new z.wA("platform-logger",ce=>new dt(ce),"PRIVATE")),qn(new z.wA("heartbeat",ce=>new Kt(ce),"PRIVATE")),Ti(ft,"0.9.13",ye),Ti(ft,"0.9.13","esm2017"),Ti("fire-js","")}("")},4859:(vt,Me,V)=>{V.d(Me,{H0:()=>be,wA:()=>P});var l=V(5861),z=V(2090);class P{constructor(Y,W,ie){this.name=Y,this.instanceFactory=W,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const se="[DEFAULT]";class fe{constructor(Y,W){this.name=Y,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const W=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(W)){const ie=new z.BH;if(this.instancesDeferred.set(W,ie),this.isInitialized(W)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:W});ze&&ie.resolve(ze)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(Y){var W;const ie=this.normalizeInstanceIdentifier(Y?.identifier),ze=null!==(W=Y?.optional)&&void 0!==W&&W;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(ke){if(ze)return null;throw ke}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function De(Ee){return"EAGER"===Ee.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[W,ie]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(W);try{const ke=this.getOrInitializeService({instanceIdentifier:ze});ie.resolve(ke)}catch{}}}}clearInstance(Y=se){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,l.Z)(function*(){const W=Array.from(Y.instances.values());yield Promise.all([...W.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...W.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=se){return this.instances.has(Y)}getOptions(Y=se){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:W={}}=Y,ie=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ie,options:W});for(const[ke,Qe]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(ke)&&Qe.resolve(ze);return ze}onInit(Y,W){var ie;const ze=this.normalizeInstanceIdentifier(W),ke=null!==(ie=this.onInitCallbacks.get(ze))&&void 0!==ie?ie:new Set;ke.add(Y),this.onInitCallbacks.set(ze,ke);const Qe=this.instances.get(ze);return Qe&&Y(Qe,ze),()=>{ke.delete(Y)}}invokeOnInitCallbacks(Y,W){const ie=this.onInitCallbacks.get(W);if(ie)for(const ze of ie)try{ze(Y,W)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:W={}}){let ie=this.instances.get(Y);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=Y,Ee===se?void 0:Ee),options:W}),this.instances.set(Y,ie),this.instancesOptions.set(Y,W),this.invokeOnInitCallbacks(ie,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,ie)}catch{}var Ee;return ie||null}normalizeInstanceIdentifier(Y=se){return this.component?this.component.multipleInstances?Y:se:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const W=this.getProvider(Y.name);if(W.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);W.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const W=new fe(Y,this);return this.providers.set(Y,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Me,V)=>{V.d(Me,{Am:()=>Ee,Ub:()=>be,Yd:()=>De,in:()=>z});const l=[];var z=(()=>{return(Y=z||(z={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",z;var Y})();const P={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},se=z.INFO,fe={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},re=(Y,W,...ie)=>{if(W<Y.logLevel)return;const ze=(new Date).toISOString(),ke=fe[W];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[ke](`[${ze}]  ${Y.name}:`,...ie)};class De{constructor(W){this.name=W,this._logLevel=se,this._logHandler=re,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in z))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?P[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...W),this._logHandler(this,z.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...W),this._logHandler(this,z.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,z.INFO,...W),this._logHandler(this,z.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,z.WARN,...W),this._logHandler(this,z.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...W),this._logHandler(this,z.ERROR,...W)}}function be(Y){l.forEach(W=>{W.setLogLevel(Y)})}function Ee(Y,W){for(const ie of l){let ze=null;W&&W.level&&(ze=P[W.level]),ie.userLogHandler=null===Y?null:(ke,Qe,...ut)=>{const we=ut.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch{return null}}).filter(Pe=>Pe).join(" ");Qe>=(ze??ke.logLevel)&&Y({level:z[Qe].toLowerCase(),message:we,args:ut,type:ke.name})}}}},259:(vt,Me,V)=>{V.d(Me,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=V(6881);(0,l.registerVersion)("firebase","9.23.0","app")},9260:(vt,Me,V)=>{V.d(Me,{Z:()=>l.Z});var l=V(3942);l.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(vt,Me,V)=>{V.r(Me);var l=V(5861),z=V(3942),P=V(1389),se=V(2090),De=(V(6881),V(1877),V(4859));function be(){return window}const Ee=2e3;function W(){return W=(0,l.Z)(function*(N,L,O){var Q;const{BuildInfo:Ie}=be();(0,P.as)(L.sessionId,"AuthEvent did not contain a session ID");const st=yield function Pe(N){return Le.apply(this,arguments)}(L.sessionId),Tt={};return(0,P.at)()?Tt.ibi=Ie.packageName:(0,P.au)()?Tt.apn=Ie.packageName:(0,P.av)(N,"operation-not-supported-in-this-environment"),Ie.displayName&&(Tt.appDisplayName=Ie.displayName),Tt.sessionId=st,(0,P.aw)(N,O,L.type,void 0,null!==(Q=L.eventId)&&void 0!==Q?Q:void 0,Tt)}),W.apply(this,arguments)}function ze(){return(ze=(0,l.Z)(function*(N){const{BuildInfo:L}=be(),O={};(0,P.at)()?O.iosBundleId=L.packageName:(0,P.au)()?O.androidPackageName=L.packageName:(0,P.av)(N,"operation-not-supported-in-this-environment"),yield(0,P.ax)(N,O)})).apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(N,L,O){const{cordova:Q}=be();let Ie=()=>{};try{yield new Promise((st,Tt)=>{let xt=null;function Kt(){var zt;st();const yi=null===(zt=Q.plugins.browsertab)||void 0===zt?void 0:zt.close;"function"==typeof yi&&yi(),"function"==typeof O?.close&&O.close()}function Ot(){xt||(xt=window.setTimeout(()=>{Tt((0,P.az)(N,"redirect-cancelled-by-user"))},Ee))}function Tn(){"visible"===document?.visibilityState&&Ot()}L.addPassiveListener(Kt),document.addEventListener("resume",Ot,!1),(0,P.au)()&&document.addEventListener("visibilitychange",Tn,!1),Ie=()=>{L.removePassiveListener(Kt),document.removeEventListener("resume",Ot,!1),document.removeEventListener("visibilitychange",Tn,!1),xt&&window.clearTimeout(xt)}})}finally{Ie()}})).apply(this,arguments)}function Le(){return(Le=(0,l.Z)(function*(N){const L=function He(N){if((0,P.as)(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(N);const L=new ArrayBuffer(N.length),O=new Uint8Array(L);for(let Q=0;Q<N.length;Q++)O[Q]=N.charCodeAt(Q);return O}(N),O=yield crypto.subtle.digest("SHA-256",L);return Array.from(new Uint8Array(O)).map(Ie=>Ie.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ae=20;class Te extends P.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(L)),super.onEvent(L)}initialized(){var L=this;return(0,l.Z)(function*(){yield L.initPromise})()}}function Be(N){return he.apply(this,arguments)}function he(){return(he=(0,l.Z)(function*(N){const L=yield dt()._get(Zt(N));return L&&(yield dt()._remove(Zt(N))),L})).apply(this,arguments)}function St(){const N=[],L="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<Ae;O++){const Q=Math.floor(Math.random()*L.length);N.push(L.charAt(Q))}return N.join("")}function dt(){return(0,P.aC)(P.b)}function Zt(N){return(0,P.aD)("authEvent",N.config.apiKey,N.name)}function gi(N){if(!N?.includes("?"))return{};const[L,...O]=N.split("?");return(0,se.zd)(O.join("?"))}const $r=class zr{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(L){var O=this;return(0,l.Z)(function*(){const Q=L._key();let Ie=O.eventManagers.get(Q);return Ie||(Ie=new Te(L),O.eventManagers.set(Q,Ie),O.attachCallbackListeners(L,Ie)),Ie})()}_openPopup(L){(0,P.av)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,O,Q,Ie){var st=this;return(0,l.Z)(function*(){!function we(N){var L,O,Q,Ie,st,Tt,xt,Kt,Ot,Tn;const zt=be();(0,P.aA)("function"==typeof(null===(L=zt?.universalLinks)||void 0===L?void 0:L.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aA)(typeof(null===(O=zt?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aA)("function"==typeof(null===(st=null===(Ie=null===(Q=zt?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===st?void 0:st.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(Kt=null===(xt=null===(Tt=zt?.cordova)||void 0===Tt?void 0:Tt.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===Kt?void 0:Kt.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(Tn=null===(Ot=zt?.cordova)||void 0===Ot?void 0:Ot.InAppBrowser)||void 0===Tn?void 0:Tn.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const Tt=yield st._initialize(L);yield Tt.initialized(),Tt.resetRedirect(),(0,P.aG)(),yield st._originValidation(L);const xt=function Fe(N,L,O=null){return{type:L,eventId:O,urlResponse:null,sessionId:St(),postBody:null,tenantId:N.tenantId,error:(0,P.az)(N,"no-auth-event")}}(L,Q,Ie);yield function $e(N,L){return dt()._set(Zt(N),L)}(L,xt);const Kt=yield function Y(N,L,O){return W.apply(this,arguments)}(L,xt,O),Ot=yield function ke(N){const{cordova:L}=be();return new Promise(O=>{L.plugins.browsertab.isAvailable(Q=>{let Ie=null;Q?L.plugins.browsertab.openUrl(N):Ie=L.InAppBrowser.open(N,(0,P.ay)()?"_blank":"_system","location=yes"),O(Ie)})})}(Kt);return function Qe(N,L,O){return ut.apply(this,arguments)}(L,Tt,Ot)})()}_isIframeWebStorageSupported(L,O){throw new Error("Method not implemented.")}_originValidation(L){const O=L._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function ie(N){return ze.apply(this,arguments)}(L)),this.originValidationPromises[O]}attachCallbackListeners(L,O){const{universalLinks:Q,handleOpenURL:Ie,BuildInfo:st}=be(),Tt=setTimeout((0,l.Z)(function*(){yield Be(L),O.onEvent(Wo())}),500),xt=function(){var Tn=(0,l.Z)(function*(zt){clearTimeout(Tt);const yi=yield Be(L);let xo=null;yi&&zt?.url&&(xo=function et(N,L){var O,Q;const Ie=function Co(N){const L=gi(N),O=L.link?decodeURIComponent(L.link):void 0,Q=gi(O).link,Ie=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return gi(Ie).link||Ie||Q||O||N}(L);if(Ie.includes("/__/auth/callback")){const st=gi(Ie),Tt=st.firebaseError?function ft(N){try{return JSON.parse(N)}catch{return null}}(decodeURIComponent(st.firebaseError)):null,xt=null===(Q=null===(O=Tt?.code)||void 0===O?void 0:O.split("auth/"))||void 0===Q?void 0:Q[1],Kt=xt?(0,P.az)(xt):null;return Kt?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:Ie,postBody:null}}return null}(yi,zt.url)),O.onEvent(xo||Wo())});return function(yi){return Tn.apply(this,arguments)}}();typeof Q<"u"&&"function"==typeof Q.subscribe&&Q.subscribe(null,xt);const Kt=Ie,Ot=`${st.packageName.toLowerCase()}://`;be().handleOpenURL=function(){var Tn=(0,l.Z)(function*(zt){if(zt.toLowerCase().startsWith(Ot)&&xt({url:zt}),"function"==typeof Kt)try{Kt(zt)}catch(yi){console.error(yi)}});return function(zt){return Tn.apply(this,arguments)}}()}};function Wo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.az)("no-auth-event")}}const _e=1e3;function Re(){var N;return(null===(N=self?.location)||void 0===N?void 0:N.protocol)||null}function ot(N=(0,se.z$)()){return!("file:"!==Re()&&"ionic:"!==Re()&&"capacitor:"!==Re()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function An(){try{const N=self.localStorage,L=P.aL();if(N)return N.setItem(L,"1"),N.removeItem(L),!function mn(N=(0,se.z$)()){return function _n(){return(0,se.w1)()&&11===document?.documentMode}()||function Mt(N=(0,se.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,se.hl)()}catch{return ti()&&(0,se.hl)()}return!1}function ti(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function on(){return(function xe(){return"http:"===Re()||"https:"===Re()}()||(0,se.ru)()||ot())&&!function rn(){return(0,se.b$)()||(0,se.UG)()}()&&An()&&!ti()}function Mn(){return ot()&&typeof document<"u"}function yn(){return(yn=(0,l.Z)(function*(){return!!Mn()&&new Promise(N=>{const L=setTimeout(()=>{N(!1)},_e);document.addEventListener("deviceready",()=>{clearTimeout(L),N(!0)})})})).apply(this,arguments)}const Un={LOCAL:"local",NONE:"none",SESSION:"session"},to=P.aA,Gn="persistence";function Xi(N){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(N){yield N._initializationPromise;const L=pt(),O=P.aD(Gn,N.config.apiKey,N.name);L&&L.setItem(O,N._getPersistence())})).apply(this,arguments)}function pt(){var N;try{return(null===(N=function ct(){return typeof window<"u"?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch{return null}}const Bt=P.aA;class qn{constructor(){this.browserResolver=P.aC(P.k),this.cordovaResolver=P.aC($r),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(L){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,O,Q,Ie){var st=this;return(0,l.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openPopup(L,O,Q,Ie)})()}_openRedirect(L,O,Q,Ie){var st=this;return(0,l.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openRedirect(L,O,Q,Ie)})()}_isIframeWebStorageSupported(L,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,O)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return Mn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,l.Z)(function*(){if(L.underlyingResolver)return;const O=yield function si(){return yn.apply(this,arguments)}();L.underlyingResolver=O?L.cordovaResolver:L.browserResolver})()}}function Si(N){return N.unwrap()}function dr(N){return _i(N)}function _i(N){const{_tokenResponse:L}=N instanceof se.ZR?N.customData:N;if(!L)return null;if(!(N instanceof se.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return P.P.credentialFromResult(N);const O=L.providerId;if(!O||O===P.p.PASSWORD)return null;let Q;switch(O){case P.p.GOOGLE:Q=P.V;break;case P.p.FACEBOOK:Q=P.U;break;case P.p.GITHUB:Q=P.W;break;case P.p.TWITTER:Q=P.Z;break;default:const{oauthIdToken:Ie,oauthAccessToken:st,oauthTokenSecret:Tt,pendingToken:xt,nonce:Kt}=L;return st||Tt||Ie||xt?xt?O.startsWith("saml.")?P.aO._create(O,xt):P.L._fromParams({providerId:O,signInMethod:O,pendingToken:xt,idToken:Ie,accessToken:st}):new P.X(O).credential({idToken:Ie,accessToken:st,rawNonce:Kt}):null}return N instanceof se.ZR?Q.credentialFromError(N):Q.credentialFromResult(N)}function Jt(N,L){return L.catch(O=>{throw O instanceof se.ZR&&function jn(N,L){var O;const Q=null===(O=L.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===L?.code)L.resolver=new hr(N,P.aq(N,L));else if(Q){const Ie=_i(L),st=L;Ie&&(st.credential=Ie,st.tenantId=Q.tenantId||void 0,st.email=Q.email||void 0,st.phoneNumber=Q.phoneNumber||void 0)}}(N,O),O}).then(O=>{const Ie=O.user;return{operationType:O.operationType,credential:dr(O),additionalUserInfo:P.ao(O),user:jt.getOrCreate(Ie)}})}function Mr(N,L){return sn.apply(this,arguments)}function sn(){return(sn=(0,l.Z)(function*(N,L){const O=yield L;return{verificationId:O.verificationId,confirm:Q=>Jt(N,O.confirm(Q))}})).apply(this,arguments)}class hr{constructor(L,O){this.resolver=O,this.auth=function Hn(N){return N.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return Jt(Si(this.auth),this.resolver.resolveSignIn(L))}}class jt{constructor(L){this._delegate=L,this.multiFactor=P.ar(L)}static getOrCreate(L){return jt.USER_MAP.has(L)||jt.USER_MAP.set(L,new jt(L)),jt.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var O=this;return(0,l.Z)(function*(){return Jt(O.auth,P.a0(O._delegate,L))})()}linkWithPhoneNumber(L,O){var Q=this;return(0,l.Z)(function*(){return Mr(Q.auth,P.l(Q._delegate,L,O))})()}linkWithPopup(L){var O=this;return(0,l.Z)(function*(){return Jt(O.auth,P.d(O._delegate,L,qn))})()}linkWithRedirect(L){var O=this;return(0,l.Z)(function*(){return yield Xi(P.aH(O.auth)),P.g(O._delegate,L,qn)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var O=this;return(0,l.Z)(function*(){return Jt(O.auth,P.a1(O._delegate,L))})()}reauthenticateWithPhoneNumber(L,O){return Mr(this.auth,P.r(this._delegate,L,O))}reauthenticateWithPopup(L){return Jt(this.auth,P.e(this._delegate,L,qn))}reauthenticateWithRedirect(L){var O=this;return(0,l.Z)(function*(){return yield Xi(P.aH(O.auth)),P.h(O._delegate,L,qn)})()}sendEmailVerification(L){return P.ae(this._delegate,L)}unlink(L){var O=this;return(0,l.Z)(function*(){return yield P.an(O._delegate,L),O})()}updateEmail(L){return P.aj(this._delegate,L)}updatePassword(L){return P.ak(this._delegate,L)}updatePhoneNumber(L){return P.u(this._delegate,L)}updateProfile(L){return P.ai(this._delegate,L)}verifyBeforeUpdateEmail(L,O){return P.af(this._delegate,L,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}jt.USER_MAP=new WeakMap;const Wn=P.aA;let Pn=(()=>{class N{constructor(O,Q){if(this.app=O,Q.isInitialized())return this._delegate=Q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ie}=O.options;Wn(Ie,"invalid-api-key",{appName:O.name}),Wn(Ie,"invalid-api-key",{appName:O.name});const st=typeof window<"u"?qn:void 0;this._delegate=Q.initialize({options:{persistence:Zn(Ie,O.name),popupRedirectResolver:st}}),this._delegate._updateErrorMap(P.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,Q){P.I(this._delegate,O,Q)}applyActionCode(O){return P.a5(this._delegate,O)}checkActionCode(O){return P.a6(this._delegate,O)}confirmPasswordReset(O,Q){return P.a4(this._delegate,O,Q)}createUserWithEmailAndPassword(O,Q){var Ie=this;return(0,l.Z)(function*(){return Jt(Ie._delegate,P.a8(Ie._delegate,O,Q))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return P.ad(this._delegate,O)}isSignInWithEmailLink(O){return P.ab(this._delegate,O)}getRedirectResult(){var O=this;return(0,l.Z)(function*(){Wn(on(),O._delegate,"operation-not-supported-in-this-environment");const Q=yield P.j(O._delegate,qn);return Q?Jt(O._delegate,Promise.resolve(Q)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function ae(N,L){(0,P.aH)(N)._logFramework(L)}(this._delegate,O)}onAuthStateChanged(O,Q,Ie){const{next:st,error:Tt,complete:xt}=Ti(O,Q,Ie);return this._delegate.onAuthStateChanged(st,Tt,xt)}onIdTokenChanged(O,Q,Ie){const{next:st,error:Tt,complete:xt}=Ti(O,Q,Ie);return this._delegate.onIdTokenChanged(st,Tt,xt)}sendSignInLinkToEmail(O,Q){return P.aa(this._delegate,O,Q)}sendPasswordResetEmail(O,Q){return P.a3(this._delegate,O,Q||void 0)}setPersistence(O){var Q=this;return(0,l.Z)(function*(){let Ie;switch(function Vi(N,L){to(Object.values(Un).includes(L),N,"invalid-persistence-type"),(0,se.b$)()?to(L!==Un.SESSION,N,"unsupported-persistence-type"):(0,se.UG)()?to(L===Un.NONE,N,"unsupported-persistence-type"):ti()?to(L===Un.NONE||L===Un.LOCAL&&(0,se.hl)(),N,"unsupported-persistence-type"):to(L===Un.NONE||An(),N,"unsupported-persistence-type")}(Q._delegate,O),O){case Un.SESSION:Ie=P.a;break;case Un.LOCAL:Ie=(yield P.aC(P.i)._isAvailable())?P.i:P.b;break;case Un.NONE:Ie=P.N;break;default:return P.av("argument-error",{appName:Q._delegate.name})}return Q._delegate.setPersistence(Ie)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return Jt(this._delegate,P._(this._delegate))}signInWithCredential(O){return Jt(this._delegate,P.$(this._delegate,O))}signInWithCustomToken(O){return Jt(this._delegate,P.a2(this._delegate,O))}signInWithEmailAndPassword(O,Q){return Jt(this._delegate,P.a9(this._delegate,O,Q))}signInWithEmailLink(O,Q){return Jt(this._delegate,P.ac(this._delegate,O,Q))}signInWithPhoneNumber(O,Q){return Mr(this._delegate,P.s(this._delegate,O,Q))}signInWithPopup(O){var Q=this;return(0,l.Z)(function*(){return Wn(on(),Q._delegate,"operation-not-supported-in-this-environment"),Jt(Q._delegate,P.c(Q._delegate,O,qn))})()}signInWithRedirect(O){var Q=this;return(0,l.Z)(function*(){return Wn(on(),Q._delegate,"operation-not-supported-in-this-environment"),yield Xi(Q._delegate),P.f(Q._delegate,O,qn)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return P.a7(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=Un,N})();function Ti(N,L,O){let Q=N;"function"!=typeof N&&({next:Q,error:L,complete:O}=N);const Ie=Q;return{next:Tt=>Ie(Tt&&jt.getOrCreate(Tt)),error:L,complete:O}}function Zn(N,L){const O=function Yt(N,L){const O=pt();if(!O)return[];const Q=P.aD(Gn,N,L);switch(O.getItem(Q)){case Un.NONE:return[P.N];case Un.LOCAL:return[P.i,P.a];case Un.SESSION:return[P.a];default:return[]}}(N,L);if(typeof self<"u"&&!O.includes(P.i)&&O.push(P.i),typeof window<"u")for(const Q of[P.b,P.a])O.includes(Q)||O.push(Q);return O.includes(P.N)||O.push(P.N),O}class Ji{constructor(){this.providerId="phone",this._delegate=new P.P(Si(z.Z.auth()))}static credential(L,O){return P.P.credential(L,O)}verifyPhoneNumber(L,O){return this._delegate.verifyPhoneNumber(L,O)}unwrap(){return this._delegate}}Ji.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Ji.PROVIDER_ID=P.P.PROVIDER_ID;const Ui=P.aA;class er{constructor(L,O,Q=z.Z.app()){var Ie;Ui(null===(Ie=Q.options)||void 0===Ie?void 0:Ie.apiKey,"invalid-api-key",{appName:Q.name}),this._delegate=new P.R(L,O,Q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $(N){N.INTERNAL.registerComponent(new De.wA("auth-compat",L=>{const O=L.getProvider("app-compat").getImmediate(),Q=L.getProvider("auth");return new Pn(O,Q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.Q,FacebookAuthProvider:P.U,GithubAuthProvider:P.W,GoogleAuthProvider:P.V,OAuthProvider:P.X,SAMLAuthProvider:P.Y,PhoneAuthProvider:Ji,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:er,TwitterAuthProvider:P.Z,Auth:Pn,AuthCredential:P.J,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.4.2")}(z.Z)},5861:(vt,Me,V)=>{function l(P,se,fe,re,De,be,Ee){try{var Y=P[be](Ee),W=Y.value}catch(ie){return void fe(ie)}Y.done?se(W):Promise.resolve(W).then(re,De)}function z(P){return function(){var se=this,fe=arguments;return new Promise(function(re,De){var be=P.apply(se,fe);function Ee(W){l(be,re,De,Ee,Y,"next",W)}function Y(W){l(be,re,De,Ee,Y,"throw",W)}Ee(void 0)})}}V.d(Me,{Z:()=>z})},7582:(vt,Me,V)=>{function se(ae,ee){var ue={};for(var _e in ae)Object.prototype.hasOwnProperty.call(ae,_e)&&ee.indexOf(_e)<0&&(ue[_e]=ae[_e]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(_e=Object.getOwnPropertySymbols(ae);Re<_e.length;Re++)ee.indexOf(_e[Re])<0&&Object.prototype.propertyIsEnumerable.call(ae,_e[Re])&&(ue[_e[Re]]=ae[_e[Re]])}return ue}function ie(ae,ee,ue,_e){return new(ue||(ue=Promise))(function(xe,ot){function rn(mn){try{Mt(_e.next(mn))}catch(An){ot(An)}}function _n(mn){try{Mt(_e.throw(mn))}catch(An){ot(An)}}function Mt(mn){mn.done?xe(mn.value):function Re(xe){return xe instanceof ue?xe:new ue(function(ot){ot(xe)})}(mn.value).then(rn,_n)}Mt((_e=_e.apply(ae,ee||[])).next())})}function Ae(ae){return this instanceof Ae?(this.v=ae,this):new Ae(ae)}function Te(ae,ee,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,_e=ue.apply(ae,ee||[]),xe=[];return Re=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),rn("next"),rn("throw"),rn("return",function ot(on){return function(Mn){return Promise.resolve(Mn).then(on,An)}}),Re[Symbol.asyncIterator]=function(){return this},Re;function rn(on,Mn){_e[on]&&(Re[on]=function(si){return new Promise(function(yn,ct){xe.push([on,si,yn,ct])>1||_n(on,si)})},Mn&&(Re[on]=Mn(Re[on])))}function _n(on,Mn){try{!function Mt(on){on.value instanceof Ae?Promise.resolve(on.value.v).then(mn,An):ti(xe[0][2],on)}(_e[on](Mn))}catch(si){ti(xe[0][3],si)}}function mn(on){_n("next",on)}function An(on){_n("throw",on)}function ti(on,Mn){on(Mn),xe.shift(),xe.length&&_n(xe[0][0],xe[0][1])}}function $e(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ee=ae[Symbol.asyncIterator];return ee?ee.call(ae):(ae=function ut(ae){var ee="function"==typeof Symbol&&Symbol.iterator,ue=ee&&ae[ee],_e=0;if(ue)return ue.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&_e>=ae.length&&(ae=void 0),{value:ae&&ae[_e++],done:!ae}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),ue={},_e("next"),_e("throw"),_e("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function _e(xe){ue[xe]=ae[xe]&&function(ot){return new Promise(function(rn,_n){!function Re(xe,ot,rn,_n){Promise.resolve(_n).then(function(Mt){xe({value:Mt,done:rn})},ot)}(rn,_n,(ot=ae[xe](ot)).done,ot.value)})}}}V.d(Me,{FC:()=>Te,KL:()=>$e,_T:()=>se,mG:()=>ie,qq:()=>Ae}),"function"==typeof SuppressedError&&SuppressedError}},vt=>{vt(vt.s=5805)}]);